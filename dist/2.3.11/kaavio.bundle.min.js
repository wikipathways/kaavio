!function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({"./index.js":[function(e,t,n){t.exports=e("./lib/main.js")},{"./lib/main.js":"/Users/andersriutta/Sites/kaavio/lib/main.js"}],"/Users/andersriutta/Sites/kaavio/lib/annotation-panel/annotation-panel.js":[function(e,t,n){(function(n){var r=e("insert-css"),i=e("spin.js");t.exports=function(){"use strict";function e(e,t){var n=e.$element.select(".annotation").data([t]),r=d3.behavior.drag().on("drag",function(e,t){var r=parseInt(n.style("right"),10),i=parseInt(n.style("top"),10);r-=d3.event.dx,i+=d3.event.dy,n.style("right",r+"px"),n.style("top",i+"px")}),o=n.select(".annotation-header-text").text(function(e){return e.header}),s=o[0][0].getBoundingClientRect().width,a=22;if(s>190)do a-=1,o.style("font-size",a+"px"),s=o[0][0].getBoundingClientRect().width;while(s>190||7>a);var u=(n.select("i.icon-move").on("mousedown",function(e,t){n.call(r)}).on("mouseup",function(e,t){n.on("mousedown.drag",null)}),n.select("i.icon-remove").on("click",function(e,t){n[0][0].style.visibility="hidden"}),n.select(".annotation-description").text(function(e){return e.description})),c=n.selectAll(".annotation-items-container-list").data(function(e){if(e.listItems[0])return[e.listItems];{var t=u.append("div").attr("id","annotation-panel-loading").style("height","100px")[0][0],n={lines:13,length:10,width:5,radius:15,corners:1,rotate:0,direction:1,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"};new i(n).spin(t)}return[{key:"clear",values:[{clear:"clear"}]}]}),l=c.selectAll("li").data(function(e){return e});l.enter().append("li"),l.exit().remove();var d=l.selectAll(".annotation-item-title").data(function(e){return[e.key]}).text(function(e){return e+": "});d.enter().append("span").attr("class","annotation-item-title").text(function(e){return e+": "}),d.exit().remove();var f=l.selectAll("span.annotation-item-text").data(function(e){return e.values.filter(function(e){return e.hasOwnProperty("uri")?void 0:e})}).text(function(e){return" "+e.text});f.enter().append("span").attr("class","annotation-item-text").text(function(e){return" "+e.text}),f.exit().remove();var h=l.selectAll("a.annotation-item-text").data(function(e){return e.values.filter(function(e){return e.hasOwnProperty("uri")?e:void 0})}).attr("class","annotation-item-text").text(function(e){return" "+e.text}).on("click",function(e){window.open(e.uri,"_blank")});h.enter().append("a").attr("class","annotation-item-text").text(function(e){return" "+e.text}).on("click",function(e){window.open(e.uri,"_blank")}),h.exit().remove(),n[0][0].style.visibility="visible"}var t=[n("LmFubm90YXRpb24gewogIGZvbnQtZmFtaWx5OiAiSGVsdmV0aWNhIE5ldWUiLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICByaWdodDogNzVweDsKICB0b3A6IDEwMHB4OwogIHZlcnRpY2FsLWFsaWduOiB0ZXh0LXRvcDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgbWFyZ2luOiAwOwogIHpvb206IDE7CiAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7CiAgYmFja2dyb3VuZDogI0Y5RjlGOTsKICB3aWR0aDogMjYwcHg7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMyksaW5zZXQgMCAxcHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTsKICAtbW96LWJveC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsMCwwLDAuMyksaW5zZXQgMCAxcHggMXB4IHJnYmEoMjU1LDI1NSwyNTUsMC44KTsKICBib3gtc2hhZG93OiAwIDFweCAzcHggcmdiYSgwLCAwLCAwLCAwLjMpLGluc2V0IDAgMXB4IDFweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7CiAgcGFkZGluZzogMTBweCA1cHggMCA1cHg7CiAgdmlzaWJpbGl0eTogaGlkZGVuOwogIHotaW5kZXg6IDk5OTk5OTsKfQoKaGVhZGVyLmFubm90YXRpb24taGVhZGVyIHsKICBmb250LXNpemU6IDIycHg7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgZm9udC1zdHlsZTogbm9ybWFsOwogIGNvbG9yOiAjMzMzOwogIGxldHRlci1zcGFjaW5nOiAuOHB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBwYWRkaW5nLWJvdHRvbTogMTBweDsKfQoKLmFubm90YXRpb24taGVhZGVyLXNlYXJjaCB7CiAgdmVydGljYWwtYWxpZ246IDEwJTsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7IC8qIHR3ZWFrcyBuZWVkZWQgZm9yIHdwICovCiAgLypmb250LXNpemU6IDYwJTsgIHR3ZWFrcyBuZWVkZWQgZm9yIHdwICovCn0KCi5hbm5vdGF0aW9uLWhlYWRlci1zZWFyY2g6aG92ZXIgewogIGN1cnNvcjogcG9pbnRlcjsKfQoKLmFubm90YXRpb24taGVhZGVyLWNsb3NlIHsKICBmbG9hdDogcmlnaHQ7CiAgcGFkZGluZzogMCA1cHggMCAwOwogIGNvbG9yOiNhYWE7Cn0KCi5hbm5vdGF0aW9uLWhlYWRlci1jbG9zZTpob3ZlciB7CiAgY3Vyc29yOiBwb2ludGVyOwp9CgouYW5ub3RhdGlvbi1oZWFkZXItbW92ZSB7CiAgZmxvYXQ6IGxlZnQ7CiAgcGFkZGluZzogMCAwIDAgNXB4OwogIGNvbG9yOiNhYWE7CiAgZm9udC1zaXplOiA4MCU7Cn0KCi5hbm5vdGF0aW9uLWhlYWRlci1tb3ZlOmhvdmVyIHsKICBjdXJzb3I6IG1vdmU7Cn0KCi5hbm5vdGF0aW9uLWRlc2NyaXB0aW9uIHsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgbWFyZ2luOiAwIDAgMCBhdXRvOwogIGZvbnQtc2l6ZTogMTRweDsKICBmb250LXN0eWxlOml0YWxpYzsKfQoKLmFubm90YXRpb24taXRlbXMtY29udGFpbmVyIHsKfQoKLmFubm90YXRpb24taXRlbXMtY29udGFpbmVyIDo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sgewogIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAwIDZweCByZ2JhKDAsMCwwLDAuMyk7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKfQoKLmFubm90YXRpb24taXRlbXMtY29udGFpbmVyIDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgewogIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgNnB4IHJnYmEoMCwwLDAsMC41KTsKfQoKLmFubm90YXRpb24taXRlbXMtY29udGFpbmVyIDo6LXdlYmtpdC1zY3JvbGxiYXIgewogIHdpZHRoOiAxMnB4Owp9CgouYW5ub3RhdGlvbi1pdGVtcy1jb250YWluZXIgdWwgewogIGxpbmUtaGVpZ2h0OiAxMjAlOwogIGxpc3Qtc3R5bGU6IG5vbmU7CiAgdGV4dC1hbGlnbjogbGVmdDsKICBwYWRkaW5nOiAwIDAgMCAxMHB4OwogIG1hcmdpbjogNXB4IC01cHggMTBweCAtNXB4OwogIG1heC1oZWlnaHQ6IDMwMHB4OwogIG1pbi1oZWlnaHQ6IDMwcHg7CiAgb3ZlcmZsb3cteTogYXV0bzsKICBvdmVyZmxvdy14OiBoaWRkZW47Cn0KCi5hbm5vdGF0aW9uLWl0ZW0gbGkgewogIHBhZGRpbmc6IDBweDsKICBkaXNwbGF5OiBibG9jazsKICBtYXJnaW46IDAgYXV0byAwIGF1dG87Cn0KCi5hbm5vdGF0aW9uLWRlc2NyaXB0aW9uIGgyIHsKICBmb250LXdlaWdodDogbm9ybWFsOwogIGZvbnQtdmFyaWFudDogbm9ybWFsOwogIGZvbnQtc3R5bGU6IGl0YWxpYzsKICBsaW5lLWhlaWdodDogMS41OwogIGZvbnQtc2l6ZTogMTRweDsKICBjb2xvcjogIzY5Njk2OTsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgcGFkZGluZy1ib3R0b206IDEwcHg7CiAgbWFyZ2luLXRvcDogMHB4OwogIG1hcmdpbi1ib3R0b206IDVweDsKICBib3JkZXItYm90dG9tOiAwcHg7CiAgem9vbTogMTsKfQoKLmFubm90YXRpb24taXRlbS10aXRsZSB7CiAgcGFkZGluZzogMHB4OwogIGZvbnQtc2l6ZTogMTBwdDsKICBkaXNwbGF5OiBpbmxpbmU7CiAgbWFyZ2luOiAwIGF1dG8gMCBhdXRvOwogIGNvbG9yOiAjNjk2OTY5OwogIGZvbnQtd2VpZ2h0OiBib2xkOwp9CgouYW5ub3RhdGlvbi1pdGVtLXRleHQgewogIHBhZGRpbmc6IDBweDsKICBkaXNwbGF5OiBpbmxpbmU7CiAgbWFyZ2luOiAwIDVweCAwIGF1dG87CiAgZm9udC1zaXplOiA5cHQ7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwp9CgphLmFubm90YXRpb24taXRlbS10ZXh0IHsKICBjb2xvcjogYmx1ZTsKfQoKLmFubm90YXRpb24taXRlbS10ZXh0OmhvdmVyIHsKICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi50b29sdGlwIHsKICBmb250LXNpemU6IDhwdDsKfQo=","base64")];return t.map(r),{render:e}}()}).call(this,e("buffer").Buffer)},{buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js","insert-css":"/Users/andersriutta/Sites/kaavio/node_modules/insert-css/index.js","spin.js":"/Users/andersriutta/Sites/kaavio/node_modules/spin.js/spin.js"}],"/Users/andersriutta/Sites/kaavio/lib/annotation-panel/entity-reference.js":[function(e,t,n){{var r=e("lodash"),i=e("./annotation-panel"),o=e("bridgedb"),s=e("./formatter"),a=e("highland");e("jsonld-rx")}t.exports=function(e){"use strict";function t(e,t){var n={identifier:e.label,isDataItemIn:{_isPrimary:!0}},r=t.id;return r&&(t.id=r,n.isDataItemIn.name="More information"),l.defaultsDeep(t,n),t}function n(e,t){var n={};if(n.header=e.label,n.description=e.description,n.listItems=[],r.isEmpty(t.isDataItemIn.name))return n;var i={text:t.identifier};return t.id&&(i.uri=t.id),n.listItems.push({key:t.isDataItemIn.name,values:[i]}),n}function u(o){var u,h=o.metadata,p=t(h,o.entityReference);u="CellularComponent"===h.description?p.id:h.label;var m={key:"Find other pathways containing",values:[{text:u,uri:d+u}]},v=r.flow(f.bind(void 0,m),i.render.bind(void 0,e)),b=r.flow(n.bind(void 0,h),v);if(b(p),p.id.indexOf("identifiers.org")>-1||p.id.indexOf("bridgedb.org")>-1){var g=h;p.id.indexOf("identifiers.org")>-1?g.id=p.id:p.id.indexOf("bridgedb.org")>-1&&(g.bridgedbUri=p.id),a(c.xref.get(g)).errors(function(e,t){console.error("err"),console.error(e)}).collect().flatMap(function(e){var t=r.find(e,function(e){return e.id===p.id})||p||e[0];return s.formatListForDisplay({inputStream:a(e),primaryResource:t,label:h.label,description:h.description})}).each(function(e){r.isEmpty(e.listItems)||v(e)})}else if(p.id){var y={"@context":e.sourceData.pvjson["@context"],"@graph":{entityReference:p.id}};l.expand(y).subscribe(function(e){var t,n="http://www.biopax.org/release/biopax-level3.owl#entityReference",r=e[0][n][0].id;if(r.indexOf("wikipathways")>-1&&r.search(/WP\d{1,5}(\_r\d+)?$/)>-1){var i=r.match(/WP\d{1,5}(\_r\d+)?$/)[0];t={header:h.label,description:h.description,listItems:[{key:"WikiPathways",values:[{text:i,uri:r}]}]}}else if(r.search(/GO:\d{7}$/)>-1){var o=r.match(/GO:\d{7}$/)[0];t={header:p.id,description:"",listItems:[{key:"GO Cellular Component Ontology",values:[{text:o,uri:r}]}]}}else t={header:h.label,description:h.description,listItems:[{key:p.isDataItemIn.name||"More information",values:[{text:r,uri:r}]}]};v(t)},function(e){throw e})}else document.querySelector(".annotation").style.visibility="hidden"}var c=new o({organism:e.sourceData.pvjson.organism}),l=e.jsonldRx,d="/index.php?title=Special:SearchPathways&doSearch=1&query=",f=function(e,t){return t.listItems.push(e),t};return{render:u}}},{"./annotation-panel":"/Users/andersriutta/Sites/kaavio/lib/annotation-panel/annotation-panel.js","./formatter":"/Users/andersriutta/Sites/kaavio/lib/annotation-panel/formatter.js",bridgedb:"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/index.js",highland:"/Users/andersriutta/Sites/kaavio/node_modules/highland/lib/index.js","jsonld-rx":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/index.js",lodash:"/Users/andersriutta/Sites/kaavio/node_modules/lodash/index.js"}],"/Users/andersriutta/Sites/kaavio/lib/annotation-panel/formatter.js":[function(e,t,n){var r=e("lodash"),i=e("highland"),o=function(){"use strict";function e(e){var n=(e.inputStream,e.primaryResource,e.label),r=e.description,i={header:n,description:r};return t(e).errors(function(e,t){return console.error(e),console.error("in xref._nestAll()"),i.listItems=["Missing identifier and/or db"],i}).map(function(e){return i.listItems=e,i})}function t(e){var t=e.inputStream,n=e.primaryResource;return t.errors(function(e,n){return console.log(e),console.log("in Formatter._nestAll()"),t}).map(function(e){var t=e.identifier,n={};n.title=e.db,n.text=t,n._isPrimary=e.isDataItemIn._isPrimary;var i=r([e.id]).concat(e["owl:sameAs"]).compact().filter(function(e){return e.indexOf("http")>-1}).last();return i&&(n.uri=i),n}).collect().map(function(e){return e.sort(function(e,t){if(e._isPrimary===t._isPrimary){var n=e.title.toLowerCase(),r=t.title.toLowerCase();return r>n?-1:n>r?1:0}return t._isPrimary-e._isPrimary})}).sequence().group("title").flatMap(i.pairs).reduce([],function(e,t){return e.push({key:t[0],values:t[1]}),e}).map(function(e){if(e=r.sortBy(e,function(e){}),0===e.length){var t="";n.hasOwnProperty("urlPattern")?t=n.urlPattern.replace("$id",n.identifier):n.id&&(t=n.id);var i={_isPrimary:!0,text:n.identifier,title:n.db};t&&(i.uri=t),e=[{key:n.db,values:[i]}]}else{var o=r.remove(e,function(e){return e.key===n.db})[0],s=r.remove(o.values,function(e){return e.text===n.identifier})[0];o.values.unshift(s),e.unshift(o)}return e})}return{formatListForDisplay:e}}();t.exports=o},{highland:"/Users/andersriutta/Sites/kaavio/node_modules/highland/lib/index.js",lodash:"/Users/andersriutta/Sites/kaavio/node_modules/lodash/index.js"}],"/Users/andersriutta/Sites/kaavio/lib/diagram-renderer/diagram-component.js":[function(e,t,n){function r(e){return e=e||event}function i(e,t,n){return n||(n=e.type+"Target"+t.replace(/(^.)/,function(e){return e.toUpperCase()})+"Source"),n}function o(e,t){return t in e?e[t]:e.getAttribute(t)}function s(e,t){var n=this;return a.flow(r,function(r){t=i(r,e,t);var s=r.target,a=o(s,e);n[t].onNext(a)})}var a=e("lodash"),u=e("./diagram-renderer.js"),c=e("../annotation-panel/entity-reference"),l=e("JSONStream"),d=e("mithril"),f=e("hyperquest"),h=e("resolve-url"),p=e("rx"),m=e("rx-node"),v={};v.Selection=function(e,t){var n=this;if(e=e||{},this.selector="#"+e.id,this.pvjsElement=e,this.id=e.id,e&&t){var r=t.groups;a.isEmpty(r.preset)||(this.previousHighlighting=a(r.preset).map(function(r){return a.zip(r.element,r.highlighting).map(function(e){var t=e[0],n=e[1];return{element:t,highlighting:n}}).filter(function(t){return t.element.id===e.id}).map(function(e){return a.bind(t.highlight,t,n.selector,"preset",e.highlighting)})}).flatten().first()),this.previousHighlighting||(this.previousHighlighting=a.bind(t.attenuate,t,n.selector,"selected"))}},v.vm=function(){var e={};return e.diagramRenderer=new u,e.init=function(t){var n=t.jsonldRx,r=new v.Selection;e.clickTargetIdSource=new p.Subject;var i=n.hierarchicalPartition(e.clickTargetIdSource,function(e){return e}),o=e.selectionHierarchy=n.hierarchicalPartition(i.mainSource.flatMap(function(e){return p.Observable.from(t.sourceData.pvjson.elements).find(function(t,n,r){return t.id===e})}),function(e){return e},i.resetSource);e.pvjsElementSource=o.mainSource,e.resetSource=o.resetSource,e.pvjsElementSource.subscribe(function(n){e.reset(),t.highlighter.highlight("#"+n.id,"selected",{backgroundColor:"white",borderColor:"green"}),r=new v.Selection(n,t.highlighter)}),e.resetSource.subscribe(function(){e.reset()}),t.annotationPanel={},t.annotationPanel.vm={},t.annotationPanel.vm.disabled=d.prop(!1),t.diagramComponent=v,t.on("error.renderer",function(){e.diagramRenderer.destroyRender(t,t.sourceData)}),t.on("rendered.renderer",function(){p.Observable.from(t.sourceData.pvjson.elements).filter(function(e){return e.bridgeDbDatasourceName&&e.identifier&&e.getSetEntityReference}).flatMap(function(e){return p.Observable.fromPromise(e.getSetEntityReference())}).filter(function(e){return e}).map(function(e){return t.sourceData.selector.addElement(e)}).toArray().subscribe(function(e){},function(e){throw e});var n=new c(t);e.pvjsElementSource.filter(function(e){return!t.annotationPanel.vm.disabled()}).filter(function(e){return e.bridgeDbDatasourceName&&e.identifier}).flatMap(function(e){return p.Observable.zipArray(p.Observable["return"](e),p.Observable.fromPromise(e.getSetEntityReference()))}).subscribe(function(e){var r=e[0],i=e[1],o=r.entityReference,s=t.sourceData.selector.filteredByXRef("id:"+o).getFirst();if(!s.isEmpty()&&s[0].xrefs&&s[0].xrefs.length){var a=s[0].xrefs.filter(function(e){return e.indexOf(!0)});a.length&&(o=a[0])}n.render({metadata:{label:r.textContent,description:(r.type||"").replace("biopax:","").replace("gpml:","")},entityReference:i})},function(e){throw e})}),e.footerState=t.kaavioComponent.vm.state.footer,e.destroy=function(){e.diagramRenderer.destroyRender(t,t.sourceData)},e.onunload=function(){e.reset()},e.reset=function(){document.querySelector(".annotation").style.visibility="hidden",r.previousHighlighting&&r.previousHighlighting(),r=new v.Selection}},e}(),v.controller=function(e){v.vm.init(e)},v.view=function(e,t){var n=this,r=n.vm;return d("div",{"class":"diagram-container footer-"+v.vm.footerState(),onclick:s.call(r,"id"),config:function(e,n){n||(d.startComputation(),t.on("rendered.renderer",function(){d.endComputation()}),t.diagramContainerElement=e,t.sourceData={pvjson:null,selector:null},p.Observable.from([t.options]).flatMap(function(e){var t=e.pvjson,n=e.src;if(t)return p.Observable.from([t]);if(n){var r=h(n);return m.fromReadableStream(f(r).pipe(l.parse())).toArray().map(function(e){return e[0]})}throw new Error('Missing or invalid source pvjson data. The input options require either a "src" property with a string value representing an IRI to a pvjson JSON resource or a "pvjson" property with a parsed JavaScript object representing a pvjson JSON resource.')}).subscribe(function(e){t.sourceData.pvjson=e,v.vm.diagramRenderer.render(t)},function(e){throw e},function(){}))}})},t.exports=v},{"../annotation-panel/entity-reference":"/Users/andersriutta/Sites/kaavio/lib/annotation-panel/entity-reference.js","./diagram-renderer.js":"/Users/andersriutta/Sites/kaavio/lib/diagram-renderer/diagram-renderer.js",JSONStream:"/Users/andersriutta/Sites/kaavio/node_modules/JSONStream/index.js",hyperquest:"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/index.js",lodash:"/Users/andersriutta/Sites/kaavio/node_modules/lodash/index.js",mithril:"/Users/andersriutta/Sites/kaavio/node_modules/mithril/mithril.js","resolve-url":"/Users/andersriutta/Sites/kaavio/node_modules/resolve-url/resolve-url.js",rx:"/Users/andersriutta/Sites/kaavio/node_modules/rx/dist/rx.all.js","rx-node":"/Users/andersriutta/Sites/kaavio/node_modules/rx-node/index.js"}],"/Users/andersriutta/Sites/kaavio/lib/diagram-renderer/diagram-renderer.js":[function(e,t,n){(function(n){var r=e("lodash"),i=(e("highland"),e("../highlighter/highlighter.js")),o=e("insert-css"),s=e("./renderer-svg"),a=e("./selector"),u=e("./info-box"),c=e("./publication-xref"),l=e("svg-pan-zoom"),d=[n("LnVpLWN5dG9zY2FwZS1wYW56b29tIHsKCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCXJpZ2h0OiA1MHB4OwoJdG9wOiA0NXB4OwoJZm9udC1mYW1pbHk6IGFyaWFsLCBoZWx2ZXRpY2EsIHNhbnMtc2VyaWY7CglsaW5lLWhlaWdodDogMTsKCWNvbG9yOiAjNjY2OwoJZm9udC1zaXplOiAxMXB4OwoJei1pbmRleDogOTk5OTk7Cn0KCi51aS1jeXRvc2NhcGUtcGFuem9vbS16b29tLWJ1dHRvbiB7CglwYWRkaW5nOiAzcHg7Cgl0ZXh0LWFsaWduOiBjZW50ZXI7Cglwb3NpdGlvbjogYWJzb2x1dGU7Cglib3JkZXItcmFkaXVzOiAzcHg7Cgl3aWR0aDogMTBweDsKCWhlaWdodDogMTBweDsKCWxlZnQ6IDE2cHg7CgliYWNrZ3JvdW5kOiAjZmZmOwoJYm9yZGVyOiAxcHggc29saWQgIzk5OTsKCW1hcmdpbi1sZWZ0OiAtMXB4OwoJbWFyZ2luLXRvcDogLTFweDsKCXotaW5kZXg6IDE7Cglib3gtc2hhZG93OiAwIDFweCA0cHggcmdiYSgwLCAwLCAwLCAgMC41KTsKfQoKLnVpLWN5dG9zY2FwZS1wYW56b29tLXpvb20tYnV0dG9uOmFjdGl2ZSwKLnVpLWN5dG9zY2FwZS1wYW56b29tLXNsaWRlci1oYW5kbGU6YWN0aXZlLAoudWktY3l0b3NjYXBlLXBhbnpvb20tc2xpZGVyLWhhbmRsZS5hY3RpdmUgewoJYmFja2dyb3VuZDogI2RkZDsKfQoKLnVpLWN5dG9zY2FwZS1wYW56b29tLXBhbi1idXR0b24gewoJcG9zaXRpb246IGFic29sdXRlOwoJei1pbmRleDogMTsKCWhlaWdodDogMTZweDsKCXdpZHRoOiAxNnB4Owp9CgoudWktY3l0b3NjYXBlLXBhbnpvb20tcmVzZXQgewoJdG9wOiA1NXB4Owp9CgoudWktY3l0b3NjYXBlLXBhbnpvb20tem9vbS1pbiB7Cgl0b3A6IDgwcHg7Cn0KCi51aS1jeXRvc2NhcGUtcGFuem9vbS16b29tLW91dCB7Cgl0b3A6IDE5N3B4Owp9CgoudWktY3l0b3NjYXBlLXBhbnpvb20tcGFuLXVwIHsKCXRvcDogMDsKCWxlZnQ6IDUwJTsKCW1hcmdpbi1sZWZ0OiAtNXB4OwoJd2lkdGg6IDA7CgloZWlnaHQ6IDA7Cglib3JkZXItbGVmdDogNXB4IHNvbGlkIHRyYW5zcGFyZW50OwoJYm9yZGVyLXJpZ2h0OiA1cHggc29saWQgdHJhbnNwYXJlbnQ7Cglib3JkZXItYm90dG9tOiA1cHggc29saWQgIzY2NjsKfQoKLnVpLWN5dG9zY2FwZS1wYW56b29tLXBhbi1kb3duIHsKCWJvdHRvbTogMDsKCWxlZnQ6IDUwJTsKCW1hcmdpbi1sZWZ0OiAtNXB4OwoJd2lkdGg6IDA7CgloZWlnaHQ6IDA7Cglib3JkZXItbGVmdDogNXB4IHNvbGlkIHRyYW5zcGFyZW50OwoJYm9yZGVyLXJpZ2h0OiA1cHggc29saWQgdHJhbnNwYXJlbnQ7Cglib3JkZXItdG9wOiA1cHggc29saWQgIzY2NjsKfQoKLnVpLWN5dG9zY2FwZS1wYW56b29tLXBhbi1sZWZ0IHsKCXRvcDogNTAlOwoJbGVmdDogMDsKCW1hcmdpbi10b3A6IC01cHg7Cgl3aWR0aDogMDsKCWhlaWdodDogMDsKCWJvcmRlci10b3A6IDVweCBzb2xpZCB0cmFuc3BhcmVudDsKCWJvcmRlci1ib3R0b206IDVweCBzb2xpZCB0cmFuc3BhcmVudDsKCWJvcmRlci1yaWdodDogNXB4IHNvbGlkICM2NjY7Cn0KCi51aS1jeXRvc2NhcGUtcGFuem9vbS1wYW4tcmlnaHQgewoJdG9wOiA1MCU7CglyaWdodDogMDsKCW1hcmdpbi10b3A6IC01cHg7Cgl3aWR0aDogMDsKCWhlaWdodDogMDsKCWJvcmRlci10b3A6IDVweCBzb2xpZCB0cmFuc3BhcmVudDsKCWJvcmRlci1ib3R0b206IDVweCBzb2xpZCB0cmFuc3BhcmVudDsKCWJvcmRlci1sZWZ0OiA1cHggc29saWQgIzY2NjsKfQoKLnVpLWN5dG9zY2FwZS1wYW56b29tLXBhbi1pbmRpY2F0b3IgewoJcG9zaXRpb246IGFic29sdXRlOwoJbGVmdDogMDsKCXRvcDogMDsKCXdpZHRoOiA4cHg7CgloZWlnaHQ6IDhweDsKCWJvcmRlci1yYWRpdXM6IDhweDsKCWJhY2tncm91bmQ6ICMwMDA7Cglib3JkZXItcmFkaXVzOiA4cHg7CgltYXJnaW4tbGVmdDogLTVweDsKCW1hcmdpbi10b3A6IC01cHg7CglkaXNwbGF5OiBub25lOwoJei1pbmRleDogOTk5OwoJb3BhY2l0eTogMC42Owp9CgoudWktY3l0b3NjYXBlLXBhbnpvb20tc2xpZGVyIHsKCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCXRvcDogOTdweDsKCWxlZnQ6IDE3cHg7CgloZWlnaHQ6IDEwMHB4OwoJd2lkdGg6IDE1cHg7Cn0KCi51aS1jeXRvc2NhcGUtcGFuem9vbS1zbGlkZXItYmFja2dyb3VuZCB7Cglwb3NpdGlvbjogYWJzb2x1dGU7Cgl0b3A6IDA7Cgl3aWR0aDogMnB4OwoJaGVpZ2h0OiAxMDBweDsKCWxlZnQ6IDVweDsKCWJhY2tncm91bmQ6ICNmZmY7Cglib3gtc2hhZG93OiAwIDAgMXB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMjUpOwoJYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjOTk5OwoJYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgIzk5OTsKfQoKLnVpLWN5dG9zY2FwZS1wYW56b29tLXNsaWRlci1oYW5kbGUgewoJcG9zaXRpb246IGFic29sdXRlOwoJd2lkdGg6IDE2cHg7CgloZWlnaHQ6IDhweDsKCWJhY2tncm91bmQ6ICNmZmY7Cglib3JkZXI6IDFweCBzb2xpZCAjOTk5OwoJYm9yZGVyLXJhZGl1czogMnB4OwoJbWFyZ2luLWxlZnQ6IC0ycHg7Cglib3gtc2hhZG93OiAwIDFweCA0cHggcmdiYSgwLCAwLCAwLCAgMC41KTsKCXotaW5kZXg6IDk5OTsKCWxpbmUtaGVpZ2h0OiA4cHg7Cn0KCi51aS1jeXRvc2NhcGUtcGFuem9vbS1zbGlkZXItaGFuZGxlIC5pY29uIHsKCW1hcmdpbjogMCA0cHg7CglsaW5lLWhlaWdodDogMTBweDsKfQoKLnVpLWN5dG9zY2FwZS1wYW56b29tLW5vLXpvb20tdGljayB7Cglwb3NpdGlvbjogYWJzb2x1dGU7CgliYWNrZ3JvdW5kOiAjNjY2OwoJYm9yZGVyOiAxcHggc29saWQgI2ZmZjsKCWJvcmRlci1yYWRpdXM6IDJweDsKCW1hcmdpbi1sZWZ0OiAtMXB4OwoJd2lkdGg6IDhweDsKCWhlaWdodDogMnB4OwoJbGVmdDogM3B4OwoJei1pbmRleDogMTsKCW1hcmdpbi10b3A6IDNweDsKfQoKLnVpLWN5dG9zY2FwZS1wYW56b29tLXBhbm5lciB7Cglwb3NpdGlvbjogYWJzb2x1dGU7CglsZWZ0OiA1cHg7Cgl0b3A6IDVweDsKCWhlaWdodDogNDBweDsKCXdpZHRoOiA0MHB4OwoJYmFja2dyb3VuZDogI2ZmZjsKCWJvcmRlcjogMXB4IHNvbGlkICM5OTk7Cglib3gtc2hhZG93OiAwIDFweCA0cHggcmdiYSgwLCAwLCAwLCAgMC41KTsKCWJvcmRlci1yYWRpdXM6IDQwcHg7CgltYXJnaW4tbGVmdDogLTFweDsKfQoKLnVpLWN5dG9zY2FwZS1wYW56b29tLXBhbm5lci1oYW5kbGUgewoJcG9zaXRpb246IGFic29sdXRlOwoJbGVmdDogMDsKCXRvcDogMDsKCW91dGxpbmU6IG5vbmU7CgloZWlnaHQ6IDQwcHg7Cgl3aWR0aDogNDBweDsKCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCXotaW5kZXg6IDk5OTsKfQoKLnBhbi16b29tLWNvbnRyb2wtaWNvbiB7CiAgZGlzcGxheTogYmxvY2s7CiAgcGFkZGluZzogNHB4Owp9CgoucGFuLXpvb20tY29udHJvbHMgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgbWFyZ2luLWxlZnQ6IGF1dG87CiAgbWFyZ2luLXJpZ2h0OiBhdXRvOwogIGJvdHRvbTogNXB4OwogIHJpZ2h0OiA1cHg7Cn0K","base64")];t.exports=function(){function e(e,t){return!0}function t(e){var t=e.sourceData,n=s.init(e);t.selector=a.init(e.sourceData.pvjson.elements,n);var o=e.containerElement;e.diagramContainerElement=e.diagramContainerElement||o.querySelector(".diagram-container");var d=e.diagramContainerElement,f=e.$element.select("g.viewport");u.render(f,e.sourceData.pvjson);var h=e.sourceData.pvjson.elements.filter(function(e){return!!e.xrefs});h.length>0&&h.forEach(function(t){c.render(e,f,t)});var p=d3.select("#kaavio-diagram-"+e.instanceId),m=p[0][0],v=l(m,{controlIconsEnabled:!0,fit:!0,center:!0,minZoom:.1,maxZoom:20,zoomEnabled:!1,onZoom:function(t){e.trigger("zoomed.renderer",t)},onPan:function(t){e.trigger("panned.renderer",t)}}),b=!1;p.on("click",function(e,t){v.enableZoom(),b=!0}).on("mouseenter mousemove",function(e,t){b&&v.enableZoom()}).on("mouseleave",function(e,t){b&&(v.disableZoom(),b=!1)}),e.panZoom=v,e.panZoom.resizeDiagram=function(){m.setAttribute("width",d.clientWidth),m.setAttribute("height",d.clientHeight),v.updateBBox(),v.resize(),v.fit(),v.center()};var g=e.highlighter=new i(e,e.options),y=e.options.highlights;y&&0!==y.length&&y.map(function(t){var n=t.selector,i=r.isString(n)&&n.match(/xref:id:(.*)\,(.*)/);if(i){var o=(i[2],i[1]),s=e.sourceData.pvjson.elements.filter(function(e){var t=new RegExp("^http://.*"+o+".*");return e.id&&t.test(e.id)}).map(function(e){return e.id})[0];t.selector="xref:id:"+s}return t}).forEach(function(e){g.highlight(e.selector,"preset",e)}),e.sourceData.pvjson.elements.filter(function(e){return!e.previousHighlighting}).filter(function(e){return e.entityReference}).map(function(e){return e.previousHighlighting||(e.previousHighlighting=r.bind(g.attenuate,g,e.entityReferenceId,"selected")),e}),window.setTimeout(function(){e.panZoom.resizeDiagram(),e.trigger("rendered.renderer"),window.setTimeout(function(){e.panZoom.resizeDiagram()},1e3)},300)}return d.map(o),{destroyRender:e,render:t}}}).call(this,e("buffer").Buffer)},{"../highlighter/highlighter.js":"/Users/andersriutta/Sites/kaavio/lib/highlighter/highlighter.js","./info-box":"/Users/andersriutta/Sites/kaavio/lib/diagram-renderer/info-box.js","./publication-xref":"/Users/andersriutta/Sites/kaavio/lib/diagram-renderer/publication-xref.js","./renderer-svg":"/Users/andersriutta/Sites/kaavio/lib/diagram-renderer/renderer-svg.js","./selector":"/Users/andersriutta/Sites/kaavio/lib/diagram-renderer/selector.js",buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js",highland:"/Users/andersriutta/Sites/kaavio/node_modules/highland/lib/index.js","insert-css":"/Users/andersriutta/Sites/kaavio/node_modules/insert-css/index.js",lodash:"/Users/andersriutta/Sites/kaavio/node_modules/lodash/index.js","svg-pan-zoom":"/Users/andersriutta/Sites/kaavio/node_modules/svg-pan-zoom/src/browserify.js"}],"/Users/andersriutta/Sites/kaavio/lib/diagram-renderer/info-box.js":[function(e,t,n){"use strict";t.exports={render:function(e,t){if(!e||!t)return console.warn("Error: Missing input parameters.");var n=[];t.hasOwnProperty("displayName")&&n.push({key:"Title",value:t.displayName}),t.hasOwnProperty("License")&&n.push({key:"Availability",value:t.License}),t.hasOwnProperty("LastModified")&&n.push({key:"Last modified",value:t.LastModified}),t.hasOwnProperty("organism")&&n.push({key:"Organism",value:t.organism});{var r=e.selectAll("g.info-box").data([n]).enter().append("g").attr("id",function(e,t){return"info-box-"+t}).attr("class","text-area info-box"),i=r.selectAll("text").data(function(e){return e}).enter().append("text").attr("id",function(e,t){return"info-box-text"+t}).attr("class","item").attr("x",0).attr("y",function(e,t){return 14+14*t});i.append("tspan").attr("class","info-box-item-property-name").text(function(e){return e.key+": "}),i.append("tspan").attr("class","info-box-item-property-value").text(function(e){return e.value})}}}},{}],"/Users/andersriutta/Sites/kaavio/lib/diagram-renderer/publication-xref.js":[function(e,t,n){var r=e("../utils");t.exports={getReferenceNumberForDisplay:function(e,t){var n,r=e.sourceData.pvjson,i=r.elements.filter(function(e){return t===e.id&&"PublicationXref"===e.type});return i&&i.length>0&&(n=i[0].displayName),n},createPublicationXrefString:function(e){var t;if(1===e.length)t=e[0];else{e.sort(function(e,t){return e-t});var n=0;if(t=e[n].toString(),e.length>2)do n+=1,(e[n-1]+1!==e[n]||e[n]+1!==e[n+1])&&(t+=1!==n&&e[n-2]+2===e[n]?"-"+e[n].toString():", "+e[n].toString());while(n<e.length-2);n+=1,t+=e[n-2]+2===e[n]?"-"+e[n].toString():", "+e[n].toString()}return t},getPublicationXrefString:function(e,t,n){var i=this,o=(e.sourceData.pvjson,[]),s="";t=r.convertToArray(t),t.forEach(function(t){var n=i.getReferenceNumberForDisplay(e,t);"undefined"!=typeof n&&null!==n&&o.push(n)}),o.length>0&&(s=this.createPublicationXrefString(o)),n(s)},render:function(e,t,n){var r,i,o;o=n.hasOwnProperty("points")?"edge":"node";this.getPublicationXrefString(e,n.xrefs,function(e){var s=e.toString().length;if("node"===o){var a=n.width,u=a-3*s/2-2;r=n.x+u||0,i=n.y-4||0,t.append("text").attr("class","citation").attr("transform",function(e){return"translate("+r+" "+i+")"}).text(e)}else{if("edge"!==o)throw new Error("Pvjs cannot render a citation for targets of this type: "+o);{d3.select("#"+n.id)[0][0]}}})}}},{"../utils":"/Users/andersriutta/Sites/kaavio/lib/utils.js"}],"/Users/andersriutta/Sites/kaavio/lib/diagram-renderer/renderer-prototype.js":[function(e,t,n){var r={init:function(){return this},addElement:function(){},updateElement:function(){},removeElement:function(){},getElementStyle:function(){},setElementStyle:function(){},getElementBBox:function(){}};t.exports=r},{}],"/Users/andersriutta/Sites/kaavio/lib/diagram-renderer/renderer-svg.js":[function(e,t,n){(function(n){function r(e){var t,r=e.$svg.select("defs");e.kaavio.options.cssUri?d3.text(e.kaavio.options.cssUri,"text/css",function(e){r.append("style").attr("type","text/css").text(e)}):(t=n("ICAuZGlhZ3JhbS1jb250YWluZXIgewogICAgd2lkdGg6IGluaGVyaXQ7CiAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDBweCk7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAvKiBUbyBhdm9pZCBjb3ZlcmluZyB1cCB0aGUgcmVzaXplIGhhbmRsZSAoZ3JhYiBhcmVhKSAqLwogICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDFlbSAxZW07CiAgICBvdmVyZmxvdzogaGlkZGVuOwogIH0KCiAgLmRpYWdyYW0tY29udGFpbmVyLmZvb3Rlci1vcGVuIHsKICAgIGhlaWdodDogY2FsYygxMDAlIC0gMTEzcHgpOwogIH0KCglzdmcgewoJCWNvbG9yLWludGVycG9sYXRpb246IGF1dG87CgkJaW1hZ2UtcmVuZGVyaW5nOiBhdXRvOwoJCXNoYXBlLXJlbmRlcmluZzogYXV0bzsKCQl2ZWN0b3ItZWZmZWN0OiBub24tc2NhbGluZy1zdHJva2U7CiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKCS8qIHJlbW92ZWQgZmlsbCBhbmQgc3Ryb2tlIHNpbmNlIHRoZXkgb3ZlcnJpZGUgbWFya2VyIHNwZWNzICovCgkvKglmaWxsOiB3aGl0ZTsKICAgIAkJc3Ryb2tlOiBibGFjazsgKi8KCX0KCgkvKiBkZWZhdWx0IGNvbG9yIGZvciBwYXRod2F5IGVsZW1lbnRzICovCgkuZGVmYXVsdC1maWxsLWNvbG9yIHsKCQlmaWxsOiBibGFjazsKCX0KCS5kZWZhdWx0LXN0cm9rZS1jb2xvciB7CgkJc3Ryb2tlOiBibGFjazsKCX0KCgkvKiBkZWZhdWx0IGNvbG9yIG9mIHRoZSBiYWNrZ3JvdW5kIGRyYXdpbmcgYm9hcmQgKi8KCS5ib2FyZC1maWxsLWNvbG9yIHsKCQlmaWxsOiB3aGl0ZTsKCX0KCS5ib2FyZC1zdHJva2UtY29sb3IgewoJCXN0cm9rZTogd2hpdGU7Cgl9CgoJLnRleHQtYXJlYSB7CgkJZm9udC1mYW1pbHk6IFNhbnMtU2VyaWYsIEhlbHZldGljYSwgQXJpYWw7CgkJdGV4dC1hbGlnbjogY2VudGVyOwoJCXZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CgkJZm9udC1zaXplOiAxMHB4OwoJCWZpbGw6IGJsYWNrOwoJCWZpbGwtb3BhY2l0eTogMTsKCQlzdHJva2U6IG5vbmU7Cgl9CgoJLmNpdGF0aW9uIHsKCQlmb250LWZhbWlseTogU2Fucy1TZXJpZiwgSGVsdmV0aWNhLCBBcmlhbDsKCQl0ZXh0LWFsaWduOiBjZW50ZXI7CgkJdmVydGljYWwtYWxpZ246IHRvcDsKCQlmb250LXNpemU6IDdweDsKCQlmaWxsOiAjOTk5OTk5OwoJCWZpbGwtb3BhY2l0eTogMTsKCQlzdHJva2U6IG5vbmU7Cgl9CgoJLmluZm8tYm94IHsKCQlmb250LWZhbWlseTogU2Fucy1TZXJpZjsKCQlmb250LXNpemU6IDEwcHg7CgkJZmlsbDogYmxhY2s7CgkJc3Ryb2tlOiBub25lOwoJCXRleHQtYWxpZ246IGxlZnQ7CgkJdmVydGljYWwtYWxpZ246IHRvcDsKCX0KCgkuaW5mby1ib3gtaXRlbS1wcm9wZXJ0eS1uYW1lIHsKCQlmb250LXdlaWdodDogYm9sZDsKCX0KCgkuaW5mby1ib3gtaXRlbS1wcm9wZXJ0eS12YWx1ZSB7Cgl9CgoJLmRhdGEtbm9kZSB7CgkJdGV4dC1hbGlnbjogcmlnaHQ7CgkJZmlsbC1vcGFjaXR5OiAxOwoJCWZpbGw6IHdoaXRlOwoJCXN0cm9rZTogYmxhY2s7CgkJc3Ryb2tlLXdpZHRoOiAxOwoJCXN0cm9rZS1kYXNoYXJyYXk6IDA7CgkJc3Ryb2tlLW1pdGVybGltaXQ6IDE7CiAgICAJCXBvaW50ZXItZXZlbnRzOmF1dG87Cgl9CgkuZGF0YS1ub2RlOmhvdmVyIHsKCSAJY3Vyc29yOiBwb2ludGVyOwoJfQoKCS5oYXMteHJlZjpob3ZlciB7CgkJY3Vyc29yOiBwb2ludGVyOwoJfQoKCS5kYXRhLW5vZGUuZ2VuZS1wcm9kdWN0IHsKCX0KCgkubWV0YWJvbGl0ZSB7CgkJc3Ryb2tlOiBibHVlOwoJfQoKCS5kYXRhLW5vZGUubWV0YWJvbGl0ZSA+IC50ZXh0LWFyZWEgewoJCWZpbGw6IGJsdWU7CgkJZmlsbC1vcGFjaXR5OiAxOwoJCXN0cm9rZTogbm9uZTsKCX0KCgkuZGF0YS1ub2RlLnBhdGh3YXkgewoJCXN0cm9rZTogbm9uZTsKCQlmaWxsLW9wYWNpdHk6IDA7Cgl9CgoJLmRhdGEtbm9kZS5wYXRod2F5ID4gLnRleHQtYXJlYSB7CgkJZmlsbDogcmdiKDIwLDE1MCwzMCk7CgkJZmlsbC1vcGFjaXR5OiAxOwoJCWZvbnQtc2l6ZTogMTJweDsKCQlmb250LXdlaWdodDogYm9sZDsKCX0KCgkuZGF0YS1ub2RlLnByb3RlaW4gewoJfQoKCS5kYXRhLW5vZGUucm5hIHsKCX0KCgkuZGF0YS1ub2RlLnVua25vd24gewoJfQoKCS5sYWJlbCB7CgkJc3Ryb2tlOiBudWxsOwoJCXN0cm9rZS13aWR0aDogMDsKCQlmaWxsLW9wYWNpdHk6IDA7CgkJc3Ryb2tlLWRhc2hhcnJheTogMDsKCQlzdHJva2UtbWl0ZXJsaW1pdDogMTsKCX0KCgkuc2hhcGUgewoJCWZpbGwtb3BhY2l0eTogMDsKCQlzdHJva2U6IGJsYWNrOwoJCXN0cm9rZS1kYXNoYXJyYXk6IDA7CgkJc3Ryb2tlLW1pdGVybGltaXQ6IDE7Cgl9CgoJLnNoYXBlLm5vbmUgewoJCWZpbGw6IG5vbmU7CgkJZmlsbC1vcGFjaXR5OiAwOwoJCXN0cm9rZTogbm9uZTsKCX0KCglnLmdyb3VwLW5vZGUgPiAuc2hhcGUgewoJCWZpbGwtb3BhY2l0eTogMC4wOTg7CgkJc3Ryb2tlOiBncmF5OwoJCXN0cm9rZS1taXRlcmxpbWl0OiAxOwoJCXN0cm9rZS13aWR0aDogMXB4OwogICAgCQlwb2ludGVyLWV2ZW50czpub25lOwoJfQoKCS5ncm91cC1ub2RlIHsKCQlmaWxsLW9wYWNpdHk6IDAuMDk4OwoJCXN0cm9rZTogZ3JheTsKCQlzdHJva2UtbWl0ZXJsaW1pdDogMTsKCQlzdHJva2Utd2lkdGg6IDFweDsKICAgIAkJcG9pbnRlci1ldmVudHM6bm9uZTsKCX0KCgkuZ3JvdXAtbm9kZSA+IC50ZXh0LWFyZWEgewoJCWZpbGwtb3BhY2l0eTogMC40OwoJCWZvbnQtZmFtaWx5OiBTZXJpZiwgVGltZXM7CgkJZm9udC1zaXplOiAzMnB4OwoJCWZpbGw6IGJsYWNrOwoJCXN0cm9rZS13aWR0aDogMDsKCQlmb250LXdlaWdodDogYm9sZDsKICAJfQoKCS5ncm91cC1ub2RlLm5vbmUgewoJCWZpbGw6IHJnYigxODAsMTgwLDEwMCk7CgkJc3Ryb2tlLWRhc2hhcnJheTogNSwzOwoJfQoKCS5ncm91cC1ub2RlLm5vbmUgPiAudGV4dC1hcmVhIHsKCQlkaXNwbGF5OiBub25lOwogIAl9CgoJLyouZ3JvdXAtbm9kZS5ub25lOmhvdmVyIHsKCQlmaWxsOiByZ2IoMjU1LDE4MCwxMDApOwoJCWZpbGwtb3BhY2l0eTogMC4wNTsKCX0qLwoKCS5ncm91cC1ub2RlLmdyb3VwIHsKCQlmaWxsLW9wYWNpdHk6IDA7CgkJc3Ryb2tlOiBub25lOwoJfQoKCS5ncm91cC1ub2RlLmdyb3VwID4gLnRleHQtYXJlYSB7CgkJZGlzcGxheTogbm9uZTsKICAJfQoJLyouZ3JvdXAtbm9kZS5ncm91cDpob3ZlciB7CgkJZmlsbDogcmdiKDAsMCwyNTUpOwoJCXN0cm9rZS13aWR0aDogMXB4OwoJCXN0cm9rZS1kYXNoYXJyYXk6IDUsMzsKCQlzdHJva2U6IGdyYXk7CgkJZmlsbC1vcGFjaXR5OiAwLjE7Cgl9Ki8KCgkuZ3JvdXAtbm9kZS5jb21wbGV4IHsKCQlmaWxsOiByZ2IoMTgwLDE4MCwxMDApOwoJfQoKCS5ncm91cC1ub2RlLmNvbXBsZXggPiAudGV4dC1hcmVhIHsKCQlkaXNwbGF5OiBub25lOwogIAl9CgkvKi5ncm91cC1ub2RlLmNvbXBsZXg6aG92ZXIgewoJCWZpbGw6IHJnYigyNTUsMCwwKTsKCQlmaWxsLW9wYWNpdHk6IDAuMDU7Cgl9Ki8KCiAgCS5ncm91cC1ub2RlLnBhdGh3YXkgewoJCWZpbGw6IHJnYigwLDI1NSwwKTsKCQlzdHJva2UtZGFzaGFycmF5OiA1LDM7Cgl9CgkvKi5ncm91cC1ub2RlLnBhdGh3YXk6aG92ZXIgewoJCWZpbGw6IHJnYigwLDI1NSwwKTsKCQlmaWxsLW9wYWNpdHk6IDAuMjsKCX0qLwoJLmdyb3VwLW5vZGUucGF0aHdheSA+IC50ZXh0LWFyZWEgewoJCWZpbGw6IHJnYigyMCwxNTAsMzApOwoJCXN0cm9rZTogcmdiKDIwLDE1MCwzMCk7CiAgfQoKICAuY2VsbHVsYXItY29tcG9uZW50IHsKCQlmaWxsLW9wYWNpdHk6IDA7CgkJc3Ryb2tlOiBzaWx2ZXI7Cgl9CgogIC5ncmFwaGljYWwtbGluZSB7CgkJZmlsbDpub25lOwoJCXN0cm9rZTogYmxhY2s7CgkJc3Ryb2tlLXdpZHRoOiAxcHg7Cgl9CgoJLmludGVyYWN0aW9uIHsKCQlmaWxsOm5vbmU7CgkJc3Ryb2tlOiBibGFjazsKCQlzdHJva2Utd2lkdGg6IDFweDsKCX0KCgltYXJrZXIgewoJCS8qIHRoaXMgaXMgd2hhdCBzaG91bGQgd29yayBwZXIgdGhlIHNwZWMKCQkgICBzdHJva2UtZGFzaGFycmF5OiBub25lOyAqLwoJCS8qIGJ1dCBJIG5lZWQgdG8gYWRkIHRoaXMgdG8gbWFrZSBpdCB3b3JrIGluIFNhZmFyaSAqLwoJCXN0cm9rZS1kYXNoYXJyYXk6IDk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk7Cgl9CgogIC5tYXJrZXItZW5kIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMTgwZGVnKTsKICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogNTAlIDUwJTsKCiAgICAtby10cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpOwogICAgLW8tdHJhbnNmb3JtLW9yaWdpbjogNTAlIDUwJTsKCiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpOwogICAgdHJhbnNmb3JtLW9yaWdpbjogNTAlIDUwJTsKICB9CgoJLnNvbGlkLXN0cm9rZSB7CgkJLyogdGhpcyBpcyB3aGF0IHNob3VsZCB3b3JrIHBlciB0aGUgc3BlYwoJCSAgIHN0cm9rZS1kYXNoYXJyYXk6IG5vbmU7ICovCgkJLyogYnV0IEkgbmVlZCB0byBhZGQgdGhpcyB0byBtYWtlIGl0IHdvcmsgaW4gU2FmYXJpICovCgkJc3Ryb2tlLWRhc2hhcnJheTogOTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTsKCX0KCgkuZGFzaGVkLXN0cm9rZSB7CgkJc3Ryb2tlLWRhc2hhcnJheTogNSwzOwoJfQo=","base64").toString(),
r.append("style").attr("type","text/css").text(t))}function i(e){return e.hasOwnProperty("backgroundOpacity")&&!e.hasOwnProperty("fillOpacity")&&(e.fillOpacity=e.backgroundOpacity),e.hasOwnProperty("borderColor")&&!e.hasOwnProperty("color")&&(e.color=e.borderColor),e.hasOwnProperty("borderOpacity"),e}function o(e,t){var n,r;return t.shape&&"none"!==t.shape&&(n=s(e,i(t))),t.textContent&&(r=a(e,t)),n||r||null}function s(e,t){var n=(e.kaavio.sourceData.pvjson,f.camelCase(t.shape));e.crossPlatformShapesInstance.hasOwnProperty(n)||(n=n.replace(/double$/gi,""),e.crossPlatformShapesInstance.hasOwnProperty(n)?e.kaavio.trigger("warning.renderer",{message:'Requested path "'+t.shape+'" is not available with linetype of "Double". Using linetype of "Solid" instead'}):(e.kaavio.trigger("warning.renderer",{message:'Requested path "'+t.shape+'" is not available. Using path "rounded-rectangle" instead'}),n="roundedRectangle"));var r=e.crossPlatformShapesInstance[n](t),i=d3.select(r);return t.bridgeDbDatasourceName&&t.identifier&&i.classed({"has-xref":!0}),r}function a(e,t){var n=e.crossPlatformTextInstance.render(t),r=d3.select(n);if(t.type&&"Pathway"===t.type&&t.entityReference){var i={};i.metadata={label:t.textContent,description:t.type.replace("biopax:","").replace("gpml:","")},i.entityReference={},i.entityReference.id=t.entityReference;var o=!0;r.classed({"has-xref":!0}),r.on("mousedown",function(e,t){o=!0}).on("mousemove",function(e,t){o=!1}).on("mouseup",function(t,n){o&&d.render(e.kaavio,i)})}else r.style("pointer-events","none");return n}function u(e){return v.hasOwnProperty(e)?v[e]:e}function c(e){var t,n=e.trim().split(";"),r={};for(var i in n)t=n[i].trim().split(":"),2===t.length&&(r[t[0]]=t[1]);return r}var l=(e("lodash"),e("./renderer-prototype")),d=e("../annotation-panel/entity-reference"),f=e("tower-strcase"),h=e("cross-platform-text"),p=e("cross-platform-shapes"),m=Object.create(l);m.init=function(e){this.kaavio=e,this.diagramId="kaavio-diagram-"+e.instanceId,this._elementsHash={};var t=e.diagramContainerElement.getBoundingClientRect(),i=t.width,o=t.height;this.crossPlatformShapesInstance=p.getInstance({targetElement:e.diagramContainerElement,id:this.diagramId,format:"svg",width:i,height:o,backgroundColor:"white",customShapes:{golgiApparatus:{href:n("ZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpVlZSR0xUZ2lJSE4wWVc1a1lXeHZibVU5SW5sbGN5SS9QZ29LUEhOMlp5QnBaRDBpWjI5c1oya3RZWEJ3WVhKaGRIVnpJZ29KZG1WeWMybHZiajBpTVM0eElnb0pZbUZ6WlZCeWIyWnBiR1U5SW1aMWJHd2lDZ2w0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lDZ2w0Yld4dWN6cDRiR2x1YXowaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1UazVPUzk0YkdsdWF5SUtDWGh0Ykc1ek9tVjJQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBeEwzaHRiQzFsZG1WdWRITWlDZ2wzYVdSMGFEMGlPVEFpQ2dsb1pXbG5hSFE5SWpFMU1DSUtDWFpwWlhkQ2IzZzlJakFnTUNBNU1DQXhOVEFpQ2dsd2NtVnpaWEoyWlVGemNHVmpkRkpoZEdsdlBTSnViMjVsSWdvSmMzUjViR1U5SW1acGJHdzZkSEpoYm5Od1lYSmxiblE3SUhOMGNtOXJaVHBzYVdkb2RHZHlZWGs3SUhOMGNtOXJaUzEzYVdSMGFEb3pJajRLQ2dvSkx5bzhZMnhwY0ZCaGRHZ2dhV1E5SW1kdmJHZHBMV0Z3Y0dGeVlYUjFjeTFqYkdsd0xYQmhkR2d4SWo0S0NUeHdZWFJvSUdROUltMDFPQzQwTmpjeE5Dd3lOeTQzTVRNek1qZGpMVEl5TGpJd05UTTBOU3d0TWprdU9UQXdOemtnTXpjdU16RXdNRFkyTEMwek1DNHlOVGd6TlRZZ01qVXVOVFkzTWpRMUxDMDBMamd5TXpRME5tTXRPQzQ0TURjMk5UVXNNVGd1TlRneE1qTTRJQzB4Tnk0d05qWTBNamtzTlRndU1UTTFNak0xSUMwd0xqazBNVFkzTXl3NU9TNHlNakEwTkdNeE15NHpNVFEyT1N3eU55NHdOalkyT1RZZ0xUUXhMamMwT0RRMk15d3lOeTQzTmpBNU1qVWdMVEkzTGpjMU5UVTFOQ3d0TVM0ME5qazRORGxqTVRFdU16UTFPREkxTEMweU9TNDBNakF5TkRJZ01UQXVNamcyT0RVNExDMDRNQzR6TXpZME1qSWdNeTR4TWprNU9ESXNMVGt5TGpreU56RTBOWG9pSUM4K0NpQWdJQWs4TDJOc2FYQlFZWFJvUGlBS0NRb0pQR05zYVhCUVlYUm9JR2xrUFNKbmIyeG5hUzFoY0hCaGNtRjBkWE10WTJ4cGNDMXdZWFJvTWlJK0NpQWdJQWs4Y0dGMGFDQmtQU0p0TXpFdU1qRTBNemN4TERNMkxqSXhORE0yTTJNdE1UQXVOemt4TnpFeUxDMHlNUzQwTWpjNU1ETWdNamt1T0RrM05UazRMQzB4T1M0NE5EZ3hOalFnTVRndU5EQTNOVEF4TERBdU5qY3dPRGsxWXkwMExqQTJOamt6TXl3M0xqUXlNak00TmlBdE5TNDNPREk0TURNc05qRXVOVGN5T0RBeklERXVNVFl3TnpFekxEYzFMakF5T0Rnd05XTTRMalV5T1RRekxERTRMalU1TnpReU55QXRNekl1T0RVeU9UZzFMREU1TGpNMU5UUXdPQ0F0TWpBdU5UQXdNVFl5TEMweUxqSTFNRFl6TTJNMkxqazFNamMyTVN3dE1UY3VNelU0TmpBMElERXdMalEzTXpjME1pd3ROVEl1TWpreE1UZzNJREF1T1RNeE9UUTRMQzAzTXk0ME5Ea3dOalo2SWlBdlBnb0pQQzlqYkdsd1VHRjBhRDRnQ2drS0NUeGpiR2x3VUdGMGFDQnBaRDBpWjI5c1oya3RZWEJ3WVhKaGRIVnpMV05zYVhBdGNHRjBhRE1pUGdvZ0lDQUpQSEJoZEdnZ1pEMGliVEk1TGpnd016azFPU3cxTWk0eE5qQTVNVEpqTVM0MU9EUXhOemNzTVRFdU5EYzBOekUySURJdU56SXpORFl4TERFMkxqY3pOekkyTnlBdE1TNDBPREk1Tnpjc016Z3VNell4TXpZMll5MHpMamN6TVRrMU5pd3hNaTQ1T0Rrd01EWWdMVE11TmpBd016azVMREUyTGpNME1EWTVNU0F0TVRFdU56TXlNek0wTERFNUxqUXhNamM0TVdNdE5pNDJPRE15T1Rnc01TNDJOVGcxTXpFZ0xURXhMamcyTkRnek1pd3RPUzQzT0RrME16WWdMVFF1Tnprek1qazVMQzB4Tmk0eE1UTTNOMk0wTGpnMU5UY3lPQ3d0TlM0Mk1qTXlNaklnTmk0eE5ERXdPRGNzTFRFd0xqZzRNak0yTWlBMkxqWTFPRGc0T0N3dE1qSXVPVFUwTmpVNVl5MHdMakl6T1RJeE1pd3RPUzQxTWpFME1qY2dNQzQ0TVRRMU1EZ3NMVEUxTGpneU16Z3lOaUF0TlM0ek5qWTVNaXd0TVRrdU9UVTROakkyWXkwM0xqWXlORE14TlN3dE1pNHhPVFV4TnpFZ0xUWXVNRGc0TURReExDMHhOaTQxTXpRMk1URWdOQzQ0TWpRd05Ua3NMVEV6TGpnMk16Z3dOR00xTGpnME9UTTFOQ3d4TGpBeU56QTJOU0F4TUM0eU9ESTBNRGdzT0M0MU5qRTFNVFlnTVRFdU9Ea3lOVGd5TERFMUxqRXhOamN4TVhvaUlDOCtDZ2s4TDJOc2FYQlFZWFJvUGlvdklBb0pDZ2s4Y0dGMGFDQmtQU0p0TlRndU5EWTNNVFFzTWpjdU56RXpNekkzWXkweU1pNHlNRFV6TkRVc0xUSTVMamt3TURjNUlETTNMak14TURBMk5pd3RNekF1TWpVNE16VTJJREkxTGpVMk56STBOU3d0TkM0NE1qTTBORFpqTFRndU9EQTNOalUxTERFNExqVTRNVEl6T0NBdE1UY3VNRFkyTkRJNUxEVTRMakV6TlRJek5TQXRNQzQ1TkRFMk56TXNPVGt1TWpJd05EUmpNVE11TXpFME5qa3NNamN1TURZMk5qazJJQzAwTVM0M05EZzBOak1zTWpjdU56WXdPVEkxSUMweU55NDNOVFUxTlRRc0xURXVORFk1T0RRNVl6RXhMak0wTlRneU5Td3RNamt1TkRJd01qUXlJREV3TGpJNE5qZzFPQ3d0T0RBdU16TTJOREl5SURNdU1USTVPVGd5TEMwNU1pNDVNamN4TkRWNklpQXZQZ29nSUNBSlBIQmhkR2dnWkQwaWJUTXhMakl4TkRNM01Td3pOaTR5TVRRek5qTmpMVEV3TGpjNU1UY3hNaXd0TWpFdU5ESTNPVEF6SURJNUxqZzVOelU1T0N3dE1Ua3VPRFE0TVRZMElERTRMalF3TnpVd01Td3dMalkzTURnNU5XTXROQzR3TmpZNU16TXNOeTQwTWpJek9EWWdMVFV1TnpneU9EQXpMRFl4TGpVM01qZ3dNeUF4TGpFMk1EY3hNeXczTlM0d01qZzRNRFZqT0M0MU1qazBNeXd4T0M0MU9UYzBNamNnTFRNeUxqZzFNams0TlN3eE9TNHpOVFUwTURnZ0xUSXdMalV3TURFMk1pd3RNaTR5TlRBMk16TmpOaTQ1TlRJM05qRXNMVEUzTGpNMU9EWXdOQ0F4TUM0ME56TTNORElzTFRVeUxqSTVNVEU0TnlBd0xqa3pNVGswT0N3dE56TXVORFE1TURZMmVpSWdJQzgrQ2lBZ0lBazhjR0YwYUNCa1BTSnRNamt1T0RBek9UVTVMRFV5TGpFMk1Ea3hNbU14TGpVNE5ERTNOeXd4TVM0ME56UTNNVFlnTWk0M01qTTBOakVzTVRZdU56TTNNalkzSUMweExqUTRNamszTnl3ek9DNHpOakV6TmpaakxUTXVOek14T1RVMkxERXlMams0T1RBd05pQXRNeTQyTURBek9Ua3NNVFl1TXpRd05qa3hJQzB4TVM0M016SXpNelFzTVRrdU5ERXlOemd4WXkwMkxqWTRNekk1T0N3eExqWTFPRFV6TVNBdE1URXVPRFkwT0RNeUxDMDVMamM0T1RRek5pQXROQzQzT1RNeU9Ua3NMVEUyTGpFeE16YzNZelF1T0RVMU56STRMQzAxTGpZeU16SXlNaUEyTGpFME1UQTROeXd0TVRBdU9EZ3lNell5SURZdU5qVTRPRGc0TEMweU1pNDVOVFEyTlRsakxUQXVNak01TWpFeUxDMDVMalV5TVRReU55QXdMamd4TkRVd09Dd3RNVFV1T0RJek9ESTJJQzAxTGpNMk5qa3lMQzB4T1M0NU5UZzJNalpqTFRjdU5qSTBNekUxTEMweUxqRTVOVEUzTVNBdE5pNHdPRGd3TkRFc0xURTJMalV6TkRZeE1TQTBMamd5TkRBMU9Td3RNVE11T0RZek9EQTBZelV1T0RRNU16VTBMREV1TURJM01EWTFJREV3TGpJNE1qUXdPQ3c0TGpVMk1UVXhOaUF4TVM0NE9USTFPRElzTVRVdU1URTJOekV4ZWlJdlBnb0tQQzl6ZG1jK0NnPT0K","base64").toString()},sarcoplasmicReticulum:{href:n("ZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpVlZSR0xUZ2lJSE4wWVc1a1lXeHZibVU5SW5sbGN5SS9QZ29LUEhOMlp5QnBaRDBpYzJGeVkyOXdiR0Z6YldsakxYSmxkR2xqZFd4MWJTSUtDWFpsY25OcGIyNDlJakV1TVNJS0NXSmhjMlZRY205bWFXeGxQU0ptZFd4c0lnb0plRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklnb0plRzFzYm5NNmVHeHBibXM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpFNU9Ua3ZlR3hwYm1zaUNnbDRiV3h1Y3pwbGRqMGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TVM5NGJXd3RaWFpsYm5Seklnb0pkMmxrZEdnOUlqRXdNQ0lLQ1dobGFXZG9kRDBpTVRBd0lnb0pkbWxsZDBKdmVEMGlNQ0F3SURnd0lERXdNQ0lLQ1hCeVpYTmxjblpsUVhOd1pXTjBVbUYwYVc4OUltNXZibVVpQ2dsemRIbHNaVDBpWm1sc2JEcDBjbUZ1YzNCaGNtVnVkRHNnYzNSeWIydGxPbXhwWjJoMFozSmhlVHNnYzNSeWIydGxMWGRwWkhSb09qTWlQZ29LQ1R4amJHbHdVR0YwYUNCcFpEMGljMkZ5WTI5d2JHRnpiV2xqTFhKbGRHbGpkV3gxYlMxamJHbHdMWEJoZEdnaVBnb0pDVHh3WVhSb0lHUTlJbTAwTmk0Mk1ERTRNaXd4TGpRd056STBZeTB6TWk0ek56SXlOQ3d4TGpNME1UTTRJQzB6Tmk0ek1qQXdOQ3d5TWk0M056QXhNU0F0TWpZdU5UQXpNVGdzTXpndU1USTNOemRqT1M0ek1UZ3lOaXd4T0M0ek5ESTFJQzB4T0M0M05qVTJMRE13TGpFMU1ERTJJREl1TlRZNU5UVXNORGt1TXpjNE1EZGpNVFl1T0RJeE1qWXNNVE11TVRFMU9UUWdORFl1TXpNeE56VXNOaTR4TURVd09DQTFNaTR4TWpZek9Dd3RPQzQxTmpneU5tTTFMamc1T1RFMkxDMHhOUzR5TkRnME55QXRNVEF1T1RVd09Ua3NMVEkyTGpBeU56SWdMVE11TWprek1UWXNMVFF3TGprMk1UTTFZekV3TGpnMU16UXlMQzB4T1M0NE9EUXpNaUF0TUM0M056WXhOU3d0TXpndU1UTXdORE1nTFRJMExqZzVPVFU1TEMwek55NDVOell5TkhvaUlDOCtDUW9KUEM5amJHbHdVR0YwYUQ0S0NRb0pQSEJoZEdnZ1pEMGliVFEyTGpZd01UZ3lMREV1TkRBM01qUmpMVE15TGpNM01qSTBMREV1TXpReE16Z2dMVE0yTGpNeU1EQTBMREl5TGpjM01ERXhJQzB5Tmk0MU1ETXhPQ3d6T0M0eE1qYzNOMk01TGpNeE9ESTJMREU0TGpNME1qVWdMVEU0TGpjMk5UWXNNekF1TVRVd01UWWdNaTQxTmprMU5TdzBPUzR6Tnpnd04yTXhOaTQ0TWpFeU5pd3hNeTR4TVRVNU5DQTBOaTR6TXpFM05TdzJMakV3TlRBNElEVXlMakV5TmpNNExDMDRMalUyT0RJMll6VXVPRGs1TVRZc0xURTFMakkwT0RRM0lDMHhNQzQ1TlRBNU9Td3RNall1TURJM01pQXRNeTR5T1RNeE5pd3ROREF1T1RZeE16VmpNVEF1T0RVek5ESXNMVEU1TGpnNE5ETXlJQzB3TGpjM05qRTFMQzB6T0M0eE16QTBNeUF0TWpRdU9EazVOVGtzTFRNM0xqazNOakkwZWlJZ2MzUjViR1U5SW1Oc2FYQXRjR0YwYURvZ2RYSnNLQ056WVhKamIzQnNZWE50YVdNdGNtVjBhV04xYkhWdExXTnNhWEF0Y0dGMGFDazdJQ0lnTHo0SkNnbzhMM04yWno0Swo=","base64").toString()},endoplasmicReticulum:{href:n("ZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpVlZSR0xUZ2lJSE4wWVc1a1lXeHZibVU5SW5sbGN5SS9QZ29LUEhOMlp5QnBaRDBpWlc1a2IzQnNZWE50YVdNdGNtVjBhV04xYkhWdElnb0pkbVZ5YzJsdmJqMGlNUzR4SWdvSlltRnpaVkJ5YjJacGJHVTlJbVoxYkd3aUNnbDRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUNnbDRiV3h1Y3pwNGJHbHVhejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TVRrNU9TOTRiR2x1YXlJS0NYaHRiRzV6T21WMlBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF4TDNodGJDMWxkbVZ1ZEhNaUNnbDNhV1IwYUQwaU1UQXdJZ29KYUdWcFoyaDBQU0l4TURBaUNnbDJhV1YzUW05NFBTSXdJREFnTVRBd0lERXdNQ0lLQ1hCeVpYTmxjblpsUVhOd1pXTjBVbUYwYVc4OUltNXZibVVpQ2dsemRIbHNaVDBpWm1sc2JEcDBjbUZ1YzNCaGNtVnVkRHNnYzNSeWIydGxPbXhwWjJoMFozSmhlVHNnYzNSeWIydGxMWGRwWkhSb09qTWlQZ29LQ1R4amJHbHdVR0YwYUNCcFpEMGlaVzVrYjNCc1lYTnRhV010Y21WMGFXTjFiSFZ0TFdOc2FYQXRjR0YwYUNJK0Nna0pQSEJoZEdnZ1pEMGliVGN6TGpVeU56VTJMRFUyTGpZd09UWTNZeTAxTGpZeU5EVTNMQzB4T0M0Mk1EWTNOU0F5TXk0MU1UUTJNeXd0TXpJdU5ETXpOVGdnTWpNdU5EQXhOek1zTFRRMUxqQTJOakEwWXkwd0xqTTBOREkyTEMwMExqZzJNVEF5SUMweE1DNDBPRGt6TkN3dE9DNDRPVGMwTXlBdE1UZ3VNamc1TnpRc0xUVXVNek16T1RWakxURTNMakEwTVRFNUxEY3VPRGMxTlRZZ0xURTFMalkwT1RRNUxESTVMak13TlRBeklDMHlNUzR5TURVek15dzBNaTR5TXpNNE4yTXRNQzR6TlRZMk1Td3pMall3T1RVeElDMDNMak0yTWpjMExESXVORFk1TWpZZ0xUY3VOelE1TmpRc0xUQXVORGcyT1RSakxUVXVPRFV4TWl3dE1URXVNemc0TnpFZ01UY3VNVE0xTXpRc0xUSTBMalE0TmpreUlEVXVPVFl3TnpVc0xUSTVMalF5TlRnMll5MHhPUzQyTXpRMk55d3RPQzR4TmprM09TQXRNamd1TnpVeE9EUXNNakV1TVRVek5EWWdMVEl5TGpBMk9ESXNNamd1T0RFM09EUmpOeTQwT1RVMkxERTBMakUzTmpBeUlDMHlMakUzT1RRNUxESTBMalF3TmpjNUlDMDJMamMwTmpnNUxERTFMalE1TmpNM1l5MHlMalEwTWpBNUxDMDFMak13TmpFeklEWXVNRFkyTURVc0xURXhMakE0TkRRMUlDMHdMamd3TXpVeExDMHhOaTR4TnpZNE9XTXROQzR6TVRrNU1Td3RNaTQzT1RrNU15QXRNVEV1TnpVMU5UVXNMVEF1TmpRMk1UZ2dMVEUyTGpFMU5EWTRMRE11TURrME0yTXRNVEl1T0RreE1UY3NNVEF1TnpNM09Ua2dOQzQzTWprMU55dzBNQzQ1T0RFME5TQXlNQzQ1TmpRMk55d3pOaTR4TkRZek5XTTBMalk1T0RNekxDMHhMamsxT1RnNUlDMHpMakl6TmpBekxDMDRMamN3TVRVeElETXVPVEEzTVRjc0xUa3VOVGs1TlRGak55NHlPVGMyTnl3dE1DNDRNVEkxTlNBMUxqRTNOakk0TERZdU1UZzRPRGtnTnk0Mk9EYzBOU3c1TGpJeU5qa3hZekl1TXpBM01TdzBMakExTURrZ05DNDRNekl6TWl3NExqTTFOVE00SURFd0xqYzJNallzTVRFdU5qSXpOMk0wTGpjNE5qUXlMREl1TlRNM01qUWdNVFV1TWprME16Y3NNaTR4TVRJeU5TQXhOaTQzTnpFME9Dd3RNUzQ1TlRjNU5XTXlMakF6TVRnc0xUa3VNall5T1RFZ0xUSTJMakV4TVRJNUxDMHlPQzR6TlRnME9DQXRNVEF1TmpnNU1ETXNMVE14TGpJNE1UVmpNVGd1TlRVMU1qUXNMVEl1TnpFME56TWdOQzQzTkRnMk5pd3lNeTQ0TkRVM015QXlOQzR6TVRBd05pd3lPUzQyT1RReE9XTTVMalV3TVRnNExESXVNREk0TWpRZ01UVXVOak01TURJc0xUQXVOakl4T1RRZ01UUXVPREV5TlRVc0xUUXVNRE15TnpKakxUSXVOelExT0RZc0xURXhMakkyTXpJM0lDMHlOUzR4TXpVMU55d3RNakl1Tmpnd01pQXRNalF1T1RZME5ERXNMVE16TGpFME9UWTRJaUF2UGdvSlBDOWpiR2x3VUdGMGFENEtDUW9KUEhCaGRHZ2daRDBpYlRjekxqVXlOelUyTERVMkxqWXdPVFkzWXkwMUxqWXlORFUzTEMweE9DNDJNRFkzTlNBeU15NDFNVFEyTXl3dE16SXVORE16TlRnZ01qTXVOREF4TnpNc0xUUTFMakEyTmpBMFl5MHdMak0wTkRJMkxDMDBMamcyTVRBeUlDMHhNQzQwT0Rrek5Dd3RPQzQ0T1RjME15QXRNVGd1TWpnNU56UXNMVFV1TXpNek9UVmpMVEUzTGpBME1URTVMRGN1T0RjMU5UWWdMVEUxTGpZME9UUTVMREk1TGpNd05UQXpJQzB5TVM0eU1EVXpNeXcwTWk0eU16TTROMk10TUM0ek5UWTJNU3d6TGpZd09UVXhJQzAzTGpNMk1qYzBMREl1TkRZNU1qWWdMVGN1TnpRNU5qUXNMVEF1TkRnMk9UUmpMVFV1T0RVeE1pd3RNVEV1TXpnNE56RWdNVGN1TVRNMU16UXNMVEkwTGpRNE5qa3lJRFV1T1RZd056VXNMVEk1TGpReU5UZzJZeTB4T1M0Mk16UTJOeXd0T0M0eE5qazNPU0F0TWpndU56VXhPRFFzTWpFdU1UVXpORFlnTFRJeUxqQTJPRElzTWpndU9ERTNPRFJqTnk0ME9UVTJMREUwTGpFM05qQXlJQzB5TGpFM09UUTVMREkwTGpRd05qYzVJQzAyTGpjME5qZzVMREUxTGpRNU5qTTNZeTB5TGpRME1qQTVMQzAxTGpNd05qRXpJRFl1TURZMk1EVXNMVEV4TGpBNE5EUTFJQzB3TGpnd016VXhMQzB4Tmk0eE56WTRPV010TkM0ek1UazVNU3d0TWk0M09UazVNeUF0TVRFdU56VTFOVFVzTFRBdU5qUTJNVGdnTFRFMkxqRTFORFk0TERNdU1EazBNMk10TVRJdU9Ea3hNVGNzTVRBdU56TTNPVGtnTkM0M01qazFOeXcwTUM0NU9ERTBOU0F5TUM0NU5qUTJOeXd6Tmk0eE5EWXpOV00wTGpZNU9ETXpMQzB4TGprMU9UZzVJQzB6TGpJek5qQXpMQzA0TGpjd01UVXhJRE11T1RBM01UY3NMVGt1TlRrNU5URmpOeTR5T1RjMk55d3RNQzQ0TVRJMU5TQTFMakUzTmpJNExEWXVNVGc0T0RrZ055NDJPRGMwTlN3NUxqSXlOamt4WXpJdU16QTNNU3cwTGpBMU1Ea2dOQzQ0TXpJek1pdzRMak0xTlRNNElERXdMamMyTWpZc01URXVOakl6TjJNMExqYzROalF5TERJdU5UTTNNalFnTVRVdU1qazBNemNzTWk0eE1USXlOU0F4Tmk0M056RTBPQ3d0TVM0NU5UYzVOV015TGpBek1UZ3NMVGt1TWpZeU9URWdMVEkyTGpFeE1USTVMQzB5T0M0ek5UZzBPQ0F0TVRBdU5qZzVNRE1zTFRNeExqSTRNVFZqTVRndU5UVTFNalFzTFRJdU56RTBOek1nTkM0M05EZzJOaXd5TXk0NE5EVTNNeUF5TkM0ek1UQXdOaXd5T1M0Mk9UUXhPV001TGpVd01UZzRMREl1TURJNE1qUWdNVFV1TmpNNU1ESXNMVEF1TmpJeE9UUWdNVFF1T0RFeU5UVXNMVFF1TURNeU56SmpMVEl1TnpRMU9EWXNMVEV4TGpJMk16STNJQzB5TlM0eE16VTFOeXd0TWpJdU5qZ3dNaUF0TWpRdU9UWTBOREVzTFRNekxqRTBPVFk0SWlCemRIbHNaVDBpWTJ4cGNDMXdZWFJvT2lCMWNtd29JMlZ1Wkc5d2JHRnpiV2xqTFhKbGRHbGpkV3gxYlMxamJHbHdMWEJoZEdncE95QWlMejRLUEM5emRtYytDZz09Cg==","base64").toString()},mitochondria:{href:n("ZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpVlZSR0xUZ2lJSE4wWVc1a1lXeHZibVU5SW5sbGN5SS9QZ29LUEhOMlp5QnBaRDBpYldsMGIyTm9iMjVrY21saElnb0pkbVZ5YzJsdmJqMGlNUzR4SWdvSlltRnpaVkJ5YjJacGJHVTlJbVoxYkd3aUNnbDRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUNnbDRiV3h1Y3pwNGJHbHVhejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TVRrNU9TOTRiR2x1YXlJS0NYaHRiRzV6T21WMlBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF4TDNodGJDMWxkbVZ1ZEhNaUNnbDNhV1IwYUQwaU1UQXdJZ29KYUdWcFoyaDBQU0l4TURBaUNnbDJhV1YzUW05NFBTSXdJREFnTVRBd0lERXdNQ0lLQ1hCeVpYTmxjblpsUVhOd1pXTjBVbUYwYVc4OUltNXZibVVpQ2dsemRIbHNaVDBpWm1sc2JEcDBjbUZ1YzNCaGNtVnVkRHNnYzNSeWIydGxPbXhwWjJoMFozSmhlVHNnYzNSeWIydGxMWGRwWkhSb09qTWlQZ29LSUNBZ0lDQWdJQ0E4WTJ4cGNGQmhkR2dnYVdROUltMXBkRzlqYUc5dVpISnBZUzF2ZG1Gc0xXTnNhWEF0Y0dGMGFDSStDZ2tKUEdWc2JHbHdjMlVnWTNnOUlqVXdJaUJqZVQwaU5UQWlJSEo0UFNJMU1DSWdjbms5SWpVd0lpQStQQzlsYkd4cGNITmxQZ29nSUNBZ0lDQWdJRHd2WTJ4cGNGQmhkR2crQ2drOFkyeHBjRkJoZEdnZ2FXUTlJbTFwZEc5amFHOXVaSEpwWVMxamJHbHdMWEJoZEdnaVBnb0pDVHh3WVhSb0lHUTlJbTB4TkM0NE9UUTRPVGtzTWpZdU16UTNNelUzWXpRdU16WXpPREUzTEMwd0xqYzBNVFUzTVNBekxqZ3lOelV4T0N3eE55NHdNell4TmprZ09DNHhPREkyTXpnc01UWXVNVGd6T0RJMVl6Z3VNamN6TkRjc01DNHdNekEzTmpJZ01pNDVPREl3TURZc0xUSTRMakUwT0RrNU1TQTVMamc1T1RjMU5Dd3RNamd1TXpNMk5qZzNZell1T1RZM09UazFMQzB3TGpFNE56Y3dOQ0F5TGpJME5qWTFNU3d5T1M0NU5EYzFNamNnT1M0eU1EUTVPRE1zTWprdU5ETTVPREZqTnk0Mk16STRNVE1zTFRBdU5UWXdNREkwSURBdU5UQTNNekE1TEMwek1pNDVNelV6TlRjZ09DNHhNell5TlRNc0xUTXpMall5TXpBNE1tTTNMalk1T0RVeU1Td3RNQzQyT0RreU5Ua2dNaTQ1TVRreE9UY3NNekl1TURNNU9UUXhJREV3TGpZeU9ETTBPU3d6TWk0eU1qUTFOVGRqTmk0MU5EWTJPRFFzTUM0eE5qQXdNVEVnTXk0d01qWTBOVEVzTFRJM0xqWTBNamd3T0NBNUxqVTJNRFUzTEMweU5pNDVNakV5TXpKak55NHhPVEl4Tnpjc01DNDNPVE00T0NBd0xqWTJORGd4T0N3eU9TNDROREk1TURVZ055NDNPREUyTWpRc016RXVOalkzTmpBMFl6UXVOelE0TkRBMUxERXVNakUxTkRNNUlEUXVOREl3T0RJeUxDMHhPQzR5TlRjM05UY2dPUzR5TURRd01UZ3NMVEUzTGpRME1EZ3dOR014TVM0eE1qZzRPRE1zTnk0MU56Y3lOemdnT0M0Mk1qZ3hNRFVzTXpjdU5qazROalU0SUMweUxqRTNPVGszTnl3ME5DNDJORFV4TXpoakxUTXVNVE00TlRReUxEQXVOams0TkRjNUlDMHpMamsyTlRZNU9Dd3RNVEF1TlRBeU1ESTVJQzAzTGpFeE1qa3pPQ3d0T1M0NU1EVXdOelZqTFRVdU5Ua3dNRFVzTVM0d05UZzFNRElnTFRNdU9UZ3lNVEkwTERJeUxqSTROREE0T0NBdE9TNDJNRE13T1RZc01qRXVOems1TkRZeFl5MDFMakl6T1RJNE1Td3RNQzQwTlRZNU5EY2dMVEl1TWpJMk16WTBMQzB5TVM0Mk16WXpPRE1nTFRjdU5EY3dORGNzTFRJeExqY3pNREl6TW1NdE5pNDVOakV5TXpVc0xUQXVNVEUyT1RJNElDMHpMak0xTnpnNU5Td3lPQzQ1TWpRME1EZ2dMVEV3TGpNeE5qSXpNU3d5T0M0ME9UVXhORGhqTFRZdU1UUXdPRFEyTEMwd0xqTTNOVE01TnlBdE1TNDNNekEyTkN3dE1qUXVPVFV3TXpZeklDMDNMamd5TlRFd05Dd3RNall1TVRreE9UWXpZeTAxTGpZNE1UZzBOeXd0TVM0eE5UWTVPRElnTFRVdU16YzROREk1TERJeUxqRTNNREkwTWlBdE1URXVNREkzTkRJMkxESXdMalk0TURrek9XTXROaTR5TkRrd05qa3NMVEV1TmpRME5qZzBJQzB3TGpRMk9UWXlOQ3d0TWpZdU5qY3pOVEU1SUMwMkxqYzFPVEkzTlN3dE1qY3VPRFkxT0RnM1l5MHpMamN5T0RrMU5Dd3RNQzQzTURZeE9EZ2dMVEl1TmpRM05qWTFMREUwTGpRd01EWTFOQ0F0Tmk0ME1ETTJOemNzTVRRdU5UUTFNamt5WXkweE5DNHdNVFl4T1Rnc0xUVXVPVE00TnpNMklDMHhOUzQzTkRnM056WXNMVE01TGpjd056azRNU0F0TXk0NE9UazVPVFFzTFRRM0xqWTJOamd4TVhvaVBqd3ZjR0YwYUQ0S0NUd3ZZMnhwY0ZCaGRHZytJQW9KQ2drOFpXeHNhWEJ6WlNCamVEMGlOVEFpSUdONVBTSTFNQ0lnY25nOUlqVXdJaUJ5ZVQwaU5UQWlJSE4wZVd4bFBTSmpiR2x3TFhCaGRHZzZJSFZ5YkNnamJXbDBiMk5vYjI1a2NtbGhMVzkyWVd3dFkyeHBjQzF3WVhSb0tUc2dJajQ4TDJWc2JHbHdjMlUrQ2drOGNHRjBhQ0JrUFNKdE1UUXVPRGswT0RrNUxESTJMak0wTnpNMU4yTTBMak0yTXpneE55d3RNQzQzTkRFMU56RWdNeTQ0TWpjMU1UZ3NNVGN1TURNMk1UWTVJRGd1TVRneU5qTTRMREUyTGpFNE16Z3lOV000TGpJM016UTNMREF1TURNd056WXlJREl1T1RneU1EQTJMQzB5T0M0eE5EZzVPVEVnT1M0NE9UazNOVFFzTFRJNExqTXpOalk0TjJNMkxqazJOems1TlN3dE1DNHhPRGMzTURRZ01pNHlORFkyTlRFc01qa3VPVFEzTlRJM0lEa3VNakEwT1RnekxESTVMalF6T1RneFl6Y3VOak15T0RFekxDMHdMalUyTURBeU5DQXdMalV3TnpNd09Td3RNekl1T1RNMU16VTNJRGd1TVRNMk1qVXpMQzB6TXk0Mk1qTXdPREpqTnk0Mk9UZzFNakVzTFRBdU5qZzVNalU1SURJdU9URTVNVGszTERNeUxqQXpPVGswTVNBeE1DNDJNamd6TkRrc016SXVNakkwTlRVM1l6WXVOVFEyTmpnMExEQXVNVFl3TURFeElETXVNREkyTkRVeExDMHlOeTQyTkRJNE1EZ2dPUzQxTmpBMU55d3RNall1T1RJeE1qTXlZemN1TVRreU1UYzNMREF1Tnprek9EZ2dNQzQyTmpRNE1UZ3NNamt1T0RReU9UQTFJRGN1TnpneE5qSTBMRE14TGpZMk56WXdOR00wTGpjME9EUXdOU3d4TGpJeE5UUXpPU0EwTGpReU1EZ3lNaXd0TVRndU1qVTNOelUzSURrdU1qQTBNREU0TEMweE55NDBOREE0TURSak1URXVNVEk0T0RnekxEY3VOVGMzTWpjNElEZ3VOakk0TVRBMUxETTNMalk1T0RZMU9DQXRNaTR4TnprNU56Y3NORFF1TmpRMU1UTTRZeTB6TGpFek9EVTBNaXd3TGpZNU9EUTNPU0F0TXk0NU5qVTJPVGdzTFRFd0xqVXdNakF5T1NBdE55NHhNVEk1TXpnc0xUa3VPVEExTURjMVl5MDFMalU1TURBMUxERXVNRFU0TlRBeUlDMHpMams0TWpFeU5Dd3lNaTR5T0RRd09EZ2dMVGt1TmpBek1EazJMREl4TGpjNU9UUTJNV010TlM0eU16a3lPREVzTFRBdU5EVTJPVFEzSUMweUxqSXlOak0yTkN3dE1qRXVOak0yTXpneklDMDNMalEzTURRM0xDMHlNUzQzTXpBeU16SmpMVFl1T1RZeE1qTTFMQzB3TGpFeE5qa3lPQ0F0TXk0ek5UYzRPVFVzTWpndU9USTBOREE0SUMweE1DNHpNVFl5TXpFc01qZ3VORGsxTVRRNFl5MDJMakUwTURnME5pd3RNQzR6TnpVek9UY2dMVEV1TnpNd05qUXNMVEkwTGprMU1ETTJNeUF0Tnk0NE1qVXhNRFFzTFRJMkxqRTVNVGsyTTJNdE5TNDJPREU0TkRjc0xURXVNVFUyT1RneUlDMDFMak0zT0RReU9Td3lNaTR4TnpBeU5ESWdMVEV4TGpBeU56UXlOaXd5TUM0Mk9EQTVNemxqTFRZdU1qUTVNRFk1TEMweExqWTBORFk0TkNBdE1DNDBOamsyTWpRc0xUSTJMalkzTXpVeE9TQXROaTQzTlRreU56VXNMVEkzTGpnMk5UZzROMk10TXk0M01qZzVOVFFzTFRBdU56QTJNVGc0SUMweUxqWTBOelkyTlN3eE5DNDBNREEyTlRRZ0xUWXVOREF6TmpjM0xERTBMalUwTlRJNU1tTXRNVFF1TURFMk1UazRMQzAxTGprek9EY3pOaUF0TVRVdU56UTROemMyTEMwek9TNDNNRGM1T0RFZ0xUTXVPRGs1T1RrMExDMDBOeTQyTmpZNE1URjZJaUJ6ZEhsc1pUMGlZMnhwY0Mxd1lYUm9PaUIxY213b0kyMXBkRzlqYUc5dVpISnBZUzFqYkdsd0xYQmhkR2dwT3lBaVBqd3ZjR0YwYUQ0S1BDOXpkbWMrQ2c9PQo=","base64").toString()}}}),this.crossPlatformTextInstance=h.getInstance({targetSelector:"#"+this.diagramId}),this.$svg=this.kaavio.$element.select("#"+this.diagramId),r(this)},m.isValidElement=function(e){return e&&void 0!==e.id},m.hasElement=function(e){return void 0!==this._elementsHash[e.id]&&null!==this._elementsHash[e.id]},m.addElement=function(e){this.isValidElement(e)&&!this.hasElement(e)&&(e.containerSelector="g.viewport",this._elementsHash[e.id]={pvjsonElement:e,render:o(this,e)})};var v={backgroundColor:"fill",backgroundOpacity:"fill-opacity",borderColor:"stroke",borderWidth:"stroke-width",borderOpacity:"stroke-opacity"};m.updateElement=function(e,t){if(this.hasElement(e)){var n,r=d3.select(this._elementsHash[e.id].render),i={},o="";if(!r.empty()){r.attr("style")&&(i=c(r.attr("style")));for(var s in t)n=u(s),s!=n&&t.hasOwnProperty(n)||(i[n]=t[s]);for(s in i)o+=s+":"+i[s]+";";r.attr("style",o)}}},m.removeElementMarkers=function(e){if(this.hasElement(e)){var t=d3.select(this._elementsHash[e.id].render);t.attr("marker-start",null).attr("marker-mid",null).attr("marker-end",null)}},m.removeElement=function(e){if(this.hasElement(e)){var t=d3.select(this._elementsHash[e.id].render);t.empty()||(t.remove(),delete this._elementsHash[e.id])}},m.getElementStyle=function(e,t){},m.setElementStyle=function(e,t,n){},m.getElementBBox=function(e){var t={width:0,height:0,top:null,bottom:null,left:null,right:null},n=e&&e.hasOwnProperty("borderWidth")?+e.borderWidth:0;if(null===e||void 0===e)return t;if(e.hasOwnProperty("width")?(t.width=e.width+2*n,t.height=e.height+2*n,t.top=e.y-n,t.bottom=t.top+t.height,t.left=e.x-n,t.right=t.left+t.width):e.hasOwnProperty("gpml:element")&&"gpml:Interaction"===e["gpml:element"]&&(t.top=Math.min(e.points[0].y,e.points[1].y)-n,t.bottom=Math.max(e.points[0].y,e.points[1].y)+n,t.left=Math.min(e.points[0].x,e.points[1].x)-n,t.right=Math.max(e.points[0].x,e.points[1].x)+n,t.width=t.right-t.left,t.height=t.top-t.bottom),e.hasOwnProperty("rotation")){var r=+e.rotation*Math.PI/180,i=[0,0,0,0,0,0,0,0],o=(t.left+t.right)/2,s=(t.top+t.bottom)/2,a={top:t.height/2,bottom:-t.height/2,left:-t.width/2,right:t.width/2};i[0]=a.left*Math.cos(r)-a.top*Math.sin(r),i[1]=a.left*Math.sin(r)+a.top*Math.cos(r),i[2]=a.right*Math.cos(r)-a.top*Math.sin(r),i[3]=a.right*Math.sin(r)+a.top*Math.cos(r),i[4]=a.right*Math.cos(r)-a.bottom*Math.sin(r),i[5]=a.right*Math.sin(r)+a.bottom*Math.cos(r),i[6]=a.left*Math.cos(r)-a.bottom*Math.sin(r),i[7]=a.left*Math.sin(r)+a.bottom*Math.cos(r),t.top=-Math.max(i[1],i[3],i[5],i[7])+s,t.bottom=-Math.min(i[1],i[3],i[5],i[7])+s,t.left=Math.min(i[0],i[2],i[4],i[6])+o,t.right=Math.max(i[0],i[2],i[4],i[6])+o,t.width=t.right-t.left,t.height=t.bottom-t.top}return t},t.exports={init:function(e){var t=Object.create(m);return t.init(e),t}}}).call(this,e("buffer").Buffer)},{"../annotation-panel/entity-reference":"/Users/andersriutta/Sites/kaavio/lib/annotation-panel/entity-reference.js","./renderer-prototype":"/Users/andersriutta/Sites/kaavio/lib/diagram-renderer/renderer-prototype.js",buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js","cross-platform-shapes":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/index.js","cross-platform-text":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-text/index.js",lodash:"/Users/andersriutta/Sites/kaavio/node_modules/lodash/index.js","tower-strcase":"/Users/andersriutta/Sites/kaavio/node_modules/tower-strcase/index.js"}],"/Users/andersriutta/Sites/kaavio/lib/diagram-renderer/selector.js":[function(e,t,n){function r(e,t){return new i(e,t)}function i(e,t){if(!t&&(null===e||void 0===e||void 0===e.getRenderer))throw new Error("Selector need either a base selector instance or a renderer");if(this.setRenderer(t?t:e.getRenderer()),this.length=0,this._elementsHash={},e&&e.length)for(var n=0;n<e.length;n++)this.addElement(e[n]);return this}function o(e,t){t&&void 0!==t.id&&(e._elementsHash[t.id]=!0)}function s(e){e._elementsHash={}}var a=(e("../utils"),e("lodash")),u=0;i.prototype.getRenderer=function(){return this.renderer},i.prototype.setRenderer=function(e){return this.renderer=e,this},i.prototype.hasElement=function(e){return e&&void 0!==e.id&&void 0!==this._elementsHash[e.id]&&this._elementsHash[e.id]?!0:!1},i.prototype.forceAnId=function(e){return(null===e.id||void 0===e.id)&&(u+=1,e.id="_selector-id-"+u),e},i.prototype.addElement=function(e){return this.hasElement(e)||(this[this.length]=this.forceAnId(e),o(this,e),this.renderer.addElement(this[this.length]),this.length+=1),this},i.prototype.addAndGetElement=function(e){return this.addElement().last()},i.prototype.removeElements=function(){for(var e=this.length-1;e>=0;e--)this.renderer.removeElement(this[e]);return s(this),this.length=0,this},i.prototype.remove=function(){return this.removeElements()},i.prototype.cloneElement=function(){var e=r([],this.getRenderer());if(this.length>0){var t=a.clone(this[0],!0);delete t.id,e.addElement(t),e.removeMarkers()}return e},i.prototype.getClone=function(){return r(this)},i.prototype.getMerge=function(e){return this},i.prototype.filteredById=function(e){for(var t=[],n=0;n<this.length;n++)this[n].id==e&&t.push(this[n]);return r(t,this.getRenderer())};var c=["biopax:Complex","biopax:DnaReference","biopax:DnaRegionReference","biopax:EntityReference","biopax:EntityReferenceTypeVocabulary","biopax:ProteinReference","biopax:PublicationXref","biopax:RelationshipXref","biopax:RnaReference","biopax:RnaRegionReference","biopax:SmallMoleculeReference","biopax:UnificationXref","biopax:Xref","gpml:Metabolite","gpml:GeneProduct","gpml:Unknown"];i.prototype.filteredByXRef=function(e){var t=[],n=a.isString(e)&&0===e.indexOf("id:")?!0:!1,i=null,o=null;n&&(e=e.slice(3),i=new RegExp(e.replace(/[^a-z0-9]/gi,"")+"$","ig"));for(var s=0;s<this.length;s++)this[s].hasOwnProperty("type")&&-1!==c.indexOf(this[s].type)&&(o=null,n?o="id":this[s].hasOwnProperty("title")?o="title":this[s].hasOwnProperty("displayName")&&(o="displayName"),o&&(a.isRegExp(e)&&e.test(this[s][o])&&t.push(this[s]),a.isString(e)&&e===this[s][o]&&t.push(this[s]),0!==t.length&&t[t.length-1]===this[s]||null===i||i.test(this[s].id)&&t.push(this[s])));return r(t,this.getRenderer())},i.prototype.filteredByHavingXRef=function(e){var t,n=[],i=this.filteredByXRef(e),o={};for(t=i.length-1;t>=0;t--)o[i[t].id]=!0;for(t=0;t<this.length;t++)this[t].hasOwnProperty("entityReference")&&void 0!==o[this[t].entityReference]&&n.push(this[t]);return r(n,this.getRenderer())},i.prototype.filteredByText=function(e){for(var t=[],n=0;n<this.length;n++)this[n].hasOwnProperty("textContent")&&(a.isRegExp(e)&&e.test(this[n].textContent.replace(/\n/g," "))&&t.push(this[n]),a.isString(e)&&e===this[n].textContent.replace(/\n/g," ")&&t.push(this[n]));return r(t,this.getRenderer())},i.prototype.filteredByCallback=function(e){for(var t=[],n=0;n<this.length;n++)e(this[n])&&t.push(this[n]);return r(t,this.getRenderer())},i.prototype.getStyle=function(e){return""},i.prototype.setStyle=function(e,t){return this},i.prototype.setStyles=function(e){for(var t=this.length-1;t>=0;t--)this.renderer.updateElement(this[t],e);return this},i.prototype.removeMarkers=function(){for(var e=this.length-1;e>=0;e--)this.renderer.removeElementMarkers(this[e]);return this},i.prototype.getFirst=function(){return this.length>0?r([this[0]],this.getRenderer()):r([],this.getRenderer())},i.prototype.getLast=function(){return this.length>0?r([this[this.length-1]],this.getRenderer()):r([],this.getRenderer())},i.prototype.getNth=function(e){return e<this.length?r([this[e]],this.getRenderer()):r([],this.getRenderer())},i.prototype.forEach=function(e){for(var t=0;t<this.length;t++)e(this.getNth(t))},i.prototype.getWidth=function(){return 0},i.prototype.getHeight=function(){return 0},i.prototype.getBBox=function(){var e={width:0,height:0,top:null,bottom:null,left:null,right:null},t=null;if(this.length>0){t=this.renderer.getElementBBox(this[0]),e=a.assign(e,t);for(var n=this.length-1;n>=1;n--)t=this.renderer.getElementBBox(this[n]),e.top=Math.min(e.top,t.top),e.bottom=Math.max(e.bottom,t.bottom),e.left=Math.min(e.left,t.left),e.right=Math.max(e.right,t.right)}return e.width=e.right-e.left,e.height=e.bottom-e.top,e},i.prototype.getId=function(){return this.length?this[0].id:null},i.prototype.isEmpty=function(){return 0===this.length},t.exports={init:function(e,t){return r(e,t)}}},{"../utils":"/Users/andersriutta/Sites/kaavio/lib/utils.js",lodash:"/Users/andersriutta/Sites/kaavio/node_modules/lodash/index.js"}],"/Users/andersriutta/Sites/kaavio/lib/footer-open-button.js":[function(e,t,n){var r=e("mithril"),i={};i.vm=function(){var e={};return e.stateMappings={closed:{style:"visibility: visible; "},open:{style:"visibility: hidden; "}},e.label=r.prop("Quick Edit"),e.init=function(t){e.onunload=function(){console.log("unloading footerOpenButton module")}},e}(),i.controller=function(e){i.vm.init(e)},i.view=function(e,t){var n=i.vm;return n.stateMapping=n.stateMappings[t.kaavioComponent.vm.state.footer()],r("div",{onclick:function(e){t.kaavioComponent.vm.state.footer("open")},style:n.stateMapping.style,"class":"editor-open-control editor-"+t.kaavioComponent.vm.state.footer()+" label label-default"},[r('span.glyphicon.glyphicon-chevron-up[aria-hidden="true"]'),r("span",{}," "+n.label())])},t.exports=i},{mithril:"/Users/andersriutta/Sites/kaavio/node_modules/mithril/mithril.js"}],"/Users/andersriutta/Sites/kaavio/lib/footer.js":[function(e,t,n){(function(n){var r=(e("lodash"),e("insert-css")),i=e("mithril"),o=[n("LmthYXZpby1mb290ZXIgewptYXJnaW4tdG9wOiAwOwptYXJnaW4tYm90dG9tOiAwOwp9Cg==","base64")];o.map(r);var s={};s.vm=function(){var e={};return e.init=function(t){var n=t,r={};return r.controller=function(e){this.speak=function(e){console.log("name: "+e)}},r.view=function(e,t){return i("div",{},"Placeholder"+(new Date).toISOString())},e.content=t.footerContent||r,e.state=n.kaavioComponent.vm.state.footer,e.onunload=function(){e[e.state()]()},e.open=function(){window.setTimeout(function(){n.panZoom.resizeDiagram()},1e3)},e.closed=function(){e.state("closed"),n.panZoom.resizeDiagram()},e},e}(),s.controller=function(e){this.vm=s.vm.init(e)},s.view=function(e,t){return t.footerContent||e.vm||e.vm.content?"closed"===s.vm.state()?i.component(t.footerOpenButton,t):"open"===s.vm.state()?i.component(e.vm.content,t):void 0:void 0},t.exports=s}).call(this,e("buffer").Buffer)},{buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js","insert-css":"/Users/andersriutta/Sites/kaavio/node_modules/insert-css/index.js",lodash:"/Users/andersriutta/Sites/kaavio/node_modules/lodash/index.js",mithril:"/Users/andersriutta/Sites/kaavio/node_modules/mithril/mithril.js"}],"/Users/andersriutta/Sites/kaavio/lib/highlighter/highlighter.js":[function(e,t,n){(function(n){function r(e){var t=[];return e&&e.length&&e.filter(function(e){return"gpml:DataNode"===e["gpml:element"]||"gpml:Label"===e["gpml:element"]}).forEach(function(e){if(e.hasOwnProperty("textContent")){var n=e.textContent.replace(/\n/g," ");t.push({val:n,valLower:n.toLowerCase()})}}),t}function i(e,t,n){var r=[],i=[],o=t.toLowerCase();n=n||10;for(var s=0;s<e.length&&!(r.length>=n);s++)0===e[s].valLower.indexOf(o)&&-1===i.indexOf(e[s].valLower)&&(r.push(e[s]),i.push(e[s].valLower));if(r.length<n)for(var a=0;a<e.length&&!(r.length>=n);a++)e[a].valLower.indexOf(o)>0&&-1===i.indexOf(e[a].valLower)&&(r.push(e[a]),i.push(e[a].valLower));return r}var o=e("lodash"),s=e("insert-css");e("typeahead.js");var a=n("LmthYXZpby1oaWdobGlnaHRlciB7CiAgLypiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOyovCiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogNXB4OwogIHJpZ2h0OiA1cHg7CiAgbGluZS1oZWlnaHQ6IDEuMGVtOyAvKiBuZWVkZWQgZm9yIHdwICovCiAgZGlzcGxheTogZmxleDsgLyogbmVlZGVkIGZvciB3cCAqLwp9CgovKgogIElucHV0CiAqLwoua2FhdmlvLWhpZ2hsaWdodGVyIC5oaWdobGlnaHRlci1pbnB1dHsKICB3aWR0aDogMTg1cHg7CiAgcGFkZGluZzogM3B4IDRweCAycHg7CiAgZm9udC1zaXplOiAxM3B4OwogIGxpbmUtaGVpZ2h0OiAxLjM7CiAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsKICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDNweDsKICAgICAtbW96LWJvcmRlci1yYWRpdXM6IDNweDsKICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDsKfQoua2FhdmlvLWhpZ2hsaWdodGVyIC5oaWdobGlnaHRlci1pbnB1dDpmb2N1c3sKICBib3JkZXI6IDFweCBzb2xpZCAjMDA5N2NmOwp9CgovKgogIEljb24gcmVtb3ZlCiAqLwoua2FhdmlvLWhpZ2hsaWdodGVyIC5oaWdobGlnaHRlci1yZW1vdmV7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBoZWlnaHQ6IDE1cHg7CiAgd2lkdGg6IDE1cHg7CiAgbWFyZ2luOiA1cHggMCAwIDRweDsKfQoKLmthYXZpby1oaWdobGlnaHRlciAuaGlnaGxpZ2h0ZXItcmVtb3ZlOmJlZm9yZSwKLmthYXZpby1oaWdobGlnaHRlciAuaGlnaGxpZ2h0ZXItcmVtb3ZlOmFmdGVyewogIGNvbnRlbnQ6ICcnOwogIGhlaWdodDogNHB4OwogIHdpZHRoOiAxNXB4OwogIGRpc3BsYXk6IGJsb2NrOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDZweDsKICBsZWZ0OiAwcHg7CiAgYmFja2dyb3VuZDogI2FhYTsKICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDNweDsKICAgICAtbW96LWJvcmRlci1yYWRpdXM6IDNweDsKICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDsKICAtd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTsKICAgICAtbW96LXRyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTsKICAgICAgLW1zLXRyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTsKICAgICAgIC1vLXRyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTsKICAgICAgICAgIHRyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTsKfQoKLmthYXZpby1oaWdobGlnaHRlciAuaGlnaGxpZ2h0ZXItcmVtb3ZlOmFmdGVyewogIC13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7CiAgICAgLW1vei10cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTsKICAgICAgLW1zLXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpOwogICAgICAgLW8tdHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7CiAgICAgICAgICB0cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTsKfQoKLmthYXZpby1oaWdobGlnaHRlciAuaGlnaGxpZ2h0ZXItcmVtb3ZlLmFjdGl2ZSB7CiAgY3Vyc29yOiBwb2ludGVyOwp9Cgoua2FhdmlvLWhpZ2hsaWdodGVyIC5oaWdobGlnaHRlci1yZW1vdmUuYWN0aXZlOmJlZm9yZSwKLmthYXZpby1oaWdobGlnaHRlciAuaGlnaGxpZ2h0ZXItcmVtb3ZlLmFjdGl2ZTphZnRlcnsKICBiYWNrZ3JvdW5kOiAjNTU1Owp9CgovKgogIERyb3Bkb3duCiAqLwoua2FhdmlvLWhpZ2hsaWdodGVyIC50dC1kcm9wZG93bi1tZW51IHsKICB3aWR0aDogMTkzcHg7CiAgbWFyZ2luLXRvcDogMDsKICBwYWRkaW5nOiAwOwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsKICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMik7CiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgLW1vei1ib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7CiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDFweCA0cHggLTFweCByZ2JhKDAsMCwwLC4yKTsKICAgICAtbW96LWJveC1zaGFkb3c6IDAgMXB4IDRweCAtMXB4IHJnYmEoMCwwLDAsLjIpOwogICAgICAgICAgYm94LXNoYWRvdzogMCAxcHggNHB4IC0xcHggcmdiYSgwLDAsMCwuMik7Cn0KCi5rYWF2aW8taGlnaGxpZ2h0ZXIgLnR0LXN1Z2dlc3Rpb24gewogIHBhZGRpbmc6IDJweCA0cHg7CiAgZm9udC1zaXplOiAxNHB4OwogIGxpbmUtaGVpZ2h0OiAyMHB4Owp9Cgoua2FhdmlvLWhpZ2hsaWdodGVyIC50dC1zdWdnZXN0aW9uIHB7CiAgbWFyZ2luOiAwOwogIHRleHQtYWxpZ246IGxlZnQ7Cn0KCi5rYWF2aW8taGlnaGxpZ2h0ZXIgLnR0LXN1Z2dlc3Rpb246Zmlyc3QtY2hpbGR7CiAgcGFkZGluZy10b3A6IDRweDsKfQoua2FhdmlvLWhpZ2hsaWdodGVyIC50dC1zdWdnZXN0aW9uOmxhc3QtY2hpbGR7CiAgcGFkZGluZy1ib3R0b206IDRweDsKfQoKLmthYXZpby1oaWdobGlnaHRlciAudHQtc3VnZ2VzdGlvbi50dC1jdXJzb3IgewogIGNvbG9yOiAjZmZmOwogIGJhY2tncm91bmQtY29sb3I6ICMwMDk3Y2Y7CiAgY3Vyc29yOiBwb2ludGVyOwp9Cg==","base64");

s(a);var u={displayInputField:!0,autocompleteLimit:10,styles:{backgroundColor:"yellow",backgroundOpacity:.2,borderColor:"orange",borderWidth:3,borderOpacity:.9,"pointer-events":"none"}},c=function(e,t){this.options=$.extend({},u,t),this.kaavio=e,this.$kaavioElement=$(this.kaavio.containerElement),this.kaavioSourceData=this.kaavio.getSourceData(),this.isInitiated=!0,this.selector=this.kaavioSourceData.selector,this.elements=this.kaavioSourceData.pvjson.elements,this.groups={},this.options.displayInputField&&(this.searcheableValues=r(this.elements),this.initInputField())};c.prototype.highlight=function(e,t,n){var r=this;if(this.isInitiated)return e=o.isArray(e)?e:[e],e.map(function(e){var i=r.selectByString(e);return i.length&&i.forEach(function(e){r._highlight(t||"default",e,n)}),i.length>0}).reduce(function(e,t){return e||t})},c.prototype.attenuate=function(e,t){var n=this;if(this.isInitiated)return"undefined"==typeof e||null===e?void this._attenuate(t||"default",null):(e=o.isArray(e)?e:[e],e.map(function(e){n.selectByString(e).forEach(function(e){n._attenuate(t||"default",e)})}))},c.prototype.selectByString=function(e){var t=[];return t="#"===e[0]?this.selector.filteredById(e.slice(1)):0===e.indexOf("id:")?this.selector.filteredById(e.slice(3)):0===e.indexOf("xref:")?this.selector.filteredByHavingXRef(e.slice(5)):this.selector.filteredByText(e)},c.prototype._highlight=function(e,t,n){n=$.extend({},this.options.styles,n),"undefined"==typeof this.groups[e]&&(this.groups[e]=[]);var r,i,o,s,a=!1;for(i in this.groups[e])if(o=this.groups[e][i],o.element.getId()===t.getId()){s=o.highlighting,a=!0;break}if(!a)for(r in this.groups)for(i in this.groups[r])if(o=this.groups[r][i],o.element.getId()===t.getId()){s=o.highlighting;break}if(s)s.setStyles(n);else if("gpml:Interaction"===t[0]["gpml:element"]||"gpml:GraphicalLine"===t[0]["gpml:element"])delete n.backgroundColor,s=t.cloneElement().setStyles(n);else{var u=t.getBBox();u.x=u.left,u.y=u.top,this.selector.addElement($.extend({shape:"rectangle"},n,u)),s=this.selector.getLast(),s.setStyles(n)}"preset"===e&&(this.presets=this.presets||{},this.presets[t.getId()]=this._highlight.bind(this,e,t,n)),s&&!a&&this.groups[e].push({element:t,highlighting:s})},c.prototype._attenuate=function(e,t){if("undefined"!=typeof this.groups[e]&&this.groups[e].length)for(var n=this.groups[e],r=t&&t.getId(),i=n.length-1;i>=0;i--)if(null===t||n[i].element.getId()===r){var s=n[i].element.getId(),a=this.presets,u=a&&o.isFunction(a[s]);u?a[s]():(n[i].highlighting.remove(),this.removeElementFromGroups(n[i].element))}},c.prototype.removeElementFromGroups=function(e){var t,n,r;for(t in this.groups){n=this.groups[t];for(r in n)if(n[r].element.getId()===e.getId()){{n.splice(r,1)[0]}break}}},c.prototype.initInputField=function(){var e=this;this.$element=$('<div class="kaavio-highlighter"/>').appendTo(this.$kaavioElement),this.$input=$('<input type="text"/>').appendTo(this.$element).attr("placeholder","Search for...").attr("class","highlighter-input"),this.$inputReset=$('<i class="highlighter-remove"/>').appendTo(this.$element),this.$input.typeahead({minLength:1,highlight:!0},{displayKey:"val",source:function(t,n){n(i(e.searcheableValues,t,e.options.autocompleteLimit))}}),this.$input.on("typeahead:selected",function(t,n){e.updateTypeaheadHighlight()}).on("typeahead:closed",function(t,n){setTimeout(function(){e.updateTypeaheadHighlight()},10)}).on("typeahead:autocompleted typeahead:cursorchanged",function(t,n){e.updateTypeaheadHighlight(!0)}).on("keypress",function(t){t.keyCode&&13===t.keyCode&&(e.$input.typeahead("close"),e.updateTypeaheadHighlight())}),this.$inputReset.on("click",function(){e.$input.val(""),e.attenuate(null,"typeahead"),e.$inputReset.removeClass("active")})},c.prototype.updateTypeaheadHighlight=function(e){e=e||!1;var t=e?{fill:"blue"}:{};this.attenuate(null,"typeahead"),this.highlight(this.$input.val(),"typeahead",t)?this.$inputReset.addClass("active"):this.$inputReset.removeClass("active")},t.exports=c}).call(this,e("buffer").Buffer)},{buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js","insert-css":"/Users/andersriutta/Sites/kaavio/node_modules/insert-css/index.js",lodash:"/Users/andersriutta/Sites/kaavio/node_modules/lodash/index.js","typeahead.js":"/Users/andersriutta/Sites/kaavio/node_modules/typeahead.js/dist/typeahead.bundle.js"}],"/Users/andersriutta/Sites/kaavio/lib/main.js":[function(e,t,n){(function(n){var r=e("lodash"),i=e("./diagram-renderer/diagram-component.js"),o=e("./footer.js"),s=e("./footer-open-button.js"),a=(e("highland"),e("insert-css")),u=e("jsonld-rx"),c=e("mithril"),l=e("./notifications/notifications.js"),d=(e("rx"),e("rx-node"),e("spin.js")),f=e("./utils.js"),h=[n("IyMgRXh0cmFjdGVkIHN1YnNldCBvZiBib290c3RyYXAuY3NzIHRvIG1pbmltaXplIGNvbmZsaWN0IHdpdGggd2lraXBhdGh3YXlzL21lZGlhd2lraSBjc3MNCg0KIyMgVGhlc2UgZWxlbWVudHMgaW4gcGFydGljdWxhciBhcmUga25vd24gdG8gY29uZmxpY3Q6IGJvZHksIHVsLCBoIywgYQ0KIyMgTm90ZTogY2hhbmdlZCB1bCB0byAubmF2PnVsIHRvIGF2b2lkIGNvbmZsaWN0IA0KDQojIyBQb3NzaWJsZSBjb25mbGljdHMgd2l0aCB0YWJsZXMuLi4gYnV0IG5vbmUgb2JzZXJ2ZWQgc28gZmFyDQoNCnRhYmxlIHsNCiAgYm9yZGVyLXNwYWNpbmc6IDA7DQogIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7DQogIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50Ow0KfQ0KDQouc2ltcGxlLW1vZGFsLW92ZXJsYXkgew0KICBvcGFjaXR5OiAwLjQ7DQogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7DQp9DQoNCi50YWJsZS1ib3JkZXJlZCB7DQogIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7DQp9DQoNCi50YWJsZSB7DQogIHdpZHRoOiAxMDAlOw0KICBtYXgtd2lkdGg6IDEwMCU7DQogIG1hcmdpbi1ib3R0b206IDIwcHg7DQp9DQoNCi50YWJsZT5jYXB0aW9uK3RoZWFkPnRyOmZpcnN0LWNoaWxkPnRkLCAudGFibGU+Y2FwdGlvbit0aGVhZD50cjpmaXJzdC1jaGlsZD50aCwgLnRhYmxlPmNvbGdyb3VwK3RoZWFkPnRyOmZpcnN0LWNoaWxkPnRkLCAudGFibGU+Y29sZ3JvdXArdGhlYWQ+dHI6Zmlyc3QtY2hpbGQ+dGgsIC50YWJsZT50aGVhZDpmaXJzdC1jaGlsZD50cjpmaXJzdC1jaGlsZD50ZCwgLnRhYmxlPnRoZWFkOmZpcnN0LWNoaWxkPnRyOmZpcnN0LWNoaWxkPnRoIHsNCiAgYm9yZGVyLXRvcDogMDsNCn0NCg0KLnRhYmxlLWJvcmRlcmVkPnRoZWFkPnRyPnRkLCAudGFibGUtYm9yZGVyZWQ+dGhlYWQ+dHI+dGggew0KICBib3JkZXItYm90dG9tLXdpZHRoOiAycHg7DQp9DQoNCi50YWJsZS1ib3JkZXJlZD50Ym9keT50cj50ZCwgLnRhYmxlLWJvcmRlcmVkPnRib2R5PnRyPnRoLCAudGFibGUtYm9yZGVyZWQ+dGZvb3Q+dHI+dGQsIC50YWJsZS1ib3JkZXJlZD50Zm9vdD50cj50aCwgLnRhYmxlLWJvcmRlcmVkPnRoZWFkPnRyPnRkLCAudGFibGUtYm9yZGVyZWQ+dGhlYWQ+dHI+dGggew0KICBib3JkZXI6IDFweCBzb2xpZCAjZGRkOw0KfQ0KDQoudGFibGU+dGhlYWQ+dHI+dGggew0KICB2ZXJ0aWNhbC1hbGlnbjogYm90dG9tOw0KICBib3JkZXItYm90dG9tOiAycHggc29saWQgI2RkZDsNCn0NCg0KLnRhYmxlPnRib2R5PnRyPnRkLCAudGFibGU+dGJvZHk+dHI+dGgsIC50YWJsZT50Zm9vdD50cj50ZCwgLnRhYmxlPnRmb290PnRyPnRoLCAudGFibGU+dGhlYWQ+dHI+dGQsIC50YWJsZT50aGVhZD50cj50aCB7DQogIHBhZGRpbmc6IDRweDsNCiAgbGluZS1oZWlnaHQ6IDEuNDI4NTcxNDM7DQogIHZlcnRpY2FsLWFsaWduOiB0b3A7DQogIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZGRkOw0KICBmb250LXNpemU6IDEwMCU7DQp9DQoNCi50YWJsZS1ob3Zlcj50Ym9keT50cjpob3ZlciB7DQogIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7DQp9DQoNCkBmb250LWZhY2Ugew0KICBmb250LWZhbWlseTonR2x5cGhpY29ucyBIYWxmbGluZ3MnO3NyYzp1cmwoaHR0cDovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjMuMi9mb250cy9nbHlwaGljb25zLWhhbGZsaW5ncy1yZWd1bGFyLmVvdCk7c3JjOnVybChodHRwOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vYm9vdHN0cmFwLzMuMy4yL2ZvbnRzL2dseXBoaWNvbnMtaGFsZmxpbmdzLXJlZ3VsYXIuZW90PyNpZWZpeCkgZm9ybWF0KCdlbWJlZGRlZC1vcGVudHlwZScpLHVybChodHRwOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vYm9vdHN0cmFwLzMuMy4yL2ZvbnRzL2dseXBoaWNvbnMtaGFsZmxpbmdzLXJlZ3VsYXIudHRmKSBmb3JtYXQoJ3RydWV0eXBlJyk7DQp9DQoNCi5nbHlwaGljb24gew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIHRvcDogLTFweDsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICBmb250LWZhbWlseTogJ0dseXBoaWNvbnMgSGFsZmxpbmdzJzsNCiAgZm9udC1zdHlsZTogbm9ybWFsOw0KICBmb250LXdlaWdodDogYm9sZDsNCiAgbGluZS1oZWlnaHQ6IDE7DQogIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkOw0KICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlOw0KfQ0KDQouZ2x5cGhpY29uLXNlYXJjaDpiZWZvcmUgew0KICBjb250ZW50OiAiXGUwMDMiOw0KfQ0KDQouZ2x5cGhpY29uLW9rOmJlZm9yZSB7DQogIGNvbnRlbnQ6ICJcZTAxMyI7DQp9DQoNCi5nbHlwaGljb24tcmVtb3ZlOmJlZm9yZSB7DQogIGNvbnRlbnQ6ICJcZTAxNCI7DQp9DQoNCg0KLmdseXBoaWNvbi1jaGV2cm9uLXVwOmJlZm9yZSB7DQogIGNvbnRlbnQ6ICJcZTExMyI7DQp9DQoNCi5nbHlwaGljb24tY2hldnJvbi1kb3duOmJlZm9yZSB7DQogIGNvbnRlbnQ6ICJcZTExNCI7DQp9DQoNCi5uYXYtdGFicyB7DQogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkOw0KfQ0KDQoubmF2IHsNCiAgcGFkZGluZy1sZWZ0OiAwOw0KICBtYXJnaW4tYm90dG9tOiAwOw0KICBsaXN0LXN0eWxlOiBub25lOw0KICBtYXJnaW4tbGVmdDogMDsNCn0NCg0KLm5hdi10YWJzPmxpIHsNCiAgZmxvYXQ6IGxlZnQ7DQogIG1hcmdpbi1ib3R0b206IC0xcHg7DQp9DQoNCi5uYXYtdGFicz5saS5hY3RpdmU+YSwgLm5hdi10YWJzPmxpLmFjdGl2ZT5hOmZvY3VzLCAubmF2LXRhYnM+bGkuYWN0aXZlPmE6aG92ZXIgew0KICBjb2xvcjogIzU1NTsNCiAgY3Vyc29yOiBkZWZhdWx0Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KICBib3JkZXI6IDFweCBzb2xpZCAjZGRkOw0KICBib3JkZXItYm90dG9tLWNvbG9yOiB0cmFuc3BhcmVudDsNCiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KfQ0KDQoubmF2LXRhYnM+bGk+YSB7DQogIG1hcmdpbi1yaWdodDogMnB4Ow0KICBsaW5lLWhlaWdodDogMS40Mjg1NzE0MzsNCiAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7DQogIGJvcmRlci1yYWRpdXM6IDRweCA0cHggMCAwOw0KfQ0KDQoubmF2PmxpPmEgew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIGRpc3BsYXk6IGJsb2NrOw0KICBwYWRkaW5nOiAxMHB4IDE1cHg7DQp9DQoNCi5uYXY+bGk+YTpob3ZlciB7DQogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTsNCn0NCg0KLndlbGwtc20gew0KICBwYWRkaW5nOiA5cHg7DQogIGJvcmRlci1yYWRpdXM6IDNweDsNCn0NCg0KLndlbGwgew0KICBtaW4taGVpZ2h0OiAyMHB4Ow0KICBwYWRkaW5nOiAxOXB4Ow0KICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1Ow0KICBib3JkZXI6IDFweCBzb2xpZCAjZTNlM2UzOw0KICBib3JkZXItcmFkaXVzOiA0cHg7DQogIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMXB4IHJnYmEoMCwwLDAsLjA1KTsNCiAgYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMXB4IHJnYmEoMCwwLDAsLjA1KTsNCn0NCg0KLm5hdmJhci1kZWZhdWx0IHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmODsNCiAgYm9yZGVyLWNvbG9yOiAjZTdlN2U3Ow0KfQ0KDQpAbWVkaWEgKG1pbi13aWR0aDogNzY4cHgpDQoubmF2YmFyLWZvcm0gew0KICB3aWR0aDogYXV0bzsNCnBhZGRpbmctdG9wOiAwOw0KcGFkZGluZy1ib3R0b206IDA7DQptYXJnaW4tcmlnaHQ6IDA7DQptYXJnaW4tbGVmdDogMDsNCmJvcmRlcjogMDsNCi13ZWJraXQtYm94LXNoYWRvdzogbm9uZTsNCmJveC1zaGFkb3c6IG5vbmU7DQp9DQoNCi5uYXZiYXItZm9ybSB7DQogIHBhZGRpbmc6IDEycHggMjBweDsNCiAgbWFyZ2luLXJpZ2h0OiAtMTVweDsNCiAgbWFyZ2luLWxlZnQ6IC0xNXB4Ow0KICBib3JkZXItdG9wOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7DQogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB0cmFuc3BhcmVudDsNCiAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsLjEpLDAgMXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwuMSk7DQogIGJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwuMSksMCAxcHggMCByZ2JhKDI1NSwyNTUsMjU1LC4xKTsNCn0NCg0KLm5hdmJhci1mb3JtIC5mb3JtLWdyb3VwIHsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICBtYXJnaW4tYm90dG9tOiAwOw0KICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOw0KfQ0KDQouZm9ybS1ncm91cCB7DQogIG1hcmdpbi1ib3R0b206IDE1cHg7DQp9DQoNCi5uYXZiYXItZm9ybSAuaW5wdXQtZ3JvdXAgew0KICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7DQp9DQoNCi5pbnB1dC1ncm91cCB7DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgZGlzcGxheTogdGFibGU7DQogIGJvcmRlci1jb2xsYXBzZTogc2VwYXJhdGU7DQp9DQoNCi5mb3JtLWNvbnRyb2wgew0KICBkaXNwbGF5OiBibG9jazsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogNDRweDsNCiAgcGFkZGluZzogNnB4IDEycHg7DQogIGZvbnQtc2l6ZTogMTRweDsNCiAgbGluZS1oZWlnaHQ6IDEuNDI4NTcxNDM7DQogIGNvbG9yOiAjNTU1Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KICBiYWNrZ3JvdW5kLWltYWdlOiBub25lOw0KICBib3JkZXI6IDFweCBzb2xpZCAjY2NjOw0KICBib3JkZXItcmFkaXVzOiA0cHg7DQogIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMXB4IHJnYmEoMCwwLDAsLjA3NSk7DQogIGJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDFweCByZ2JhKDAsMCwwLC4wNzUpOw0KICAtd2Via2l0LXRyYW5zaXRpb246IGJvcmRlci1jb2xvciBlYXNlLWluLW91dCAuMTVzLC13ZWJraXQtYm94LXNoYWRvdyBlYXNlLWluLW91dCAuMTVzOw0KICAtby10cmFuc2l0aW9uOiBib3JkZXItY29sb3IgZWFzZS1pbi1vdXQgLjE1cyxib3gtc2hhZG93IGVhc2UtaW4tb3V0IC4xNXM7DQogIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciBlYXNlLWluLW91dCAuMTVzLGJveC1zaGFkb3cgZWFzZS1pbi1vdXQgLjE1czsNCn0NCg0KLm5hdmJhci1mb3JtIC5pbnB1dC1ncm91cD4uZm9ybS1jb250cm9sIHsNCiAgd2lkdGg6IDEwMCU7DQp9DQoNCi5uYXZiYXItZm9ybSAuaW5wdXQtZ3JvdXAgLmZvcm0tY29udHJvbCwgLm5hdmJhci1mb3JtIC5pbnB1dC1ncm91cCAuaW5wdXQtZ3JvdXAtYWRkb24sIC5uYXZiYXItZm9ybSAuaW5wdXQtZ3JvdXAgLmlucHV0LWdyb3VwLWJ0biB7DQogIHdpZHRoOiBhdXRvOw0KfQ0KDQouaW5wdXQtZ3JvdXAgLmZvcm0tY29udHJvbDpmaXJzdC1jaGlsZCwgLmlucHV0LWdyb3VwLWFkZG9uOmZpcnN0LWNoaWxkLCAuaW5wdXQtZ3JvdXAtYnRuOmZpcnN0LWNoaWxkPi5idG4sIC5pbnB1dC1ncm91cC1idG46Zmlyc3QtY2hpbGQ+LmJ0bi1ncm91cD4uYnRuLCAuaW5wdXQtZ3JvdXAtYnRuOmZpcnN0LWNoaWxkPi5kcm9wZG93bi10b2dnbGUsIC5pbnB1dC1ncm91cC1idG46bGFzdC1jaGlsZD4uYnRuLWdyb3VwOm5vdCg6bGFzdC1jaGlsZCk+LmJ0biwgLmlucHV0LWdyb3VwLWJ0bjpsYXN0LWNoaWxkPi5idG46bm90KDpsYXN0LWNoaWxkKTpub3QoLmRyb3Bkb3duLXRvZ2dsZSkgew0KICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMDsNCiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDA7DQp9DQoNCi5uYXZiYXItZm9ybSAuZm9ybS1jb250cm9sIHsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICB3aWR0aDogYXV0bzsNCiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsNCn0NCg0KLmlucHV0LWdyb3VwIC5mb3JtLWNvbnRyb2wgew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIHotaW5kZXg6IDI7DQogIHdpZHRoOiAxMDAlOw0KICBtYXJnaW4tYm90dG9tOiAwOw0KfQ0KDQouaW5wdXQtZ3JvdXAtYnRuIHsNCiAgcG9zaXRpb246IHJlbGF0aXZlOw0KICBmb250LXNpemU6IDA7DQogIHdoaXRlLXNwYWNlOiBub3dyYXA7DQp9DQoNCi5pbnB1dC1ncm91cC1hZGRvbiwgLmlucHV0LWdyb3VwLWJ0biB7DQogIHdpZHRoOiAxJTsNCiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsNCn0NCg0KLmlucHV0LWdyb3VwIC5mb3JtLWNvbnRyb2wsIC5pbnB1dC1ncm91cC1hZGRvbiwgLmlucHV0LWdyb3VwLWJ0biB7DQp9DQoNCi5pbnB1dC1ncm91cC1idG46bGFzdC1jaGlsZD4uYnRuLCAuaW5wdXQtZ3JvdXAtYnRuOmxhc3QtY2hpbGQ+LmJ0bi1ncm91cCB7DQogIG1hcmdpbi1sZWZ0OiAtMXB4Ow0KICBtYXJnaW4tdG9wOiAwcHg7DQp9DQoNCi5pbnB1dC1ncm91cCAuZm9ybS1jb250cm9sOmxhc3QtY2hpbGQsIC5pbnB1dC1ncm91cC1hZGRvbjpsYXN0LWNoaWxkLCAuaW5wdXQtZ3JvdXAtYnRuOmZpcnN0LWNoaWxkPi5idG4tZ3JvdXA6bm90KDpmaXJzdC1jaGlsZCk+LmJ0biwgLmlucHV0LWdyb3VwLWJ0bjpmaXJzdC1jaGlsZD4uYnRuOm5vdCg6Zmlyc3QtY2hpbGQpLCAuaW5wdXQtZ3JvdXAtYnRuOmxhc3QtY2hpbGQ+LmJ0biwgLmlucHV0LWdyb3VwLWJ0bjpsYXN0LWNoaWxkPi5idG4tZ3JvdXA+LmJ0biwgLmlucHV0LWdyb3VwLWJ0bjpsYXN0LWNoaWxkPi5kcm9wZG93bi10b2dnbGUgew0KICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwOw0KICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwOw0KfQ0KDQouaW5wdXQtZ3JvdXAtc20+LmZvcm0tY29udHJvbCwgLmlucHV0LWdyb3VwLXNtPi5pbnB1dC1ncm91cC1hZGRvbiwgLmlucHV0LWdyb3VwLXNtPi5pbnB1dC1ncm91cC1idG4+LmJ0biB7DQogIGhlaWdodDogMzBweDsNCiAgcGFkZGluZzogNXB4IDEwcHg7DQogIGZvbnQtc2l6ZTogMTJweDsNCiAgbGluZS1oZWlnaHQ6IDEuNTsNCiAgYm9yZGVyLXJhZGl1czogM3B4Ow0KfQ0KDQouaW5wdXQtZ3JvdXAtYnRuPi5idG4gew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQp9DQoNCmJ1dHRvbiwgaHRtbCBpbnB1dFt0eXBlPWJ1dHRvbl0sIGlucHV0W3R5cGU9cmVzZXRdLCBpbnB1dFt0eXBlPXN1Ym1pdF0gew0KICAtd2Via2l0LWFwcGVhcmFuY2U6IGJ1dHRvbjsNCiAgY3Vyc29yOiBwb2ludGVyOw0KfQ0KDQpidXR0b24sIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhIHsNCiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7DQogIGZvbnQtc2l6ZTogaW5oZXJpdDsNCiAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7DQp9DQoNCmJ1dHRvbiwgc2VsZWN0IHsNCiAgdGV4dC10cmFuc2Zvcm06IG5vbmU7DQp9DQoNCmJ1dHRvbiB7DQogIG92ZXJmbG93OiB2aXNpYmxlOw0KfQ0KDQouYnRuIHsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICBwYWRkaW5nOiA3cHggOHB4Ow0KICBtYXJnaW4tYm90dG9tOiAwOw0KICBoZWlnaHQ6IDQ0cHg7DQogIGZvbnQtd2VpZ2h0OiA0MDA7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsNCiAgLW1zLXRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uOw0KICB0b3VjaC1hY3Rpb246IG1hbmlwdWxhdGlvbjsNCiAgY3Vyc29yOiBwb2ludGVyOw0KICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lOw0KICAtbW96LXVzZXItc2VsZWN0OiBub25lOw0KICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7DQogIHVzZXItc2VsZWN0OiBub25lOw0KICBiYWNrZ3JvdW5kLWltYWdlOiBub25lOw0KICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDsNCiAgYm9yZGVyLXJhZGl1czogNHB4Ow0KfQ0KDQouYnRuLXN1Y2Nlc3Mgew0KICBjb2xvcjogI2ZmZjsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzVjYjg1YzsNCiAgYm9yZGVyLWNvbG9yOiAjNGNhZTRjOw0KfQ0KDQouYnRuLWNsb3NlIHsNCiAgY29sb3I6ICM3Nzc7DQogIGJhY2tncm91bmQtY29sb3I6IGZmZjsNCiAgYm9yZGVyLWNvbG9yOiAjY2NjOw0KfQ0KDQouYnRuLWRlZmF1bHQgew0KICBjb2xvcjogIzMzMzsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsNCiAgYm9yZGVyLWNvbG9yOiAjY2NjOw0KfQ0KDQppbnB1dCB7DQogIGxpbmUtaGVpZ2h0OiBub3JtYWw7DQp9DQoNCi5nbHlwaGljb24gew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIHRvcDogMXB4Ow0KICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogIGZvbnQtZmFtaWx5OiAnR2x5cGhpY29ucyBIYWxmbGluZ3MnOw0KICBmb250LXN0eWxlOiBub3JtYWw7DQogIGZvbnQtd2VpZ2h0OiA0MDA7DQogIGxpbmUtaGVpZ2h0OiAxOw0KICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDsNCiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTsNCn0NCg0Kc2VsZWN0LmlucHV0LXNtIHsNCiAgaGVpZ2h0OiAzMHB4Ow0KICBsaW5lLWhlaWdodDogMzBweDsNCn0NCg0KLmlucHV0LXNtIHsNCiAgaGVpZ2h0OiAzMHB4Ow0KICBwYWRkaW5nOiA1cHggMTBweDsNCiAgZm9udC1zaXplOiAxMnB4Ow0KICBsaW5lLWhlaWdodDogMS41Ow0KICBib3JkZXItcmFkaXVzOiAzcHg7DQp9DQoNCi5uYXZiYXItcmlnaHQgew0KICBmbG9hdDogcmlnaHQhaW1wb3J0YW50Ow0KICBtYXJnaW4tcmlnaHQ6IC04cHg7DQp9DQoNCkBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkNCi5uYXZiYXIgew0KICBib3JkZXItcmFkaXVzOiA0cHg7DQp9DQoNCi5uYXZiYXIgew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIG1pbi1oZWlnaHQ6IDUwcHg7DQogIG1hcmdpbi1ib3R0b206IDIwcHg7DQogIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50Ow0KfQ0KDQoubmF2YmFyLWxlZnQgew0KICBmbG9hdDogbGVmdCFpbXBvcnRhbnQ7DQp9DQoNCi5uYXY+bGkgew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIGRpc3BsYXk6IGJsb2NrOw0KfQ0KDQoubGFiZWwtZGVmYXVsdCB7DQogIGJhY2tncm91bmQtY29sb3I6ICM3Nzc7DQp9DQoNCi5sYWJlbC1kZWZhdWx0PmE6aG92ZXIgew0KICB0ZXh0LWRlY29yYXRpb246IG5vbmU7DQp9DQoNCi5sYWJlbCB7DQogIGRpc3BsYXk6IGlubGluZTsNCiAgcGFkZGluZzogLjRlbSAuNmVtIC4zZW07DQogIGZvbnQtc2l6ZTogMTIwJTsNCiAgZm9udC13ZWlnaHQ6IDQwMDsNCiAgbGluZS1oZWlnaHQ6IDE7DQogIGNvbG9yOiAjZmZmOw0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIHdoaXRlLXNwYWNlOiBub3dyYXA7DQogIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTsNCiAgYm9yZGVyLXJhZGl1czogLjI1ZW07DQp9DQoNCiogew0KICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogIC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCn0NCg0KOmFmdGVyLCA6YmVmb3JlIHsNCiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQp9DQoNCi5idG4tZ3JvdXAtdmVydGljYWw+LmJ0bi1ncm91cDphZnRlciwgLmJ0bi1ncm91cC12ZXJ0aWNhbD4uYnRuLWdyb3VwOmJlZm9yZSwgLmJ0bi10b29sYmFyOmFmdGVyLCAuYnRuLXRvb2xiYXI6YmVmb3JlLCAuY2xlYXJmaXg6YWZ0ZXIsIC5jbGVhcmZpeDpiZWZvcmUsIC5jb250YWluZXItZmx1aWQ6YWZ0ZXIsIC5jb250YWluZXItZmx1aWQ6YmVmb3JlLCAuY29udGFpbmVyOmFmdGVyLCAuY29udGFpbmVyOmJlZm9yZSwgLmRsLWhvcml6b250YWwgZGQ6YWZ0ZXIsIC5kbC1ob3Jpem9udGFsIGRkOmJlZm9yZSwgLmZvcm0taG9yaXpvbnRhbCAuZm9ybS1ncm91cDphZnRlciwgLmZvcm0taG9yaXpvbnRhbCAuZm9ybS1ncm91cDpiZWZvcmUsIC5tb2RhbC1mb290ZXI6YWZ0ZXIsIC5tb2RhbC1mb290ZXI6YmVmb3JlLCAubmF2OmFmdGVyLCAubmF2OmJlZm9yZSwgLm5hdmJhci1jb2xsYXBzZTphZnRlciwgLm5hdmJhci1jb2xsYXBzZTpiZWZvcmUsIC5uYXZiYXItaGVhZGVyOmFmdGVyLCAubmF2YmFyLWhlYWRlcjpiZWZvcmUsIC5uYXZiYXI6YWZ0ZXIsIC5uYXZiYXI6YmVmb3JlLCAucGFnZXI6YWZ0ZXIsIC5wYWdlcjpiZWZvcmUsIC5wYW5lbC1ib2R5OmFmdGVyLCAucGFuZWwtYm9keTpiZWZvcmUsIC5yb3c6YWZ0ZXIsIC5yb3c6YmVmb3JlIHsNCiAgZGlzcGxheTogdGFibGU7DQogIGNvbnRlbnQ6ICIgIjsNCn0NCg0KLmJ0bi1ncm91cC12ZXJ0aWNhbD4uYnRuLWdyb3VwOmFmdGVyLCAuYnRuLXRvb2xiYXI6YWZ0ZXIsIC5jbGVhcmZpeDphZnRlciwgLmNvbnRhaW5lci1mbHVpZDphZnRlciwgLmNvbnRhaW5lcjphZnRlciwgLmRsLWhvcml6b250YWwgZGQ6YWZ0ZXIsIC5mb3JtLWhvcml6b250YWwgLmZvcm0tZ3JvdXA6YWZ0ZXIsIC5tb2RhbC1mb290ZXI6YWZ0ZXIsIC5uYXY6YWZ0ZXIsIC5uYXZiYXItY29sbGFwc2U6YWZ0ZXIsIC5uYXZiYXItaGVhZGVyOmFmdGVyLCAubmF2YmFyOmFmdGVyLCAucGFnZXI6YWZ0ZXIsIC5wYW5lbC1ib2R5OmFmdGVyLCAucm93OmFmdGVyIHsNCiAgY2xlYXI6IGJvdGg7DQp9DQo=","base64"),n("QGltcG9ydCB1cmwoIi8vbmV0ZG5hLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzMuMi4xL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIpOwoKLmthYXZpby1jb250YWluZXIgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBtaW4td2lkdGg6IDMyMHB4OwogIHdpZHRoOiBpbmhlcml0OwogIG1pbi1oZWlnaHQ6IDIwMHB4OwogIGhlaWdodDogaW5oZXJpdDsKICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICBmb250LWZhbWlseTogSGVsdmV0aWNhLCBzYW5zLXNlcmlmLCBBcmlhbDsKICByZXNpemU6IGJvdGg7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICBkaXNwbGF5OiBibG9jazsKfQoKLmthYXZpby1jb250YWluZXIubG9hZGluZyB7CiAgb3BhY2l0eTogMC43Owp9Cgoua2FhdmlvLWNvbnRhaW5lci5sb2FkaW5nOmFmdGVyIHsKICBjb250ZW50OiAnJzsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgbGVmdDogNTAlOwogIHRvcDogNTAlOwogIHdpZHRoOiAzMnB4OwogIGhlaWdodDogMzJweDsKICBtYXJnaW46IC0xNnB4IDAgMCAtMTZweDsKfQoKLyogQ2VudGVyaW5nIGltYWdlICovCi5rYWF2aW8tY29udGFpbmVyIC5rYWF2aW8taW1nIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgbWFyZ2luOiBhdXRvOwogIHRvcDogMDsKICByaWdodDogMDsKICBib3R0b206IDA7CiAgbGVmdDogMDsKfQoKLmFubm90YXRpb24uZWRpdG9yLW9wZW4gewogIGRpc3BsYXk6IG5vbmU7CiAgdmlzaWJpbGl0eTogaGlkZGVuOwp9Cg==","base64")];h.map(a);var p=0,m={fitToContainer:!0,highlights:[],manualRender:!1},v=function(e,t){if(!e||!t||!t.src&&!t.pvjson)throw new Error("Missing required input(s)");var n=this;n.jsonldRx=new u,n.containerElement=e,n.$element=window.d3.select(e).html("");var i=c.route.parseQueryString(window.location.search.substring(1));i.hasOwnProperty("highlights")&&(t.highlights=JSON.parse(i.highlights)),t.highlights=t.highlights||window.kaavioHighlights||[];var o=r.clone(m,!0);n.options=r.defaults(r.omit(t,function(e){return"undefined"==typeof e||null===e}),o),n.instanceId=++p;new l(n,n.options);n.events=n.events||{},c.startComputation(),n.init()};v.prototype.init=function(){var e=this,t=e.containerElement,n=t.getBoundingClientRect();e.elementWidth=+n.width,e.elementHeight=+n.height;var a=e.kaavioComponent={};a.vm=function(){var t={};return t.init=function(){t.state={header:c.prop("closed"),leftSidebar:c.prop("closed"),rightSidebar:c.prop("closed"),body:c.prop("open"),footer:c.prop(e.options.footer||e.options.editor)},e.diagramComponent=i,"disabled"!==a.vm.state.footer()&&(e.footerOpenButton=s,e.footer=o),t.onunload=function(){},t.onClickHandler=function(e){},t.reset=function(){}},t}(),a.controller=function(){a.vm.init(),this.onunload=function(){a.vm.onunload()}},a.view=function(t){return[c("div",{"class":"annotation ui-draggable editor-"+a.vm.state.footer(),style:function(){var e=a.vm.state.footer();return"open"===e?"visibility: hidden; display: none":"visibility: hidden; "}()},[c("header.annotation-header",{},[c("span.annotation-header-move",{},[c("i.icon-move")]),c("span.annotation-header-close",{},[c("i.icon-remove")]),c("span.annotation-header-text","Header"),c("div.annotation-description",{},[c("h2",{},"description")])]),c("span.annotation-items-container",{},[c("ul.annotation-items-container-list")])]),c.component(i,e),function(){return"disabled"!==a.vm.state.footer()?c.component(e.footer,e):void 0}()]},e.on("rendered.renderer",function(){f.removeClassForD3(e.$element,"loading"),l.stop(),c.endComputation()});var u={lines:13,length:20,width:10,radius:30,corners:1,rotate:0,direction:1,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"},l=e.spinner=new d(u);l.spinDefault=r.partial(l.spin,t),l.spinDefault();var h=t.getAttribute("id")||"kaavio-"+e.instanceId;t.setAttribute("id",h),f.addClassForD3(e.$element,"kaavio-container"),f.addClassForD3(e.$element,"loading")},v.prototype.destroy=function(){var e=this;e.trigger("destroy.kaavio",{message:"User requested kaavio destroy"},!1);for(var t in e.events)e.off(t);e.containerElement.data=void 0,void 0!==typeof $?($(e.containerElement).removeData("kaavio"),$(e.containerElement).empty()):e.containerElement.innerHTML=""},v.prototype.getPublicInstance=function(){var e=this;return void 0===e.publicInstance&&(e.publicInstance={attenuate:function(t,n,r){e.highlighter&&e.highlighter.attenuate&&e.highlighter.attenuate(t,n,r)},instanceId:e.instanceId,getContainerElement:function(){return e.containerElement},destroy:f.proxy(e.destroy,e),on:f.proxy(e.on,e),off:f.proxy(e.off,e),trigger:f.proxy(e.trigger,e),render:f.proxy(e.render,e),highlight:function(t,n,r){e.highlighter&&e.highlighter.highlight&&e.highlighter.highlight(t,n,r)},pan:function(t){e.panZoom&&e.panZoom.pan(t)},panBy:function(t){e.panZoom&&e.panZoom.panBy(t)},getPan:function(){return e.panZoom.getPan()},resizeDiagram:function(){return e.panZoom.resizeDiagram()},zoom:function(t){e.panZoom&&e.panZoom.zoom(t)},zoomBy:function(t){e.panZoom&&e.panZoom.zoomBy(t)},zoomAtPoint:function(t,n){e.panZoom&&e.panZoom.zoomAtPoint(t,n)},zoomAtPointBy:function(t,n){e.panZoom&&e.panZoom.zoomAtPointBy(t,n)},getZoom:function(){return e.panZoom.getZoom()},getOptions:function(){return r.clone(e.options,!0)},getSourceData:function(){return{pvjson:r.clone(e.sourceData.pvjson,!0),original:r.clone(e.options.original,!0),selector:e.sourceData.selector.getClone()}}}),e.publicInstance},v.prototype.on=function(e,t){var n=this,r=null,i=e;if(e&&e.indexOf){if(-1!==e.indexOf(".")){var o=e.split(".");i=o[0],r=o[1]}n.events.hasOwnProperty(i)||(n.events[i]=[]),n.events[i].push({callback:t,namespace:r})}},v.prototype.off=function(e,t){var n=this,r=null,i=e,o=!0;if(t=t||null,-1!==e.indexOf(".")){var s=e.split(".");i=s[0],r=s[1]}if(!n.events.hasOwnProperty(i))return!1;for(var a=n.events[e],u=a.length-1;u>=0;u--)o=!0,r&&a[u].namespace!==r&&(o=!1),t&&a[u].callback!==t&&(o=!1),o&&a.splice(u,1);return!0},v.prototype.trigger=function(e,t,n){var r=this,i=null,o=e;if(-1!==e.indexOf(".")){var s=e.split(".");o=s[0],i=s[1]}if(!r.events.hasOwnProperty(o))return!1;var a=r.events[o];if(0===a.length)return!1;void 0===n&&(n=!0);for(var u=function(e){setTimeout(function(){a[e].callback(t)},0)},c=0;c<a.length;c++)i&&a[c].namespace&&i!==a[c].namespace||(n?u(c):a[c].callback(t));return!0},v.prototype.getOptions=function(){return r.clone(this.options,!0)},v.prototype.getSourceData=function(){return{pvjson:r.clone(this.sourceData.pvjson,!0),original:r.clone(this.options.original,!0),selector:this.sourceData.selector.getClone()}};var b=new CustomEvent("kaavioready");window.dispatchEvent(b),window.Kaavio=v,t.exports=v}).call(this,e("buffer").Buffer)},{"./diagram-renderer/diagram-component.js":"/Users/andersriutta/Sites/kaavio/lib/diagram-renderer/diagram-component.js","./footer-open-button.js":"/Users/andersriutta/Sites/kaavio/lib/footer-open-button.js","./footer.js":"/Users/andersriutta/Sites/kaavio/lib/footer.js","./notifications/notifications.js":"/Users/andersriutta/Sites/kaavio/lib/notifications/notifications.js","./utils.js":"/Users/andersriutta/Sites/kaavio/lib/utils.js",buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js",highland:"/Users/andersriutta/Sites/kaavio/node_modules/highland/lib/index.js","insert-css":"/Users/andersriutta/Sites/kaavio/node_modules/insert-css/index.js","jsonld-rx":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/index.js",lodash:"/Users/andersriutta/Sites/kaavio/node_modules/lodash/index.js",mithril:"/Users/andersriutta/Sites/kaavio/node_modules/mithril/mithril.js",rx:"/Users/andersriutta/Sites/kaavio/node_modules/rx/dist/rx.all.js","rx-node":"/Users/andersriutta/Sites/kaavio/node_modules/rx-node/index.js","spin.js":"/Users/andersriutta/Sites/kaavio/node_modules/spin.js/spin.js"}],"/Users/andersriutta/Sites/kaavio/lib/notifications/notifications.js":[function(e,t,n){(function(n){function r(e,t){var n=$('<div class="kaavio-notifications">').appendTo($(document.body));t=t||{};var r=[];for(var i in c)c.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=c[i]);t.displayErrors&&e.on("error",function(e){s(n,"danger","<strong>Error!</strong> "+e.message,r)}),t.displayWarnings&&e.on("warning",function(e){s(n,"warning","<strong>Warning!</strong> "+e.message,r)}),t.displaySuccess&&e.on("success",function(e){s(n,"success","<strong>Success!</strong> "+e.message,r)})}function i(e,t,n){for(var r in n)if(n[r].type===e&&n[r].message===t)return n[r];return null}function o(e,t){for(var n in t)t[n]===e&&t.splice(n,1)}function s(e,t,n,r){var s=i(t,n,r);if(null!==s)s.counter+=1,s.$element.find(".counter").show().text(s.counter);else{var a=$('<div class="alert alert-'+t+'">').html(n).appendTo(e);s={type:t,message:n,counter:1,$element:a},$('<button type="button" class="close" data-dismiss="alert"><span aria-hidden="true"></span></button>').prependTo(a).on("click",function(){o(s,r),$(this).parent().remove()}),$('<span class="counter">1</span>').hide().prependTo(a),r.push(s)}}var a=e("insert-css"),u=n("LmthYXZpby1ub3RpZmljYXRpb25zIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAwOwogIGxlZnQ6IDA7CiAgcmlnaHQ6IDA7CiAgei1pbmRleDogMTA7Cn0KCi5rYWF2aW8tbm90aWZpY2F0aW9ucyAuYWxlcnR7CiAgcGFkZGluZzogOXB4IDE1cHg7CiAgbWFyZ2luOiA0cHg7CiAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7CiAgYm9yZGVyLXJhZGl1czogNHB4Owp9Cgoua2FhdmlvLW5vdGlmaWNhdGlvbnMgLmFsZXJ0LmFsZXJ0LXN1Y2Nlc3N7CiAgYmFja2dyb3VuZC1jb2xvcjogI2RmZjBkODsKICBib3JkZXItY29sb3I6ICNkNmU5YzY7CiAgY29sb3I6ICMzYzc2M2Q7Cn0KCi5rYWF2aW8tbm90aWZpY2F0aW9ucyAuYWxlcnQuYWxlcnQtaW5mb3sKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDllZGY3OwogIGJvcmRlci1jb2xvcjogI2JjZThmMTsKICBjb2xvcjogIzMxNzA4ZjsKfQoKLmthYXZpby1ub3RpZmljYXRpb25zIC5hbGVydC5hbGVydC13YXJuaW5newogIGJhY2tncm91bmQtY29sb3I6ICNmY2Y4ZTM7CiAgYm9yZGVyLWNvbG9yOiAjZmFlYmNjOwogIGNvbG9yOiAjOGE2ZDNiOwp9Cgoua2FhdmlvLW5vdGlmaWNhdGlvbnMgLmFsZXJ0LmFsZXJ0LWRhbmdlcnsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJkZWRlOwogIGJvcmRlci1jb2xvcjogI2ViY2NkMTsKICBjb2xvcjogI2E5NDQ0MjsKfQoKLmthYXZpby1ub3RpZmljYXRpb25zIC5hbGVydCAuY2xvc2V7CiAgcGFkZGluZzogMDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgYmFja2dyb3VuZDogMCAwOwogIGJvcmRlcjogMDsKICBtYXJnaW46IC0zcHggLTJweCAwIDA7CgogIGZsb2F0OiByaWdodDsKICBmb250LXNpemU6IDIxcHg7CiAgZm9udC1mYW1pbHk6ICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7CiAgZm9udC13ZWlnaHQ6IDcwMDsKICBsaW5lLWhlaWdodDogMTsKICBjb2xvcjogIzAwMDsKICB0ZXh0LXNoYWRvdzogMCAxcHggMCAjZmZmOwogIGZpbHRlcjogYWxwaGEob3BhY2l0eT0yMCk7CiAgb3BhY2l0eTogLjI7Cn0KCgovKgogIENvdW50ZXIKICovCi5rYWF2aW8tbm90aWZpY2F0aW9ucyAuYWxlcnQgLmNvdW50ZXJ7CiAgbWFyZ2luOiAwIDRweCAwIDA7CiAgbWluLXdpZHRoOiAxNXB4OwogIGhlaWdodDogMTVweDsKICBmbG9hdDogbGVmdDsKICBmb250LXNpemU6IDExcHg7CiAgZm9udC1mYW1pbHk6ICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7CiAgbGluZS1oZWlnaHQ6IDE1cHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGNvbG9yOiAjMDAwOwogIGJhY2tncm91bmQ6ICNmZmY7CiAgYm9yZGVyLXJhZGl1czogNTAlOwp9Cgoua2FhdmlvLW5vdGlmaWNhdGlvbnMgLmFsZXJ0LmFsZXJ0LXN1Y2Nlc3MgLmNvdW50ZXJ7CiAgY29sb3I6ICNmZmY7CiAgYmFja2dyb3VuZDogIzMxNzA4RjsKfQoKLmthYXZpby1ub3RpZmljYXRpb25zIC5hbGVydC5hbGVydC1pbmZvIC5jb3VudGVyewogIGNvbG9yOiAjRDk1MzRGOwogIGJhY2tncm91bmQ6ICNFQkNDRDE7Cn0KCi5rYWF2aW8tbm90aWZpY2F0aW9ucyAuYWxlcnQuYWxlcnQtd2FybmluZyAuY291bnRlcnsKICBjb2xvcjogI0Q5NTM0RjsKICBiYWNrZ3JvdW5kOiAjRUJDQ0QxOwp9Cgoua2FhdmlvLW5vdGlmaWNhdGlvbnMgLmFsZXJ0LmFsZXJ0LWRhbmdlciAuY291bnRlcnsKICBjb2xvcjogIzAwMDsKICBiYWNrZ3JvdW5kOiAjZmZmOwp9Cg==","base64");a(u);var c={displaySuccess:!0,displayErrors:!0,displayWarnings:!1};t.exports=r}).call(this,e("buffer").Buffer)},{buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js","insert-css":"/Users/andersriutta/Sites/kaavio/node_modules/insert-css/index.js"}],"/Users/andersriutta/Sites/kaavio/lib/utils.js":[function(e,t,n){"use strict";var r=e("lodash"),i=(e("async"),e("tower-strcase"),{clone:function(e){function t(e,t,n){var r,i,o={};for(r in t)i=t[r],r in e&&(e[r]===i||r in o&&o[r]===i)||(e[r]=n?n(i):i);return e}if(!e||"object"!=typeof e||"[object Function]"===Object.prototype.toString.call(e))return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);var n,r,o;if(e instanceof Array)for(n=[],r=0,o=e.length;o>r;++r)r in e&&n.push(i.clone(e[r]));else n=e.constructor?new e.constructor:{};return t(n,e,i.clone)},cloneNode:function(e){var t=d3.select(e).node();return d3.select(t.parentNode.insertBefore(t.cloneNode(!0),t.nextSibling))},convertToArray:function(e){var t=null;return"Object"===i.getObjectType(e)?(t=[],t.push(e),t):"Array"===i.getObjectType(e)?e:"String"===i.getObjectType(e)?(t=[],t.push(e),t):void 0},getObjectType:function(e){var t;return"[object Object]"===Object.prototype.toString.call(e)?t="Object":"[object Array]"===Object.prototype.toString.call(e)?t="Array":"[object String]"===Object.prototype.toString.call(e)&&(t="String"),t},getTextDirection:function(e){var t,n=new RegExp("[\x00-]+"),r=n.test(e);return t=r?"ltr":"rtl"},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},addClassForD3:function(e,t){var n=e.attr("class")||"";null===n.match(/[^\s]+/g)?e.attr("class",t):-1===n.match(/[^\s]+/g).indexOf(t)&&e.attr("class",n+" "+t)},removeClassForD3:function(e,t){var n=e.attr("class")||"",i=n.match(/[^\s]+/g);null!==i&&-1!==i.indexOf(t)&&(i=r.filter(i,function(e){return e!==t}),e.attr("class",i.join(" ")))},proxy:function(e,t){return function(){e.apply(t,arguments)}},isElement:function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement||e instanceof SVGElement||e instanceof SVGSVGElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName;

}});t.exports=i},{async:"/Users/andersriutta/Sites/node_modules/async/lib/async.js",lodash:"/Users/andersriutta/Sites/kaavio/node_modules/lodash/index.js","tower-strcase":"/Users/andersriutta/Sites/kaavio/node_modules/tower-strcase/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/JSONStream/index.js":[function(e,t,n){(function(r,i){function o(e,t){return"string"==typeof e?t==e:e&&"function"==typeof e.exec?e.exec(t):"boolean"==typeof e?e:"function"==typeof e?e(t):!1}var s=e("jsonparse"),a=e("through");n.parse=function(e,t){var n=new s,r=a(function(e){"string"==typeof e&&(e=new i(e)),n.write(e)},function(e){e&&r.write(e),r.queue(null)});"string"==typeof e&&(e=e.split(".").map(function(e){return"*"===e?!0:""===e?{recurse:!0}:e}));var u=0;return e&&e.length||(e=null),n.onValue=function(n){if(this.root||(r.root=n),e){for(var i=0,s=0;i<e.length;){var a,c=e[i];if(s++,c&&!c.recurse){if(a=s===this.stack.length?this:this.stack[s],!a)return;if(!o(c,a.key))return;i++}else{i++;var l=e[i];if(!l)return;for(;;){if(a=s===this.stack.length?this:this.stack[s],!a)return;if(o(l,a.key)){i++;break}s++}}}if(s===this.stack.length){u++;var d=this.stack.slice(1).map(function(e){return e.key}).concat([this.key]),f=this.value[this.key];null!=f&&null!=(f=t?t(f,d):f)&&r.queue(f),delete this.value[this.key]}}},n._onToken=n.onToken,n.onToken=function(t,i){n._onToken(t,i),0===this.stack.length&&r.root&&(e||r.queue(r.root),r.emit("root",r.root,u),u=0,r.root=null)},n.onError=function(e){r.emit("error",e)},r},n.stringify=function(e,t,n,r){r=r||0,e===!1?(e="",t="\n",n=""):null==e&&(e="[\n",t="\n,\n",n="\n]\n");var i,o=!0,s=!1;return i=a(function(n){s=!0;var a=JSON.stringify(n,null,r);o?(o=!1,i.queue(e+a)):i.queue(t+a)},function(t){s||i.queue(e),i.queue(n),i.queue(null)})},n.stringifyObject=function(e,t,n,r){r=r||0,e===!1?(e="",t="\n",n=""):null==e&&(e="{\n",t="\n,\n",n="\n}\n");var i=!0,o=!1;return stream=a(function(n){o=!0;var s=JSON.stringify(n[0])+":"+JSON.stringify(n[1],null,r);i?(i=!1,this.queue(e+s)):this.queue(t+s)},function(t){o||this.queue(e),this.queue(n),this.queue(null)}),stream},t.parent||"browser"===r.title||r.stdin.pipe(n.parse(r.argv[2])).pipe(n.stringify("[",",\n","]\n",2)).pipe(r.stdout)}).call(this,e("_process"),e("buffer").Buffer)},{_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js",jsonparse:"/Users/andersriutta/Sites/kaavio/node_modules/JSONStream/node_modules/jsonparse/jsonparse.js",through:"/Users/andersriutta/Sites/kaavio/node_modules/JSONStream/node_modules/through/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/JSONStream/node_modules/jsonparse/jsonparse.js":[function(e,t,n){(function(e){function n(e){for(var t=Object.keys(i),n=0,r=t.length;r>n;n++){var o=t[n];if(i[o]===e)return o}return e&&"0x"+e.toString(16)}function r(){this.tState=v,this.value=void 0,this.string=void 0,this.unicode=void 0,this.negative=void 0,this.magnatude=void 0,this.position=void 0,this.exponent=void 0,this.negativeExponent=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=V,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new e(2),3:new e(3),4:new e(4)}}var i={},o=i.LEFT_BRACE=1,s=i.RIGHT_BRACE=2,a=i.LEFT_BRACKET=3,u=i.RIGHT_BRACKET=4,c=i.COLON=5,l=i.COMMA=6,d=i.TRUE=7,f=i.FALSE=8,h=i.NULL=9,p=i.STRING=10,m=i.NUMBER=11,v=i.START=17,b=i.TRUE1=33,g=i.TRUE2=34,y=i.TRUE3=35,w=i.FALSE1=49,_=i.FALSE2=50,x=i.FALSE3=51,k=i.FALSE4=52,S=i.NULL1=65,C=i.NULL3=66,E=i.NULL2=67,j=i.NUMBER1=81,N=i.NUMBER2=82,R=i.NUMBER3=83,T=i.NUMBER4=84,U=i.NUMBER5=85,D=i.NUMBER6=86,A=i.NUMBER7=87,O=i.NUMBER8=88,I=i.STRING1=97,W=i.STRING2=98,M=i.STRING3=99,Z=i.STRING4=100,B=i.STRING5=101,L=i.STRING6=102,V=i.VALUE=113,G=i.KEY=114,z=i.OBJECT=129,F=i.ARRAY=130,X=r.prototype;X.charError=function(e,t){this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(e[t]))+" at position "+t+" in state "+n(this.tState)))},X.onError=function(e){throw e},X.write=function(t){"string"==typeof t&&(t=new e(t));for(var n,r=0,i=t.length;i>r;r++)if(this.tState===v)n=t[r],123===n?this.onToken(o,"{"):125===n?this.onToken(s,"}"):91===n?this.onToken(a,"["):93===n?this.onToken(u,"]"):58===n?this.onToken(c,":"):44===n?this.onToken(l,","):116===n?this.tState=b:102===n?this.tState=w:110===n?this.tState=S:34===n?(this.string="",this.tState=I):45===n?(this.negative=!0,this.tState=j):48===n?(this.magnatude=0,this.tState=N):n>48&&64>n?(this.magnatude=n-48,this.tState=R):32===n||9===n||10===n||13===n||this.charError(t,r);else if(this.tState===I)if(n=t[r],this.bytes_remaining>0){for(var V=0;V<this.bytes_remaining;V++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+V]=t[V];this.string+=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,r=r+V-1}else if(0===this.bytes_remaining&&n>=128)if(n>=194&&223>=n&&(this.bytes_in_sequence=2),n>=224&&239>=n&&(this.bytes_in_sequence=3),n>=240&&244>=n&&(this.bytes_in_sequence=4),this.bytes_in_sequence+r>t.length){for(var G=0;G<=t.length-1-r;G++)this.temp_buffs[this.bytes_in_sequence][G]=t[r+G];this.bytes_remaining=r+this.bytes_in_sequence-t.length,r=t.length-1}else this.string+=t.slice(r,r+this.bytes_in_sequence).toString(),r=r+this.bytes_in_sequence-1;else 34===n?(this.tState=v,this.onToken(p,this.string),this.string=void 0):92===n?this.tState=W:n>=32?this.string+=String.fromCharCode(n):this.charError(t,r);else this.tState===W?(n=t[r],34===n?(this.string+='"',this.tState=I):92===n?(this.string+="\\",this.tState=I):47===n?(this.string+="/",this.tState=I):98===n?(this.string+="\b",this.tState=I):102===n?(this.string+="\f",this.tState=I):110===n?(this.string+="\n",this.tState=I):114===n?(this.string+="\r",this.tState=I):116===n?(this.string+="	",this.tState=I):117===n?(this.unicode="",this.tState=M):this.charError(t,r)):this.tState===M||this.tState===Z||this.tState===B||this.tState===L?(n=t[r],n>=48&&64>n||n>64&&70>=n||n>96&&102>=n?(this.unicode+=String.fromCharCode(n),this.tState++===L&&(this.string+=String.fromCharCode(parseInt(this.unicode,16)),this.unicode=void 0,this.tState=I)):this.charError(t,r)):this.tState===j?(n=t[r],48===n?(this.magnatude=0,this.tState=N):n>48&&64>n?(this.magnatude=n-48,this.tState=R):this.charError(t,r)):this.tState===N?(n=t[r],46===n?(this.position=.1,this.tState=T):101===n||69===n?(this.exponent=0,this.tState=D):(this.tState=v,this.onToken(m,0),this.magnatude=void 0,this.negative=void 0,r--)):this.tState===R?(n=t[r],46===n?(this.position=.1,this.tState=T):101===n||69===n?(this.exponent=0,this.tState=D):n>=48&&64>n?this.magnatude=10*this.magnatude+n-48:(this.tState=v,this.negative&&(this.magnatude=-this.magnatude,this.negative=void 0),this.onToken(m,this.magnatude),this.magnatude=void 0,r--)):this.tState===T?(n=t[r],n>=48&&64>n?(this.magnatude+=this.position*(n-48),this.position/=10,this.tState=U):this.charError(t,r)):this.tState===U?(n=t[r],n>=48&&64>n?(this.magnatude+=this.position*(n-48),this.position/=10):101===n||69===n?(this.exponent=0,this.tState=D):(this.tState=v,this.negative&&(this.magnatude=-this.magnatude,this.negative=void 0),this.onToken(m,this.negative?-this.magnatude:this.magnatude),this.magnatude=void 0,this.position=void 0,r--)):this.tState===D?(n=t[r],43===n||45===n?(45===n&&(this.negativeExponent=!0),this.tState=A):n>=48&&64>n?(this.exponent=10*this.exponent+(n-48),this.tState=O):this.charError(t,r)):this.tState===A?(n=t[r],n>=48&&64>n?(this.exponent=10*this.exponent+(n-48),this.tState=O):this.charError(t,r)):this.tState===O?(n=t[r],n>=48&&64>n?this.exponent=10*this.exponent+(n-48):(this.negativeExponent&&(this.exponent=-this.exponent,this.negativeExponent=void 0),this.magnatude*=Math.pow(10,this.exponent),this.exponent=void 0,this.negative&&(this.magnatude=-this.magnatude,this.negative=void 0),this.tState=v,this.onToken(m,this.magnatude),this.magnatude=void 0,r--)):this.tState===b?114===t[r]?this.tState=g:this.charError(t,r):this.tState===g?117===t[r]?this.tState=y:this.charError(t,r):this.tState===y?101===t[r]?(this.tState=v,this.onToken(d,!0)):this.charError(t,r):this.tState===w?97===t[r]?this.tState=_:this.charError(t,r):this.tState===_?108===t[r]?this.tState=x:this.charError(t,r):this.tState===x?115===t[r]?this.tState=k:this.charError(t,r):this.tState===k?101===t[r]?(this.tState=v,this.onToken(f,!1)):this.charError(t,r):this.tState===S?117===t[r]?this.tState=C:this.charError(t,r):this.tState===C?108===t[r]?this.tState=E:this.charError(t,r):this.tState===E&&(108===t[r]?(this.tState=v,this.onToken(h,null)):this.charError(t,r))},X.onToken=function(e,t){},X.parseError=function(e,t){this.onError(new Error("Unexpected "+n(e)+(t?"("+JSON.stringify(t)+")":"")+" in state "+n(this.state)))},X.onError=function(e){throw e},X.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},X.pop=function(){var e=this.value,t=this.stack.pop();this.value=t.value,this.key=t.key,this.mode=t.mode,this.emit(e),this.mode||(this.state=V)},X.emit=function(e){this.mode&&(this.state=l),this.onValue(e)},X.onValue=function(e){},X.onToken=function(e,t){this.state===V?e===p||e===m||e===d||e===f||e===h?(this.value&&(this.value[this.key]=t),this.emit(t)):e===o?(this.push(),this.value=this.value?this.value[this.key]={}:{},this.key=void 0,this.state=G,this.mode=z):e===a?(this.push(),this.value=this.value?this.value[this.key]=[]:[],this.key=0,this.mode=F,this.state=V):e===s?this.mode===z?this.pop():this.parseError(e,t):e===u&&this.mode===F?this.pop():this.parseError(e,t):this.state===G?e===p?(this.key=t,this.state=c):e===s?this.pop():this.parseError(e,t):this.state===c?e===c?this.state=V:this.parseError(e,t):this.state===l?e===l?this.mode===F?(this.key++,this.state=V):this.mode===z&&(this.state=G):e===u&&this.mode===F||e===s&&this.mode===z?this.pop():this.parseError(e,t):this.parseError(e,t)},t.exports=r}).call(this,e("buffer").Buffer)},{buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/JSONStream/node_modules/through/index.js":[function(e,t,n){(function(r){function i(e,t,n){function i(){for(;c.length&&!d.paused;){var e=c.shift();if(null===e)return d.emit("end");d.emit("data",e)}}function s(){d.writable=!1,t.call(d),!d.readable&&d.autoDestroy&&d.destroy()}e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var a=!1,u=!1,c=[],l=!1,d=new o;return d.readable=d.writable=!0,d.paused=!1,d.autoDestroy=!(n&&n.autoDestroy===!1),d.write=function(t){return e.call(this,t),!d.paused},d.queue=d.push=function(e){return l?d:(null===e&&(l=!0),c.push(e),i(),d)},d.on("end",function(){d.readable=!1,!d.writable&&d.autoDestroy&&r.nextTick(function(){d.destroy()})}),d.end=function(e){return a?void 0:(a=!0,arguments.length&&d.write(e),s(),d)},d.destroy=function(){return u?void 0:(u=!0,a=!0,c.length=0,d.writable=d.readable=!1,d.emit("close"),d)},d.pause=function(){return d.paused?void 0:(d.paused=!0,d)},d.resume=function(){return d.paused&&(d.paused=!1,d.emit("resume")),i(),d.paused||d.emit("drain"),d},d}var o=e("stream");n=t.exports=i,i.through=i}).call(this,e("_process"))},{_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",stream:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/stream-browserify/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/index.js":[function(e,t,n){t.exports=e("./index.js")},{"./index.js":"./index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/config.js":[function(e,t,n){var r={baseIri:"http://pointer.ucsf.edu/d3/r/data-sources/bridgedb.php/",datasetsMetadataIri:"https://cdn.rawgit.com/bridgedb/BridgeDb/24186142d05b5f811893970b9a5d61a06f241f68/org.bridgedb.bio/resources/org/bridgedb/bio/datasources.txt",http:{retryLimit:2,retryDelay:3e3}};t.exports=r},{}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/context.json":[function(e,t,n){t.exports=["https://wikipathwayscontexts.firebaseio.com/bridgedb/.json"]},{}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/dataset.js":[function(e,t,n){var r=e("lodash"),i=e("csv-streamify"),o={objectMode:!0,delimiter:"	"},s=e("highland"),a=(e("./http-errors.js"),e("hyperquest")),u=e("./context.json"),c=(e("rx"),e("rx-node"),e("URIjs"),e("./utils.js")),l=function(e){"use strict";function t(){function t(){return s(a(e.config.datasetsMetadataIri,{withCredentials:!1}).pipe(i(o))).map(function(e){return{"@context":u,bridgeDbDatasourceName:e[0],bridgeDbSystemCode:e[1],webPage:e[2],_iriPattern:e[3],exampleIdentifier:e[4],_bridgeDbType:e[5],organism:e[6],_isPrimary:"1"===e[7],_miriamRootUrn:e[8],identifierPattern:e[9],name:e[10]}}).map(function(e){return r.omit(e,function(e){return""===e||r.isNaN(e)||r.isNull(e)||r.isUndefined(e)})}).map(function(e){var t=e._iriPattern,r=e.identifierPattern;if(t){e.uriRegexPattern=t.replace("$id",n(r));var i=t.length-3;t.indexOf("$id")===i&&(e["owl:sameAs"]=e["owl:sameAs"]||[],e["owl:sameAs"].push(t.substr(0,i)))}return e.type="Dataset",e}).map(function(e){return e._miriamRootUrn&&e._miriamRootUrn.indexOf("urn:miriam:")>-1&&(e.preferredPrefix=e._miriamRootUrn.substring(11,e._miriamRootUrn.length),e.id="http://identifiers.org/"+e.preferredPrefix+"/",e["owl:sameAs"]=e["owl:sameAs"]||[],e["owl:sameAs"].push(e._miriamRootUrn)),delete e._miriamRootUrn,e}).map(function(e){return e._bridgeDbType&&(e.subject=[],"gene"===e._bridgeDbType||"probe"===e._bridgeDbType||"go"===e.preferredPrefix?(e.subject.push("gpml:GeneProduct"),e.subject.push("biopax:DnaReference")):"probe"===e._bridgeDbType?e.subject.push("probe"):"rna"===e._bridgeDbType?(e.subject.push("gpml:Rna"),e.subject.push("biopax:RnaReference")):"protein"===e._bridgeDbType?(e.subject.push("gpml:Protein"),e.subject.push("biopax:ProteinReference")):"metabolite"===e._bridgeDbType?(e.subject.push("gpml:Metabolite"),e.subject.push("biopax:SmallMoleculeReference")):"pathway"===e._bridgeDbType?(e.subject.push("gpml:Pathway"),e.subject.push("biopax:Pathway")):"ontology"===e._bridgeDbType?e.subject.push("owl:Ontology"):"interaction"===e._bridgeDbType&&e.subject.push("biopax:Interaction")),e.alternatePrefix=[e.bridgeDbSystemCode],e})}return c._runOnceGlobal("dataset",t)}function n(e){e=e||".*";var t="("+e.replace(/(^\^|\$$)/g,"")+")";return t}function l(e){return d(e).head()}function d(e){if(r.isEmpty(e))return t().map(h._matcher._removeNormalizedProperties);var n=["id","preferredPrefix","bridgeDbDatasourceName","alternatePrefix","name"],i=[];return e.exampleResource&&i.push(s.curry(function(e,t){var n=new RegExp(t.uriRegexPattern);return!!e&&!!t.uriRegexPattern&&n.test(e)},e.exampleResource)),e.exampleIdentifier&&i.push(s.curry(function(e,t){var n=new RegExp(t.identifierPattern);return!!e&&!!t.identifierPattern&&n.test(e)},e.exampleIdentifier)),t().collect().flatMap(function(t){var r=["ensembl","ncbigene","chebi","cas","hmdb","uniprot","kegg.compound"];return t.sort(function(e,t){var n=e.preferredPrefix,i=t.preferredPrefix,o=r.indexOf(n),s=r.indexOf(i),a=o>-1,u=s>-2;if(a&&!u)return-1;if(!a&&u)return 1;if(a&&u)return a>u;var c=e._isPrimary,l=t._isPrimary;return c&&!l?-1:!c&&l?1:n&&!i?-1:!n&&i?1:n>i}),h.tieredFind(e,s(t),"datasetsFormattedForComparison",n,i)})}function f(e){return getByPreferredPrefix(e).map(function(t){if(!t){var n='No BridgeDb-supported dataset available for preferredPrefix + "'+e+'"';return new Error(n)}return t.bridgeDbSystemCode})}var h=e.jsonldRx;return{convertPreferredPrefixToSystemCode:f,get:l,_getIdentifierPatternWithoutBeginEndRestriction:n,query:d}};t.exports=l},{"./context.json":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/context.json","./http-errors.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/http-errors.js","./utils.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/utils.js",URIjs:"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/URIjs/src/URI.js","csv-streamify":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/csv-streamify.js",highland:"/Users/andersriutta/Sites/kaavio/node_modules/highland/lib/index.js",hyperquest:"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/index.js",lodash:"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/lodash/dist/lodash.js",rx:"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/rx/dist/rx.all.js","rx-node":"/Users/andersriutta/Sites/kaavio/node_modules/rx-node/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/entity-reference.js":[function(e,t,n){var r=e("lodash"),i=(e("./config.js"),e("csv-streamify")),o={objectMode:!0,delimiter:"	"},s=e("highland"),a=(e("./http-errors.js"),e("hyperquest")),u=e("./context.json"),c=(e("./utils.js"),function(e){"use strict";function t(t){var n=t.isDataItemIn;if(!n||!n.preferredPrefix||!t.identifier){if(e.debug){var i="Could not add an identifiers.org IRI, because the provided entity reference was a dataset name and/or identifier.";console.warn(i),console.warn(t)}return t}return t.id&&-1===t.id.indexOf("identifiers.org")&&(t["owl:sameAs"]||(t["owl:sameAs"]=[]),t["owl:sameAs"]=r.union(t["owl:sameAs"],[t.id])),t.id="http://identifiers.org/"+n.preferredPrefix+"/"+t.identifier,t}function n(n){var i=e.dataset.get(n.isDataItemIn);return i.map(function(e){n.isDataItemIn=e,n.db=n.db||e.name;var t=e.subject;if(r.isEmpty(t)||(t=r.isArray(t)?t:[t],n.type=r.union(v.arrayify(n.type),t)),e.uriRegexPattern){var i=f(n.identifier,e);if(n.id){var o=v.arrayifyClean(n["owl:sameAs"]||[]);-1===o.indexOf(i)&&o.push(i),n["owl:sameAs"]=o}else n.id=i;e.exampleResource=i}return n}).map(t)}function c(t,n,r){return s([r]).flatMap(function(r){var i=encodeURIComponent(r)+"/xrefExists/"+t+"/"+n,o=e.config.baseIri+i;return s(a(o,{withCredentials:!1})).map(function(e){var t=e.toString().replace(/([^a-z])+/g,"");return"true"===t})})}function l(t){h(t),t.type=v.arrayify(t.type),-1===t.type.indexOf("EntityReference")&&t.type.push("EntityReference"),r(_).map(function(e){var n=new RegExp(e[0]),i=r.find(t,function(e){var t=String(e).toLowerCase();return n.test(t)});r.isEmpty(i)||v.defaultsDeep(t,e[1](i))});var n=t.organism;n&&e.organism._setInstanceOrganism(n,!1),t.isDataItemIn=t.isDataItemIn||{};var i=t.db||!!t.isDataItemIn.name&&t.isDataItemIn.name;i&&(t.db=i,t.isDataItemIn.name=i);var o=t.bridgeDbDatasourceName||!!t.isDataItemIn.bridgeDbDatasourceName&&t.isDataItemIn.bridgeDbDatasourceName;o&&(t.bridgeDbDatasourceName=o,t.isDataItemIn.bridgeDbDatasourceName=o);var s=t.identifier;return s&&(t.isDataItemIn.exampleIdentifier=s),t}function d(t){var n=t.attribute,u=(t.type,t.organism||e.instanceOrganismNonNormalized);if(!u)throw new Error('Missing argument "organism"');return s([u]).flatMap(function(t){return e.organism._getInstanceOrganism(t).fork()}).map(function(e){return e.nameLanguageMap.la}).map(function(t){var r=encodeURIComponent(t)+"/attributeSearch/"+encodeURIComponent(n);return e.config.baseIri+r}).flatMap(function(e){return s(a(e,{withCredentials:!1}).pipe(i(o)))}).errors(function(e,t){console.error("in bridgedb.entityReference.freeSearch()"),t(e)}).map(function(e){return{identifier:e[0],bridgeDbDatasourceName:e[1],displayName:e[2]}}).map(function(e){return e=r.omit(e,function(e){return"null"===e})}).flatMap(y)}function f(t,n){var r=n.uriRegexPattern,i=n.identifierPattern,o=e.dataset._getIdentifierPatternWithoutBeginEndRestriction(i),s=r.replace(o,t).toString();return s}function h(e){if(!r.isPlainObject(e)){if("string"==typeof e)return{id:e};console.error("specified entity reference:"),console.error(e);var t='Insufficient input data or incorrect format. Cannot identify the specified entity reference: "'+JSON.stringify(e)+'"';throw new Error(t)}return e}function p(t){var n=t.targetPreferredPrefix;if(!n)throw new Error("targetPreferredPrefix missing");return e.xref.get(t.sourceEntityReference).filter(function(e){return e.isDataItemIn.preferredPrefix===n})}function m(t){t=l(t);var n=t.organism;return n?s([t]).flatMap(e.organism._setInstanceOrganism).map(function(e){return t.organism=e,t}):s([t])}var v=e.jsonldRx,b=function(t){if(!(t&&t.organism&&t.isDataItemIn&&t.isDataItemIn.bridgeDbSystemCode&&t.identifier)){if(e.debug){var n="Cannot add BridgeDb Xrefs IRI (URL). See bridgeDb.entityReference._addBridgeDbXrefsIri() method for required parameters";console.warn(n)}return t}t.xref=t.xref||[];var i=t.xref;i=t.xref=r.isArray(i)?i:[i];var o=e.xref._getBridgeDbIriByEntityReference(t);return i.push(o),t},g=function(e){return s.pipeline(function(t){e=e||{};var n=s.partial(s.flip(y),e);return s(t).flatMap(n)})},y=function(t,i){var o;return r.isString(t)||r.isPlainObject(t)?o=s([h(t)]):r.isArray(t)?o=s(t):s.isStream(t)&&(o=t),i=i||{},i=r.defaults(i,{organism:!0,context:!0,dataset:!0,xref:!0}),o.flatMap(e.addContext).consume(function(e,t,n,r){if(e)n(e),r();else if(t===s.nil)n(null,t);else{var i=t["@context"];v.replaceContext(t,u).subscribe(function(e){e.bridgeDbInputOriginalContext=i;var t=e.type;t&&(t=v.arrayifyClean(e.type),e.type=t.filter(function(e){return e})),n(null,e),r()},function(e){n(e),r()},function(){})}}).map(l).map(function(e){if(!e.isDataItemIn||"undefined"==typeof e.identifier){var t='Not enough data provided to identify the specified entity reference: "'+JSON.stringify(e)+'"';throw new Error(t)}return e}).flatMap(function(e){var t=e.type;return t&&(t=v.arrayifyClean(e.type),e.type=t.filter(function(e){return e})),i.dataset?n(e):s([e])}).flatMap(function(t){return i.organism||i.xref?e.organism._getInstanceOrganism(t).map(function(e){return e&&(t.organism=e),t}):s([t])}).map(function(e){if(i.xref){var t=b(e),n=e.isDataItemIn,r=n&&n.preferredPrefix,o=["ensembl","ncbigene"];return o.indexOf(r)>-1&&(e.xref=e.xref||[],e.xref.push(encodeURI("http://mygene.info/v2/gene/"+e.identifier))),i.organism||delete t.organism,t}return e}).consume(function(e,t,n,r){if(e)n(e),r();else if(t===s.nil)n(null,t);else{var o=t.bridgeDbInputOriginalContext;delete t.bridgeDbInputOriginalContext;var a=t.type;a&&(a=v.arrayifyClean(t.type),t.type=a.filter(function(e){return e})),v.replaceContext(t,o).subscribe(function(e){i.context||delete e["@context"];var o=t.type;o&&(o=v.arrayifyClean(t.type),t.type=o.filter(function(e){return e})),n(null,e),r()},function(e){n(e),r()},function(){})}})},w={"identifiers.org":function(e){var t=decodeURIComponent(e.match(/(identifiers.org\/)(.*)(?=\/.*)/)[2]),n=decodeURIComponent(e.match(/(identifiers.org\/.*\/)(.*)$/)[2]);return{isDataItemIn:{id:"http://identifiers.org/"+t+"/",preferredPrefix:t},identifier:n,id:e}},"bridgedb.org":function(e){var t=decodeURIComponent(e.match(/(bridgedb.org\/.*\/xrefs\/)(\w+)(?=\/.*)/)[2]),n=decodeURIComponent(e.match(/(bridgedb.org\/.*\/xrefs\/\w+\/)(.*)$/)[2]);return{organism:decodeURIComponent(e.match(/(bridgedb.org\/)(.*)(?=\/xrefs)/)[2]),isDataItemIn:{alternatePrefix:[t],bridgeDbSystemCode:t,exampleIdentifier:n},identifier:n,bridgeDbXrefsIri:e,xref:[e]}}},_=r.pairs(w);return{createEnrichmentStream:g,enrich:y,exists:c,_expand:l,freeSearch:d,map:p,normalize:m}});n=t.exports=c},{"./config.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/config.js","./context.json":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/context.json","./http-errors.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/http-errors.js","./utils.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/utils.js","csv-streamify":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/csv-streamify.js",highland:"/Users/andersriutta/Sites/kaavio/node_modules/highland/lib/index.js",hyperquest:"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/index.js",lodash:"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/lodash/dist/lodash.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/http-errors.js":[function(e,t,n){var r=e("./config.js"),i=function(e){var t=e.error,n=e.response,i=(e.body,e.stream,e.source);if(n&&n.statusCode){var o=n.statusCode,s=o.toString()[0];("4"===s||"5"===s)&&(t=t||new Error("HTTP status code "+o))}t&&(console.error("Error getting "+i),console.error(t),setTimeout(function(){},r.http.retryDelay))};t.exports=i},{"./config.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/config.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/jsonld-matcher.js":[function(e,t,n){var r=e("lodash"),i=e("highland"),o=e("./context.json"),s=e("rx-node"),a=e("./utils.js"),u=function(e){"use strict";function t(e){return r.reduce(e,function(e,t,n){return 0!==n.indexOf(m)&&(e[n]=t),e},{})}function n(e,t){return i.pairs(e).filter(function(e){return t?t.indexOf(e[0])>-1:!0}).flatMap(function(e){return c(e).flatMap(function(t){return d(t).flatMap(function(n){return[e,t,n]})}).map(function(e){return e})}).reduce(e,function(e,t){return e[t[0]]=t[1],e})}function u(e,t,r){function i(){return e.flatMap(function(e){return n(e,r)})}return a._runOnceGlobal(t,i).collect()}function c(e){var t={};return t["@context"]=o,t[e[0]]=e[1],p(t).map(function(e){var t=" .\n",n=e.split(t);return n.pop(),n}).map(function(t){var n=v+e[0];return[n,t]})}function l(e){var t=e;r.isString(e)||(r.isNumber(e)||r.isRegExp(e)||r.isDate(e)||r.isBoolean(e)?t=e.toString():r.isPlainObject(e)?t=JSON.stringify(e):r.isUndefined(e)?t="undefined":r.isNull(e)?t="null":(console.warn('Cannot normalize provided value "'+JSON.stringify(e)+'".'),console.warn("Using toString on input."),t=e.toString()));var n=/[^A-Za-z0-9]/gi,i=t.replace(n,""),o=i;return r.isNull(i)||(o=i.toUpperCase()),o}function d(e){var t;return t=-1===e[0].indexOf(v)?c(e):i([e]),t.map(function(e){var t,n=b+e[0].replace(v,"");return t=r.isArray(e[1])?e[1].map(l):l(e[1]),[n,t]})}function f(e,n,r,o,s){e["@id"]&&(e["owl:sameAs"]=e["owl:sameAs"]||[],e["owl:sameAs"].push(e["@id"]),-1===o.indexOf("@id")&&o.push("@id"),-1===o.indexOf("owl:sameAs")&&o.push("owl:sameAs")),s=s||[];var a=function(){return i.pairs(e).filter(function(e){return o.indexOf(e[0])>-1})},c=!0;return i(u(n,r,o)).flatMap(function(t){return i([a().flatMap(function(e){return h(e,t,0)}),a().filter(function(e){return o.indexOf(e[0])>-1}).flatMap(function(e){return h(e,t,1)}),a().filter(function(e){return o.indexOf(e[0])>-1}).flatMap(function(e){return h(e,t,2)})]).concat(s.map(function(e){return i(t).filter(e)})).concat(i([function(){var t="Could not find a match for "+r+' for the provided args "'+JSON.stringify(e)+'"',n=new Error(t);return n}()])).errors(function(e,t){return c?t(e):void 0}).flatMap(function(e){if(i.isStream(e)&&c)return e.map(function(e){return c=!1,e});if(c)throw e;return i([])})}).map(t)}function h(e,t,n){return g[n](e).flatMap(function(e){return i(t).filter(function(t){var n=t[e[0]],i=e[1];return n===i||!r.isEmpty(r.intersection(n,i))})})}var p=function(t){var n=e.defaultNormalize(t),r=i();return s.writeToStream(n,r),r},m="jsonldMatcher",v=m+"JsonldNormalized",b=m+"TextNormalized",g=[function(e){return i([e])},c,function(e){return i([e]).flatMap(d)}];return{_addNormalizedProperties:n,tieredFind:f,_jsonldNormalizePair:c,_normalizeText:l,_removeNormalizedProperties:t,_textNormalizePair:d}};n=t.exports=u},{"./context.json":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/context.json","./utils.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/utils.js",highland:"/Users/andersriutta/Sites/kaavio/node_modules/highland/lib/index.js",lodash:"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/lodash/dist/lodash.js","rx-node":"/Users/andersriutta/Sites/kaavio/node_modules/rx-node/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/main.js":[function(e,t,n){var r=e("lodash"),i=e("./config.js"),o=e("./entity-reference.js"),s=e("highland"),a=e("./context.json"),u=e("./jsonld-matcher.js"),c=e("jsonld-rx"),l=e("./dataset.js"),d=e("./organism.js"),f=(e("rx"),e("rx-node")),h=e("./utils.js"),p=e("./xref.js"),m=function(e){var t=this;e=e||{},t.config=r.clone(i),t.config=h._defaultsDeep(e,t.config);var n=t.jsonldRx=new c({defaultContext:a}),m=n._matcher=new u(n);n.normalizeText=m._normalizeText,n.tieredFind=m.tieredFind,t.addContext=function(e){a=r.isArray(a)?a:[a];var t=e["@context"]||[{"@vocab":"http://bridgedb.org/input-vocab/"}];t=r.isArray(t)?t:[t];var i=a.concat(t),o=n.mergeContexts(i).map(function(t){var n={"@context":t};return r.defaults(n,e),JSON.stringify(n)}),u=s();return f.writeToStream(o,u),u.map(function(e){var t=JSON.parse(e);return t})},t.entityReference=Object.create(o(t)),t.entityReference=Object.create(o(t)),t.organism=Object.create(d(t)),e.organism&&t.organism._setInstanceOrganism(e.organism,!1),t.dataset=Object.create(l(t)),t.xref=Object.create(p(t))};!function(){"undefined"!=typeof window&&"undefined"!=typeof document&&(window.BridgeDb=m),t&&t.exports&&(t.exports=m)}()},{"./config.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/config.js","./context.json":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/context.json","./dataset.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/dataset.js","./entity-reference.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/entity-reference.js","./jsonld-matcher.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/jsonld-matcher.js","./organism.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/organism.js","./utils.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/utils.js","./xref.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/xref.js",highland:"/Users/andersriutta/Sites/kaavio/node_modules/highland/lib/index.js","jsonld-rx":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/index.js",lodash:"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/lodash/dist/lodash.js",rx:"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/rx/dist/rx.all.js","rx-node":"/Users/andersriutta/Sites/kaavio/node_modules/rx-node/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/organism.js":[function(e,t,n){var r=e("lodash"),i=e("highland"),o=(e("./http-errors.js"),e("hyperquest")),s=e("csv-streamify"),a={objectMode:!0,delimiter:"	"},u=e("./utils.js"),c=function(e){"use strict";function t(e){if(r.isEmpty(e))throw new Error("No searchCriteria specified for organism.get");return d(e).head()}function n(t){var n,o=!!t.isDataItemIn&&(t.isDataItemIn.bridgeDbSystemCode||r.isArray(t.isDataItemIn.alternatePrefix)&&t.isDataItemIn.alternatePrefix[0]);return n=o?i([t]):e.entityReference.enrich(t,{bridgeDbXrefsUrl:!1,dataset:!0,organism:!1,xref:!1}),n.flatMap(function(e){var t=e.organism;if(t)return l(t);var n=e.isDataItemIn.bridgeDbSystemCode||r.isArray(e.isDataItemIn.alternatePrefix)&&e.isDataItemIn.alternatePrefix[0],i=e.identifier;return n&&i?g(n,i):(console.warn("Cannot get organism by entityReference."),e)})}function c(t){function n(){return d(r)}var r=e.instanceOrganismNonNormalized||t;return u._runOncePerInstance(e,"instanceOrganism",n).head()}function l(e){var t,n,i;if(r.isString(e))0===e.indexOf("http://identifiers.org/taxonomy/")?i=e:t=e;else if(r.isPlainObject(e)){e.id&&(i=e.id);var o=e.nameLanguageMap;t=o?o.la||o.en:e.name||e.la||e.latin||e.en||e.english}if(!i&&!t)throw console.error(e),new Error("Cannot normalize provided organism (above).");return t&&(n=p(t)),b().filter(function(e){var t;i&&(t=i===e.id);var r;if(n){var o=e.nameLanguageMap,s=o.la,a=s.split(" "),u=a[0][0]+a[1],c=o.en,l=[s,u,c].map(function(e){return p(e)});r=l.indexOf(n)>-1}return t||r}).head()}function d(e){if(r.isEmpty(e))return u._runOnceGlobal("organisms",b);var t,i={Organism:l,EntityReference:n};t=r.isString(e)?"Organism":e.type||"Organism",t=h.arrayify(t);var o=r(i).keys().intersection(t).first();

if(o)return i[o](e);throw new Error('Cannot get organism by specified type(s): "'+t+'"')}function f(t,n){return(null===n||"undefined"==typeof n)&&(n=!0),e.instanceOrganismNonNormalized=t,n?c(t):void 0}var h=e.jsonldRx,p=h.normalizeText,m={"Anopheles gambiae":"http://identifiers.org/taxonomy/7165","Arabidopsis thaliana":"http://identifiers.org/taxonomy/3702","Aspergillus niger":"http://identifiers.org/taxonomy/5061","Bacillus subtilis":"http://identifiers.org/taxonomy/1423","Bos taurus":"http://identifiers.org/taxonomy/9913","Caenorhabditis elegans":"http://identifiers.org/taxonomy/6239","Canis familiaris":"http://identifiers.org/taxonomy/9615","Ciona intestinalis":"http://identifiers.org/taxonomy/7719","Danio rerio":"http://identifiers.org/taxonomy/7955","Drosophila melanogaster":"http://identifiers.org/taxonomy/7227","Escherichia coli":"http://identifiers.org/taxonomy/562","Equus caballus":"http://identifiers.org/taxonomy/9796","Gallus gallus":"http://identifiers.org/taxonomy/9031","Gibberella zeae":"http://identifiers.org/taxonomy/5518","Glycine max":"http://identifiers.org/taxonomy/3847","Homo sapiens":"http://identifiers.org/taxonomy/9606","Hordeum vulgare":"http://identifiers.org/taxonomy/4513","Macaca mulatta":"http://identifiers.org/taxonomy/9544","Mus musculus":"http://identifiers.org/taxonomy/10090","Mycobacterium tuberculosis":"http://identifiers.org/taxonomy/1773","Ornithorhynchus anatinus":"http://identifiers.org/taxonomy/9258","Oryza indica":"http://identifiers.org/taxonomy/39946","Oryza sativa":"http://identifiers.org/taxonomy/4530","Oryza sativa Indica Group":"http://identifiers.org/taxonomy/39946","Populus trichocarpa":"http://identifiers.org/taxonomy/3694","Pan troglodytes":"http://identifiers.org/taxonomy/9598","Rattus norvegicus":"http://identifiers.org/taxonomy/10116","Saccharomyces cerevisiae":"http://identifiers.org/taxonomy/4932","Solanum lycopersicum":"http://identifiers.org/taxonomy/4081","Sus scrofa":"http://identifiers.org/taxonomy/9823","Vitis vinifera":"http://identifiers.org/taxonomy/29760","Xenopus tropicalis":"http://identifiers.org/taxonomy/8364","Zea mays":"http://identifiers.org/taxonomy/4577"},v=function(){return i.pipeline(function(e){return i(e).flatMap(n)})},b=function(){var t="contents",n=e.config.baseIri+t;return i(o(n,{withCredentials:!1}).pipe(s(a))).map(function(e){var t={},n=e[0],r=e[1];"null"!==n&&(t.en=n),"null"!==r&&(t.la=r);var i={id:m[r],type:"Organism",nameLanguageMap:t};return i})},g=function(t,n){var r=i.curry(e.entityReference.exists,t,n);return d().flatFilter(function(e){return r(e.nameLanguageMap.la)}).head()};return{createEntityReferenceToOrganismTransformationStream:v,get:t,_getInstanceOrganism:c,query:d,_setInstanceOrganism:f}};n=t.exports=c},{"./http-errors.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/http-errors.js","./utils.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/utils.js","csv-streamify":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/csv-streamify.js",highland:"/Users/andersriutta/Sites/kaavio/node_modules/highland/lib/index.js",hyperquest:"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/index.js",lodash:"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/lodash/dist/lodash.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/utils.js":[function(e,t,n){(function(r){var i=e("lodash"),o=e("highland"),s=e("jsonld-rx"),a=(e("url"),e("rx")),u=e("rx-node"),c={inmemory:r,local:{}};i.pairs(c).map(function(e){var t=(e[0],e[1]);t.bridgeDb=t.bridgeDb||{}});var l=function(){"use strict";var e=new s,t=function(e,t,n){var r;i.isString(e)?(r=e,e=c[r]):r="instance";var o=e[t];if(o)return o;var s=u.fromReadableStream(n());return o=new a.ReplaySubject,e[t]=o,s.subscribe(function(e){o.onNext(e)},function(e){throw e},function(){o.onCompleted()}),o},n=function(e,n){var r=o(),i=t("inmemory",e,n).map(function(e){return JSON.stringify(e)});return u.writeToStream(i,r),r.map(function(e){return JSON.parse(e)})},r=function(e,n,r){var i=o(),s=t(e,n,r).map(function(e){return JSON.stringify(e)});return u.writeToStream(s,i),i.map(function(e){return JSON.parse(e)})};return{_runOnceGlobal:n,_runOncePerInstance:r,_defaultsDeep:e.defaultsDeep}}();n=t.exports=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{highland:"/Users/andersriutta/Sites/kaavio/node_modules/highland/lib/index.js","jsonld-rx":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/index.js",lodash:"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/lodash/dist/lodash.js",rx:"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/rx/dist/rx.all.js","rx-node":"/Users/andersriutta/Sites/kaavio/node_modules/rx-node/index.js",url:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/url/url.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/xref.js":[function(e,t,n){var r=e("lodash"),i=e("csv-streamify"),o=e("highland"),s=(e("./http-errors.js"),e("hyperquest")),a=(e("rx-node"),{objectMode:!0,delimiter:"	"}),u=function(e){"use strict";function t(e,t){var i;return r.isString(e)||r.isPlainObject(e)?i=o([e]):r.isArray(e)?i=o(e):o.isStream(e)&&(i=e),i.pipe(n())}function n(){return o.pipeline(function(t){{var n;e.options||{}}return o(t).flatMap(e.entityReference.enrich).map(function(e){return n=e,e}).flatMap(function(e){var t=u(e);return o(s(t,{withCredentials:!1}).pipe(i(a)))}).errors(function(e,t){console.error("in bridgedb.xref.createStream()"),t(e)}).map(function(e){return{identifier:e[0],bridgeDbDatasourceName:e[1]}}).collect().sequence().flatMap(e.entityReference.enrich).collect().map(function(e){return r.isEmpty(e)&&(e=[n]),e}).sequence().flatMap(e.addContext)})}function u(t){var n=t.isDataItemIn.bridgeDbSystemCode,r=encodeURIComponent(t.organism.nameLanguageMap.la)+"/xrefs/"+encodeURIComponent(n)+"/"+encodeURIComponent(t.identifier);return e.config.baseIri+r}return{createStream:n,_getBridgeDbIriByEntityReference:u,get:t}};n=t.exports=u},{"./http-errors.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/lib/http-errors.js","csv-streamify":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/csv-streamify.js",highland:"/Users/andersriutta/Sites/kaavio/node_modules/highland/lib/index.js",hyperquest:"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/index.js",lodash:"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/lodash/dist/lodash.js","rx-node":"/Users/andersriutta/Sites/kaavio/node_modules/rx-node/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/URIjs/src/IPv6.js":[function(e,t,n){!function(e,r){"use strict";"object"==typeof n?t.exports=r():"function"==typeof define&&define.amd?define(r):e.IPv6=r(e)}(this,function(e){"use strict";function t(e){var t=e.toLowerCase(),n=t.split(":"),r=n.length,i=8;""===n[0]&&""===n[1]&&""===n[2]?(n.shift(),n.shift()):""===n[0]&&""===n[1]?n.shift():""===n[r-1]&&""===n[r-2]&&n.pop(),r=n.length,-1!==n[r-1].indexOf(".")&&(i=7);var o;for(o=0;r>o&&""!==n[o];o++);if(i>o){for(n.splice(o,1,"0000");n.length<i;)n.splice(o,0,"0000");r=n.length}for(var s,a=0;i>a;a++){s=n[a].split("");for(var u=0;3>u&&("0"===s[0]&&s.length>1);u++)s.splice(0,1);n[a]=s.join("")}var c=-1,l=0,d=0,f=-1,h=!1;for(a=0;i>a;a++)h?"0"===n[a]?d+=1:(h=!1,d>l&&(c=f,l=d)):"0"===n[a]&&(h=!0,f=a,d=1);d>l&&(c=f,l=d),l>1&&n.splice(c,l,""),r=n.length;var p="";for(""===n[0]&&(p=":"),a=0;r>a&&(p+=n[a],a!==r-1);a++)p+=":";return""===n[r-1]&&(p+=":"),p}function n(){return e.IPv6===this&&(e.IPv6=r),this}var r=e&&e.IPv6;return{best:t,noConflict:n}})},{}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/URIjs/src/SecondLevelDomains.js":[function(e,t,n){!function(e,r){"use strict";"object"==typeof n?t.exports=r():"function"==typeof define&&define.amd?define(r):e.SecondLevelDomains=r(e)}(this,function(e){"use strict";var t=e&&e.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ","do":" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ","in":" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(e){var t=e.lastIndexOf(".");if(0>=t||t>=e.length-1)return!1;var r=e.lastIndexOf(".",t-1);if(0>=r||r>=t-1)return!1;var i=n.list[e.slice(t+1)];return i?i.indexOf(" "+e.slice(r+1,t)+" ")>=0:!1},is:function(e){var t=e.lastIndexOf(".");if(0>=t||t>=e.length-1)return!1;var r=e.lastIndexOf(".",t-1);if(r>=0)return!1;var i=n.list[e.slice(t+1)];return i?i.indexOf(" "+e.slice(0,t)+" ")>=0:!1},get:function(e){var t=e.lastIndexOf(".");if(0>=t||t>=e.length-1)return null;var r=e.lastIndexOf(".",t-1);if(0>=r||r>=t-1)return null;var i=n.list[e.slice(t+1)];return i?i.indexOf(" "+e.slice(r+1,t)+" ")<0?null:e.slice(r+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return n})},{}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/URIjs/src/URI.js":[function(e,t,n){!function(r,i){"use strict";"object"==typeof n?t.exports=i(e("./punycode"),e("./IPv6"),e("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],i):r.URI=i(r.punycode,r.IPv6,r.SecondLevelDomains,r)}(this,function(e,t,n,r){"use strict";function i(e,t){var n=arguments.length>=1,r=arguments.length>=2;if(!(this instanceof i))return n?r?new i(e,t):new i(e):new i;if(void 0===e){if(n)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}return this.href(e),void 0!==t?this.absoluteTo(t):this}function o(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function s(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function a(e){return"Array"===s(e)}function u(e,t){var n,r,i={};if("RegExp"===s(t))i=null;else if(a(t))for(n=0,r=t.length;r>n;n++)i[t[n]]=!0;else i[t]=!0;for(n=0,r=e.length;r>n;n++){var o=i&&void 0!==i[e[n]]||!i&&t.test(e[n]);o&&(e.splice(n,1),r--,n--)}return e}function c(e,t){var n,r;if(a(t)){for(n=0,r=t.length;r>n;n++)if(!c(e,t[n]))return!1;return!0}var i=s(t);for(n=0,r=e.length;r>n;n++)if("RegExp"===i){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function l(e,t){if(!a(e)||!a(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,r=e.length;r>n;n++)if(e[n]!==t[n])return!1;return!0}function d(e){return escape(e)}function f(e){return encodeURIComponent(e).replace(/[!'()*]/g,d).replace(/\*/g,"%2A")}function h(e){return function(t,n){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}}function p(e,t){return function(n,r){return void 0===n?this._parts[e]||"":(null!==n&&(n+="",n.charAt(0)===t&&(n=n.substring(1))),this._parts[e]=n,this.build(!r),this)}}var m=r&&r.URI;i.version="1.16.0";var v=i.prototype,b=Object.prototype.hasOwnProperty;i._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:i.duplicateQueryParameters,escapeQuerySpace:i.escapeQuerySpace}},i.duplicateQueryParameters=!1,i.escapeQuerySpace=!0,i.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,i.idn_expression=/[^a-z0-9\.-]/i,i.punycode_expression=/(xn--)/i,i.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,i.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/gi,i.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?]+$/},i.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},i.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,i.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},i.getDomAttribute=function(e){if(!e||!e.nodeName)return void 0;var t=e.nodeName.toLowerCase();return"input"===t&&"image"!==e.type?void 0:i.domAttributes[t]},i.encode=f,i.decode=decodeURIComponent,i.iso8859=function(){i.encode=escape,i.decode=unescape},i.unicode=function(){i.encode=f,i.decode=decodeURIComponent},i.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},i.encodeQuery=function(e,t){var n=i.encode(e+"");return void 0===t&&(t=i.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},i.decodeQuery=function(e,t){e+="",void 0===t&&(t=i.escapeQuerySpace);try{return i.decode(t?e.replace(/\+/g,"%20"):e)}catch(n){return e}};var g,y={encode:"encode",decode:"decode"},w=function(e,t){return function(n){try{return i[t](n+"").replace(i.characters[e][t].expression,function(n){return i.characters[e][t].map[n]})}catch(r){return n}}};for(g in y)i[g+"PathSegment"]=w("pathname",y[g]),i[g+"UrnPathSegment"]=w("urnpath",y[g]);var _=function(e,t,n){return function(r){var o;o=n?function(e){return i[t](i[n](e))}:i[t];for(var s=(r+"").split(e),a=0,u=s.length;u>a;a++)s[a]=o(s[a]);return s.join(e)}};i.decodePath=_("/","decodePathSegment"),i.decodeUrnPath=_(":","decodeUrnPathSegment"),i.recodePath=_("/","encodePathSegment","decode"),i.recodeUrnPath=_(":","encodeUrnPathSegment","decode"),i.encodeReserved=w("reserved","encode"),i.parse=function(e,t){var n;return t||(t={}),n=e.indexOf("#"),n>-1&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),n=e.indexOf("?"),n>-1&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=i.parseAuthority(e,t)):(n=e.indexOf(":"),n>-1&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(i.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3)?(e=e.substring(n+3),e=i.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0))),t.path=e,t},i.parseHost=function(e,t){e=e.replace(/\\/g,"/");var n,r,i=e.indexOf("/");if(-1===i&&(i=e.length),"["===e.charAt(0))n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,i)||null,"/"===t.port&&(t.port=null);else{var o=e.indexOf(":"),s=e.indexOf("/"),a=e.indexOf(":",o+1);-1!==a&&(-1===s||s>a)?(t.hostname=e.substring(0,i)||null,t.port=null):(r=e.substring(0,i).split(":"),t.hostname=r[0]||null,t.port=r[1]||null)}return t.hostname&&"/"!==e.substring(i).charAt(0)&&(i++,e="/"+e),e.substring(i)||"/"},i.parseAuthority=function(e,t){return e=i.parseUserinfo(e,t),i.parseHost(e,t)},i.parseUserinfo=function(e,t){var n,r=e.indexOf("/"),o=e.lastIndexOf("@",r>-1?r:e.length-1);return o>-1&&(-1===r||r>o)?(n=e.substring(0,o).split(":"),t.username=n[0]?i.decode(n[0]):null,n.shift(),t.password=n[0]?i.decode(n.join(":")):null,e=e.substring(o+1)):(t.username=null,t.password=null),e},i.parseQuery=function(e,t){if(!e)return{};if(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!e)return{};for(var n,r,o,s={},a=e.split("&"),u=a.length,c=0;u>c;c++)n=a[c].split("="),r=i.decodeQuery(n.shift(),t),o=n.length?i.decodeQuery(n.join("="),t):null,b.call(s,r)?(("string"==typeof s[r]||null===s[r])&&(s[r]=[s[r]]),s[r].push(o)):s[r]=o;return s},i.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=i.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},i.buildHost=function(e){var t="";return e.hostname?(t+=i.ip6_expression.test(e.hostname)?"["+e.hostname+"]":e.hostname,e.port&&(t+=":"+e.port),t):""},i.buildAuthority=function(e){return i.buildUserinfo(e)+i.buildHost(e)},i.buildUserinfo=function(e){var t="";return e.username&&(t+=i.encode(e.username),e.password&&(t+=":"+i.encode(e.password)),t+="@"),t},i.buildQuery=function(e,t,n){var r,o,s,u,c="";for(o in e)if(b.call(e,o)&&o)if(a(e[o]))for(r={},s=0,u=e[o].length;u>s;s++)void 0!==e[o][s]&&void 0===r[e[o][s]+""]&&(c+="&"+i.buildQueryParameter(o,e[o][s],n),t!==!0&&(r[e[o][s]+""]=!0));else void 0!==e[o]&&(c+="&"+i.buildQueryParameter(o,e[o],n));return c.substring(1)},i.buildQueryParameter=function(e,t,n){return i.encodeQuery(e,n)+(null!==t?"="+i.encodeQuery(t,n):"")},i.addQuery=function(e,t,n){if("object"==typeof t)for(var r in t)b.call(t,r)&&i.addQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=n);"string"==typeof e[t]&&(e[t]=[e[t]]),a(n)||(n=[n]),e[t]=(e[t]||[]).concat(n)}},i.removeQuery=function(e,t,n){var r,o,c;if(a(t))for(r=0,o=t.length;o>r;r++)e[t[r]]=void 0;else if("RegExp"===s(t))for(c in e)t.test(c)&&(e[c]=void 0);else if("object"==typeof t)for(c in t)b.call(t,c)&&i.removeQuery(e,c,t[c]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===s(n)?e[t]=!a(e[t])&&n.test(e[t])?void 0:u(e[t],n):e[t]===n?e[t]=void 0:a(e[t])&&(e[t]=u(e[t],n)):e[t]=void 0}},i.hasQuery=function(e,t,n,r){if("object"==typeof t){for(var o in t)if(b.call(t,o)&&!i.hasQuery(e,o,t[o]))return!1;return!0}if("string"!=typeof t)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(s(n)){case"Undefined":return t in e;case"Boolean":var u=Boolean(a(e[t])?e[t].length:e[t]);return n===u;case"Function":return!!n(e[t],t,e);case"Array":if(!a(e[t]))return!1;var d=r?c:l;return d(e[t],n);case"RegExp":return a(e[t])?r?c(e[t],n):!1:Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return a(e[t])?r?c(e[t],n):!1:e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},i.commonPath=function(e,t){var n,r=Math.min(e.length,t.length);for(n=0;r>n;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return 1>n?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":(("/"!==e.charAt(n)||"/"!==t.charAt(n))&&(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},i.withinString=function(e,t,n){n||(n={});var r=n.start||i.findUri.start,o=n.end||i.findUri.end,s=n.trim||i.findUri.trim,a=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var u=r.exec(e);if(!u)break;var c=u.index;if(n.ignoreHtml){var l=e.slice(Math.max(c-3,0),c);if(l&&a.test(l))continue}var d=c+e.slice(c).search(o),f=e.slice(c,d).replace(s,"");if(!n.ignore||!n.ignore.test(f)){d=c+f.length;var h=t(f,c,d,e);e=e.slice(0,c)+h+e.slice(d),r.lastIndex=c+h.length}}return r.lastIndex=0,e},i.ensureValidHostname=function(t){if(t.match(i.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(e.toASCII(t).match(i.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]')}},i.noConflict=function(e){if(e){var t={URI:this.noConflict()};return r.URITemplate&&"function"==typeof r.URITemplate.noConflict&&(t.URITemplate=r.URITemplate.noConflict()),r.IPv6&&"function"==typeof r.IPv6.noConflict&&(t.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&"function"==typeof r.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=r.SecondLevelDomains.noConflict()),t}return r.URI===this&&(r.URI=m),this},v.build=function(e){return e===!0?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=i.build(this._parts),this._deferred_build=!1),this},v.clone=function(){return new i(this)},v.valueOf=v.toString=function(){return this.build(!1)._string},v.protocol=h("protocol"),v.username=h("username"),v.password=h("password"),v.hostname=h("hostname"),v.port=h("port"),v.query=p("query","?"),v.fragment=p("fragment","#"),v.search=function(e,t){var n=this.query(e,t);return"string"==typeof n&&n.length?"?"+n:n},v.hash=function(e,t){var n=this.fragment(e,t);return"string"==typeof n&&n.length?"#"+n:n},v.pathname=function(e,t){if(void 0===e||e===!0){var n=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?i.decodeUrnPath:i.decodePath)(n):n}return this._parts.path=this._parts.urn?e?i.recodeUrnPath(e):"":e?i.recodePath(e):"/",this.build(!t),this},v.path=v.pathname,v.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=i._parts();var r=e instanceof i,o="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName){var s=i.getDomAttribute(e);e=e[s]||"",o=!1}if(!r&&o&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=i.parse(String(e),this._parts);else{if(!r&&!o)throw new TypeError("invalid input");var a=r?e._parts:e;for(n in a)b.call(this._parts,n)&&(this._parts[n]=a[n])}return this.build(!t),this},v.is=function(e){var t=!1,r=!1,o=!1,s=!1,a=!1,u=!1,c=!1,l=!this._parts.urn;switch(this._parts.hostname&&(l=!1,r=i.ip4_expression.test(this._parts.hostname),o=i.ip6_expression.test(this._parts.hostname),t=r||o,s=!t,a=s&&n&&n.has(this._parts.hostname),u=s&&i.idn_expression.test(this._parts.hostname),c=s&&i.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return l;case"absolute":return!l;case"domain":case"name":return s;case"sld":return a;case"ip":return t;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return o;case"idn":return u;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return c}return null};var x=v.protocol,k=v.port,S=v.hostname;v.protocol=function(e,t){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(i.protocol_expression)))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return x.call(this,e,t)},v.scheme=v.protocol,v.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError('Port "'+e+'" contains characters other than [0-9]');return k.call(this,e,t)},v.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={},r=i.parseHost(e,n);if("/"!==r)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=n.hostname}return S.call(this,e,t)},v.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?i.buildHost(this._parts):"";var n=i.parseHost(e,this._parts);if("/"!==n)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},v.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?i.buildAuthority(this._parts):"";var n=i.parseAuthority(e,this._parts);if("/"!==n)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},v.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.username)return"";var n=i.buildUserinfo(this._parts);return n.substring(0,n.length-1)}return"@"!==e[e.length-1]&&(e+="@"),
i.parseUserinfo(e,this._parts),this.build(!t),this},v.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=i.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},v.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var r=this._parts.hostname.length-this.domain().length,s=this._parts.hostname.substring(0,r),a=new RegExp("^"+o(s));return e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&i.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(a,e),this.build(!t),this},v.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var r=this._parts.hostname.length-this.tld(t).length-1;return r=this._parts.hostname.lastIndexOf(".",r-1)+1,this._parts.hostname.substring(r)||""}if(!e)throw new TypeError("cannot set domain empty");if(i.ensureValidHostname(e),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var s=new RegExp(o(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(s,e)}return this.build(!t),this},v.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.lastIndexOf("."),i=this._parts.hostname.substring(r+1);return t!==!0&&n&&n.list[i.toLowerCase()]?n.get(this._parts.hostname)||i:i}var s;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');s=new RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(s,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");s=new RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(s,e)}return this.build(!t),this},v.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,r=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?i.decodePath(r):r}var s=this._parts.path.length-this.filename().length,a=this._parts.path.substring(0,s),u=new RegExp("^"+o(a));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=i.recodePath(e),this._parts.path=this._parts.path.replace(u,e),this.build(!t),this},v.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),r=this._parts.path.substring(n+1);return e?i.decodePathSegment(r):r}var s=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(s=!0);var a=new RegExp(o(this.filename())+"$");return e=i.recodePath(e),this._parts.path=this._parts.path.replace(a,e),s?this.normalizePath(t):this.build(!t),this},v.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var n,r,s=this.filename(),a=s.lastIndexOf(".");return-1===a?"":(n=s.substring(a+1),r=/^[a-z0-9%]+$/i.test(n)?n:"",e?i.decodePathSegment(r):r)}"."===e.charAt(0)&&(e=e.substring(1));var u,c=this.suffix();if(c)u=new RegExp(e?o(c)+"$":o("."+c)+"$");else{if(!e)return this;this._parts.path+="."+i.recodePath(e)}return u&&(e=i.recodePath(e),this._parts.path=this._parts.path.replace(u,e)),this.build(!t),this},v.segment=function(e,t,n){var r=this._parts.urn?":":"/",i=this.path(),o="/"===i.substring(0,1),s=i.split(r);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(o&&s.shift(),0>e&&(e=Math.max(s.length+e,0)),void 0===t)return void 0===e?s:s[e];if(null===e||void 0===s[e])if(a(t)){s=[];for(var u=0,c=t.length;c>u;u++)(t[u].length||s.length&&s[s.length-1].length)&&(s.length&&!s[s.length-1].length&&s.pop(),s.push(t[u]))}else(t||"string"==typeof t)&&(""===s[s.length-1]?s[s.length-1]=t:s.push(t));else t?s[e]=t:s.splice(e,1);return o&&s.unshift(""),this.path(s.join(r),n)},v.segmentCoded=function(e,t,n){var r,o,s;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(r=this.segment(e,t,n),a(r))for(o=0,s=r.length;s>o;o++)r[o]=i.decode(r[o]);else r=void 0!==r?i.decode(r):void 0;return r}if(a(t))for(o=0,s=t.length;s>o;o++)t[o]=i.encode(t[o]);else t="string"==typeof t||t instanceof String?i.encode(t):t;return this.segment(e,t,n)};var C=v.query;return v.query=function(e,t){if(e===!0)return i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=e.call(this,n);return this._parts.query=i.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=i.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):C.call(this,e,t)},v.setQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)r[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var o in e)b.call(e,o)&&(r[o]=e[o])}return this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},v.addQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.addQuery(r,e,void 0===t?null:t),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},v.removeQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.removeQuery(r,e,t),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},v.hasQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.hasQuery(r,e,t,n)},v.setSearch=v.setQuery,v.addSearch=v.addQuery,v.removeSearch=v.removeQuery,v.hasSearch=v.hasQuery,v.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},v.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},v.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},v.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===i.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},v.normalizePath=function(e){var t=this._parts.path;if(!t)return this;if(this._parts.urn)return this._parts.path=i.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var n,r,o,s="";for("/"!==t.charAt(0)&&(n=!0,t="/"+t),("/.."===t.slice(-3)||"/."===t.slice(-2))&&(t+="/"),t=t.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),n&&(s=t.substring(1).match(/^(\.\.\/)+/)||"",s&&(s=s[0]));;){if(r=t.indexOf("/.."),-1===r)break;0!==r?(o=t.substring(0,r).lastIndexOf("/"),-1===o&&(o=r),t=t.substring(0,o)+t.substring(r+3)):t=t.substring(3)}return n&&this.is("relative")&&(t=s+t.substring(1)),t=i.recodePath(t),this._parts.path=t,this.build(!e),this},v.normalizePathname=v.normalizePath,v.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(i.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},v.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},v.normalizeSearch=v.normalizeQuery,v.normalizeHash=v.normalizeFragment,v.iso8859=function(){var e=i.encode,t=i.decode;i.encode=escape,i.decode=decodeURIComponent;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},v.unicode=function(){var e=i.encode,t=i.decode;i.encode=f,i.decode=unescape;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},v.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";if(t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/"),n+=t.path(!0),t._parts.query){for(var r="",o=0,s=t._parts.query.split("&"),a=s.length;a>o;o++){var u=(s[o]||"").split("=");r+="&"+i.decodeQuery(u[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==u[1]&&(r+="="+i.decodeQuery(u[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+r.substring(1)}return n+=i.decodeQuery(t.hash(),!0)},v.absoluteTo=function(e){var t,n,r,o=this.clone(),s=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof i||(e=new i(e)),o._parts.protocol||(o._parts.protocol=e._parts.protocol),this._parts.hostname)return o;for(n=0;r=s[n];n++)o._parts[r]=e._parts[r];return o._parts.path?".."===o._parts.path.substring(-2)&&(o._parts.path+="/"):(o._parts.path=e._parts.path,o._parts.query||(o._parts.query=e._parts.query)),"/"!==o.path().charAt(0)&&(t=e.directory(),t=t?t:0===e.path().indexOf("/")?"/":"",o._parts.path=(t?t+"/":"")+o._parts.path,o.normalizePath()),o.build(),o},v.relativeTo=function(e){var t,n,r,o,s,a=this.clone().normalize();if(a._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new i(e).normalize(),t=a._parts,n=e._parts,o=a.path(),s=e.path(),"/"!==o.charAt(0))throw new Error("URI is already relative");if("/"!==s.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return a.build();if(null!==t.protocol||null!==t.username||null!==t.password)return a.build();if(t.hostname!==n.hostname||t.port!==n.port)return a.build();if(t.hostname=null,t.port=null,o===s)return t.path="",a.build();if(r=i.commonPath(o,s),!r)return a.build();var u=n.path.substring(r.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=u+t.path.substring(r.length)||"./",a.build()},v.equals=function(e){var t,n,r,o=this.clone(),s=new i(e),u={},c={},d={};if(o.normalize(),s.normalize(),o.toString()===s.toString())return!0;if(t=o.query(),n=s.query(),o.query(""),s.query(""),o.toString()!==s.toString())return!1;if(t.length!==n.length)return!1;u=i.parseQuery(t,this._parts.escapeQuerySpace),c=i.parseQuery(n,this._parts.escapeQuerySpace);for(r in u)if(b.call(u,r)){if(a(u[r])){if(!l(u[r],c[r]))return!1}else if(u[r]!==c[r])return!1;d[r]=!0}for(r in c)if(b.call(c,r)&&!d[r])return!1;return!0},v.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},v.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},i})},{"./IPv6":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/URIjs/src/IPv6.js","./SecondLevelDomains":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/URIjs/src/SecondLevelDomains.js","./punycode":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/URIjs/src/punycode.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/URIjs/src/punycode.js":[function(e,t,n){(function(e){!function(r){function i(e){throw RangeError(A[e])}function o(e,t){for(var n=e.length;n--;)e[n]=t(e[n]);return e}function s(e,t){return o(e.split(D),t).join(".")}function a(e){for(var t,n,r=[],i=0,o=e.length;o>i;)t=e.charCodeAt(i++),t>=55296&&56319>=t&&o>i?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function u(e){return o(e,function(e){var t="";return e>65535&&(e-=65536,t+=W(e>>>10&1023|55296),e=56320|1023&e),t+=W(e)}).join("")}function c(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:x}function l(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function d(e,t,n){var r=0;for(e=n?I(e/E):e>>1,e+=I(e/t);e>O*S>>1;r+=x)e=I(e/O);return I(r+(O+1)*e/(e+C))}function f(e){var t,n,r,o,s,a,l,f,h,p,m=[],v=e.length,b=0,g=N,y=j;for(n=e.lastIndexOf(R),0>n&&(n=0),r=0;n>r;++r)e.charCodeAt(r)>=128&&i("not-basic"),m.push(e.charCodeAt(r));for(o=n>0?n+1:0;v>o;){for(s=b,a=1,l=x;o>=v&&i("invalid-input"),f=c(e.charCodeAt(o++)),(f>=x||f>I((_-b)/a))&&i("overflow"),b+=f*a,h=y>=l?k:l>=y+S?S:l-y,!(h>f);l+=x)p=x-h,a>I(_/p)&&i("overflow"),a*=p;t=m.length+1,y=d(b-s,t,0==s),I(b/t)>_-g&&i("overflow"),g+=I(b/t),b%=t,m.splice(b++,0,g)}return u(m)}function h(e){var t,n,r,o,s,u,c,f,h,p,m,v,b,g,y,w=[];for(e=a(e),v=e.length,t=N,n=0,s=j,u=0;v>u;++u)m=e[u],128>m&&w.push(W(m));for(r=o=w.length,o&&w.push(R);v>r;){for(c=_,u=0;v>u;++u)m=e[u],m>=t&&c>m&&(c=m);for(b=r+1,c-t>I((_-n)/b)&&i("overflow"),n+=(c-t)*b,t=c,u=0;v>u;++u)if(m=e[u],t>m&&++n>_&&i("overflow"),m==t){for(f=n,h=x;p=s>=h?k:h>=s+S?S:h-s,!(p>f);h+=x)y=f-p,g=x-p,w.push(W(l(p+y%g,0))),f=I(y/g);w.push(W(l(f,0))),s=d(n,b,r==o),n=0,++r}++n,++t}return w.join("")}function p(e){return s(e,function(e){return T.test(e)?f(e.slice(4).toLowerCase()):e})}function m(e){return s(e,function(e){return U.test(e)?"xn--"+h(e):e})}var v="object"==typeof n&&n,b="object"==typeof t&&t&&t.exports==v&&t,g="object"==typeof e&&e;(g.global===g||g.window===g)&&(r=g);var y,w,_=2147483647,x=36,k=1,S=26,C=38,E=700,j=72,N=128,R="-",T=/^xn--/,U=/[^ -~]/,D=/\x2E|\u3002|\uFF0E|\uFF61/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=x-k,I=Math.floor,W=String.fromCharCode;if(y={version:"1.2.3",ucs2:{decode:a,encode:u},decode:f,encode:h,toASCII:m,toUnicode:p},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return y});else if(v&&!v.nodeType)if(b)b.exports=y;else for(w in y)y.hasOwnProperty(w)&&(v[w]=y[w]);else r.punycode=y}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/csv-streamify.js":[function(e,t,n){function r(e,t){if(e=e||{},e.inputEncoding){if(!i)throw new Error('Please "npm install iconv-lite".');if(!i.encodingExists(e.inputEncoding))throw new Error('Unknown input encoding "'+e.inputEncoding+'".');this.inputEncoding=e.inputEncoding}o.call(this,e),this.cb=null,t&&(this.cb=t),"function"==typeof e&&(this.cb=e),this.delimiter=e.delimiter||",",this.newline=e.newline||"\n",this.quote=e.quote||'"',this.empty=e.hasOwnProperty("empty")?e.empty:"",this.objectMode=e.objectMode||!1,this.hasColumns=e.columns||!1,this.body=[],this.lineNo=0,this._isQuoted=!1,this._prev=[],this._newlineDetected=!1,this._line=[],this._field="",this._columns=[]}var i,o=e("stream").Transform,s=e("util");if(!o)try{o=e("readable-stream").Transform}catch(a){throw new Error('Please "npm install readable-stream".')}try{i=e("iconv-lite")}catch(a){}t.exports=function(e,t){var n=new r(e,t);return n.cb&&n.on("error",n.cb),n},t.exports.CSVStream=r,s.inherits(r,o),r.prototype._transform=function(e,t,n){this.inputEncoding&&(e=i.fromEncoding(e,this.inputEncoding)),e=e.toString();try{this.parse(e),n()}catch(r){n(r)}},r.prototype._quoted=function(e,t){this._prevChar=e.charAt(t);var n=e.charAt(t+1)!==this.quote,r=e.charAt(t+1)===this.quote&&e.charAt(t+2)===this.quote;return n||r},r.prototype._q=function(e){for(this._prev.unshift(e);this._prev.length>3;)this._prev.pop()},r.prototype.parse=function(e){for(var t,n=0;n<e.length;n++)t=e.charAt(n),(this._isQuoted||!this._newlineDetected||(this._newlineDetected=!1,this._emitLine(),t!==this.newline[1]))&&t!==this.quote?(t!==this.quote&&this._prev[0]===this.quote&&this._prev[1]!==this.quote&&(this._isQuoted=this._isQuoted?!1:!0),t!==this.quote&&this._prev[0]===this.quote&&this._prev[1]===this.quote&&this._prev[2]===this.quote&&(this._isQuoted=this._isQuoted?!1:!0,this._field+=this.quote),this._field&&t!==this.quote&&this._prev[0]===this.quote&&this._prev[1]===this.quote&&this._prev[2]!==this.quote&&(this._field+=this.quote),this._isQuoted||t!==this.delimiter?this._isQuoted||t!==this.newline&&t!==this.newline[0]?(this._q(t),this._field+=t):(this._newlineDetected=!0,this._q(t)):(""===this._field&&(this._field=this.empty),this._line.push(this._field),this._field="",this._q(t))):this._q(t)},r.prototype._emitLine=function(){this._line.push(this._field);var e={},t=this;if(this.hasColumns){if(0===this.lineNo)return this._columns=this._line,this.lineNo+=1,void this._reset();this._columns.forEach(function(n,r){e[n]=t._line[r]}),this._line=e}this.push(this.objectMode?this._line:JSON.stringify(this._line)+"\n"),this.cb&&this.body.push(this._line),this.lineNo+=1,this._reset()},r.prototype._reset=function(){this._prev=[],this._field="",this._line=[],this._isQuoted=!1},r.prototype._flush=function(e){try{this._line.length&&this._emitLine(),this.cb&&this.cb(null,this.body),e()}catch(t){e(t)}}},{"iconv-lite":"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/lib/index.js","readable-stream":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/readable.js",stream:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/stream-browserify/index.js",util:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/util/util.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_duplex.js":[function(e,t,n){(function(n){function r(e){return this instanceof r?(u.call(this,e),c.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(e)}function i(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}function o(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}t.exports=r;var s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},a=e("core-util-is");a.inherits=e("inherits");var u=e("./_stream_readable"),c=e("./_stream_writable");a.inherits(r,u),o(s(c.prototype),function(e){r.prototype[e]||(r.prototype[e]=c.prototype[e])})}).call(this,e("_process"))},{"./_stream_readable":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_readable.js","./_stream_writable":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_writable.js",_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/core-util-is/lib/util.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_passthrough.js":[function(e,t,n){function r(e){return this instanceof r?void i.call(this,e):new r(e)}t.exports=r;var i=e("./_stream_transform"),o=e("core-util-is");o.inherits=e("inherits"),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_transform.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/core-util-is/lib/util.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_readable.js":[function(e,t,n){(function(n){function r(t,n){var r=e("./_stream_duplex");t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(N||(N=e("string_decoder/").StringDecoder),this.decoder=new N(t.encoding),this.encoding=t.encoding)}function i(t){e("./_stream_duplex");return this instanceof i?(this._readableState=new r(t,this),this.readable=!0,void E.call(this)):new i(t)}function o(e,t,n,r,i){var o=c(t,n);if(o)e.emit("error",o);else if(j.isNullOrUndefined(n))t.reading=!1,t.ended||l(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else!t.decoder||i||r||(n=t.decoder.write(n)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&d(e)),h(e,t);else i||(t.reading=!1);return s(t)}function s(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function a(e){if(e>=T)e=T;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function u(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||j.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=a(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e,t){var n=null;return j.isBuffer(t)||j.isString(t)||j.isNullOrUndefined(t)||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,d(e)}function d(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(R("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(function(){f(e)}):f(e))}function f(e){R("emit readable"),e.emit("readable"),g(e)}function h(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(function(){p(e,t)}))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(R("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function m(e){return function(){var t=e._readableState;R("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&C.listenerCount(e,"data")&&(t.flowing=!0,g(e))}}function v(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(function(){b(e,t)}))}function b(e,t){t.resumeScheduled=!1,e.emit("resume"),g(e),t.flowing&&!t.reading&&e.read(0)}function g(e){var t=e._readableState;if(R("flow",t.flowing),t.flowing)do var n=e.read();while(null!==n&&t.flowing)}function y(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,s=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!e||e>=i)n=o?r.join(""):S.concat(r,i),r.length=0;else if(e<r[0].length){var a=r[0];n=a.slice(0,e),r[0]=a.slice(e)}else if(e===r[0].length)n=r.shift();else{n=o?"":new S(e);for(var u=0,c=0,l=r.length;l>c&&e>u;c++){var a=r[0],d=Math.min(e-u,a.length);o?n+=a.slice(0,d):a.copy(n,u,0,d),d<a.length?r[0]=a.slice(d):r.shift(),u+=d}}return n}function w(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,n.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function _(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}function x(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}t.exports=i;var k=e("isarray"),S=e("buffer").Buffer;i.ReadableState=r;var C=e("events").EventEmitter;C.listenerCount||(C.listenerCount=function(e,t){return e.listeners(t).length});var E=e("stream"),j=e("core-util-is");j.inherits=e("inherits");var N,R=e("util");R=R&&R.debuglog?R.debuglog("stream"):function(){},j.inherits(i,E),i.prototype.push=function(e,t){var n=this._readableState;return j.isString(e)&&!n.objectMode&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=new S(e,t),t="")),o(this,n,e,t,!1)},i.prototype.unshift=function(e){var t=this._readableState;return o(this,t,e,"",!0)},i.prototype.setEncoding=function(t){return N||(N=e("string_decoder/").StringDecoder),this._readableState.decoder=new N(t),this._readableState.encoding=t,this};var T=8388608;i.prototype.read=function(e){R("read",e);var t=this._readableState,n=e;if((!j.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return R("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?w(this):d(this),null;if(e=u(e,t),0===e&&t.ended)return 0===t.length&&w(this),null;var r=t.needReadable;R("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,R("length less than watermark",r)),(t.ended||t.reading)&&(r=!1,R("reading or ended",r)),r&&(R("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=u(n,t));var i;return i=e>0?y(e,t):null,j.isNull(i)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&w(this),j.isNull(i)||this.emit("data",i),i},i.prototype._read=function(e){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,t){function r(e){R("onunpipe"),e===d&&o()}function i(){R("onend"),e.end()}function o(){R("cleanup"),e.removeListener("close",u),e.removeListener("finish",c),e.removeListener("drain",v),e.removeListener("error",a),e.removeListener("unpipe",r),d.removeListener("end",i),d.removeListener("end",o),d.removeListener("data",s),!f.awaitDrain||e._writableState&&!e._writableState.needDrain||v()}function s(t){R("ondata");var n=e.write(t);!1===n&&(R("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,d.pause())}function a(t){R("onerror",t),l(),e.removeListener("error",a),0===C.listenerCount(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",c),l()}function c(){R("onfinish"),e.removeListener("close",u),l()}function l(){R("unpipe"),d.unpipe(e)}var d=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=e;break;case 1:f.pipes=[f.pipes,e];break;default:f.pipes.push(e)}f.pipesCount+=1,R("pipe count=%d opts=%j",f.pipesCount,t);var h=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,p=h?i:o;f.endEmitted?n.nextTick(p):d.once("end",p),e.on("unpipe",r);var v=m(d);return e.on("drain",v),d.on("data",s),e._events&&e._events.error?k(e._events.error)?e._events.error.unshift(a):e._events.error=[a,e._events.error]:e.on("error",a),e.once("close",u),e.once("finish",c),e.emit("pipe",d),f.flowing||(R("pipe resume"),d.resume()),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;r>i;i++)n[i].emit("unpipe",this);return this}var i=x(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,t){var r=E.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&d(this,i);else{var o=this;n.nextTick(function(){R("readable nexttick read 0"),o.read(0)})}}return r},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var e=this._readableState;return e.flowing||(R("resume"),e.flowing=!0,e.reading||(R("resume read 0"),this.read(0)),v(this,e)),this},i.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(R("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(R("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)){var o=r.push(i);o||(n=!0,e.pause())}});for(var i in e)j.isFunction(e[i])&&j.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return _(o,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){R("wrapped _read",t),n&&(n=!1,e.resume())},r},i._fromList=y}).call(this,e("_process"))},{"./_stream_duplex":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_duplex.js",_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/core-util-is/lib/util.js",events:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/events/events.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js",isarray:"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/isarray/index.js",stream:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/stream-browserify/index.js","string_decoder/":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/string_decoder/index.js",util:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/browser-resolve/empty.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_transform.js":[function(e,t,n){function r(e,t){this.afterTransform=function(e,n){return i(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(e,t,n){
var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,u.isNullOrUndefined(n)||e.push(n),i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);a.call(this,e),this._transformState=new r(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){u.isFunction(this._flush)?this._flush(function(e){s(t,e)}):s(t)})}function s(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}t.exports=o;var a=e("./_stream_duplex"),u=e("core-util-is");u.inherits=e("inherits"),u.inherits(o,a),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;u.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))}},{"./_stream_duplex":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_duplex.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/core-util-is/lib/util.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_writable.js":[function(e,t,n){(function(n){function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function i(t,n){var r=e("./_stream_duplex");t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){h(n,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(t){var n=e("./_stream_duplex");return this instanceof o||this instanceof n?(this._writableState=new i(t,this),this.writable=!0,void k.call(this)):new o(t)}function s(e,t,r){var i=new Error("write after end");e.emit("error",i),n.nextTick(function(){r(i)})}function a(e,t,r,i){var o=!0;if(!(x.isBuffer(r)||x.isString(r)||x.isNullOrUndefined(r)||t.objectMode)){var s=new TypeError("Invalid non-string/buffer chunk");e.emit("error",s),n.nextTick(function(){i(s)}),o=!1}return o}function u(e,t,n){return!e.objectMode&&e.decodeStrings!==!1&&x.isString(t)&&(t=new _(t,n)),t}function c(e,t,n,i,o){n=u(t,n,i),x.isBuffer(n)&&(i="buffer");var s=t.objectMode?1:n.length;t.length+=s;var a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new r(n,i,o)):l(e,t,!1,s,n,i,o),a}function l(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function d(e,t,r,i,o){r?n.nextTick(function(){t.pendingcb--,o(i)}):(t.pendingcb--,o(i)),e._writableState.errorEmitted=!0,e.emit("error",i)}function f(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function h(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(f(r),t)d(e,r,i,t,o);else{var s=b(e,r);s||r.corked||r.bufferProcessing||!r.buffer.length||v(e,r),i?n.nextTick(function(){p(e,r,s,o)}):p(e,r,s,o)}}function p(e,t,n,r){n||m(e,t),t.pendingcb--,r(),y(e,t)}function m(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function v(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var n=[],r=0;r<t.buffer.length;r++)n.push(t.buffer[r].callback);t.pendingcb++,l(e,t,!0,t.length,t.buffer,"",function(e){for(var r=0;r<n.length;r++)t.pendingcb--,n[r](e)}),t.buffer=[]}else{for(var r=0;r<t.buffer.length;r++){var i=t.buffer[r],o=i.chunk,s=i.encoding,a=i.callback,u=t.objectMode?1:o.length;if(l(e,t,!1,u,o,s,a),t.writing){r++;break}}r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}t.bufferProcessing=!1}function b(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function g(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function y(e,t){var n=b(e,t);return n&&(0===t.pendingcb?(g(e,t),t.finished=!0,e.emit("finish")):g(e,t)),n}function w(e,t,r){t.ending=!0,y(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0}t.exports=o;var _=e("buffer").Buffer;o.WritableState=i;var x=e("core-util-is");x.inherits=e("inherits");var k=e("stream");x.inherits(o,k),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return x.isFunction(t)&&(n=t,t=null),x.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),x.isFunction(n)||(n=function(){}),r.ended?s(this,r,n):a(this,r,e,n)&&(r.pendingcb++,i=c(this,r,e,t,n)),i},o.prototype.cork=function(){var e=this._writableState;e.corked++},o.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||v(this,e))},o.prototype._write=function(e,t,n){n(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(e,t,n){var r=this._writableState;x.isFunction(e)?(n=e,e=null,t=null):x.isFunction(t)&&(n=t,t=null),x.isNullOrUndefined(e)||this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||w(this,r,n)}}).call(this,e("_process"))},{"./_stream_duplex":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_duplex.js",_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/core-util-is/lib/util.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js",stream:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/stream-browserify/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/core-util-is/lib/util.js":[function(e,t,n){(function(e){function t(e){return Array.isArray(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function s(e){return"number"==typeof e}function a(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function c(e){return void 0===e}function l(e){return d(e)&&"[object RegExp]"===b(e)}function d(e){return"object"==typeof e&&null!==e}function f(e){return d(e)&&"[object Date]"===b(e)}function h(e){return d(e)&&("[object Error]"===b(e)||e instanceof Error)}function p(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function v(t){return e.isBuffer(t)}function b(e){return Object.prototype.toString.call(e)}n.isArray=t,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=s,n.isString=a,n.isSymbol=u,n.isUndefined=c,n.isRegExp=l,n.isObject=d,n.isDate=f,n.isError=h,n.isFunction=p,n.isPrimitive=m,n.isBuffer=v}).call(this,e("buffer").Buffer)},{buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js":[function(e,t,n){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/isarray/index.js":[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/string_decoder/index.js":[function(e,t,n){function r(e){if(e&&!u(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function s(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var a=e("buffer").Buffer,u=a.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=n.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),r(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=i)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(!(r>=55296&&56319>=r)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,r=t.charCodeAt(i);if(r>=55296&&56319>=r){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},c.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(2>=t&&n>>4==14){this.charLength=3;break}if(3>=t&&n>>3==30){this.charLength=4;break}}this.charReceived=t},c.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t}},{buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/readable.js":[function(e,t,n){n=t.exports=e("./lib/_stream_readable.js"),n.Stream=e("stream"),n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_duplex.js","./lib/_stream_passthrough.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_passthrough.js","./lib/_stream_readable.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_readable.js","./lib/_stream_transform.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_transform.js","./lib/_stream_writable.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_writable.js",stream:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/stream-browserify/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/lodash/dist/lodash.js":[function(e,t,n){(function(e){(function(){function r(e,t,n){for(var r=(n||0)-1,i=e?e.length:0;++r<i;)if(e[r]===t)return r;return-1}function i(e,t){var n=typeof t;if(e=e.cache,"boolean"==n||null==t)return e[t]?0:-1;"number"!=n&&"string"!=n&&(n="object");var i="number"==n?t:w+t;return e=(e=e[n])&&e[i],"object"==n?e&&r(e,t)>-1?0:-1:e?0:-1}function o(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:w+e,i=t[n]||(t[n]={});"object"==n?(i[r]||(i[r]=[])).push(e):i[r]=!0}}function s(e){return e.charCodeAt(0)}function a(e,t){for(var n=e.criteria,r=t.criteria,i=-1,o=n.length;++i<o;){var s=n[i],a=r[i];if(s!==a){if(s>a||"undefined"==typeof s)return 1;if(a>s||"undefined"==typeof a)return-1}}return e.index-t.index}function u(e){var t=-1,n=e.length,r=e[0],i=e[n/2|0],s=e[n-1];if(r&&"object"==typeof r&&i&&"object"==typeof i&&s&&"object"==typeof s)return!1;var a=d();a["false"]=a["null"]=a["true"]=a.undefined=!1;var u=d();for(u.array=e,u.cache=a,u.push=o;++t<n;)u.push(e[t]);return u}function c(e){return"\\"+P[e]}function l(){return b.pop()||[]}function d(){return g.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function f(e){e.length=0,b.length<x&&b.push(e)}function h(e){var t=e.cache;t&&h(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,g.length<x&&g.push(e)}function p(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,i=n-t||0,o=Array(0>i?0:i);++r<i;)o[r]=e[t+r];return o}function m(e){function t(e){return e&&"object"==typeof e&&!Kn(e)&&On.call(e,"__wrapped__")?e:new n(e)}function n(e,t){this.__chain__=!!t,this.__wrapped__=e}function o(e){function t(){if(r){var e=p(r);In.apply(e,arguments)}if(this instanceof t){var o=g(n.prototype),s=n.apply(o,e||arguments);return Te(s)?s:o}return n.apply(i,e||arguments)}var n=e[0],r=e[2],i=e[4];return Hn(t,e),t}function b(e,t,n,r,i){if(n){var o=n(e);if("undefined"!=typeof o)return o}var s=Te(e);if(!s)return e;var a=jn.call(e);if(!Y[a])return e;var u=Qn[a];switch(a){case B:case L:return new u(+e);case G:case X:return new u(e);case F:return o=u(e.source,N.exec(e)),o.lastIndex=e.lastIndex,o}var c=Kn(e);if(t){var d=!r;r||(r=l()),i||(i=l());for(var h=r.length;h--;)if(r[h]==e)return i[h];o=c?u(e.length):{}}else o=c?p(e):or({},e);return c&&(On.call(e,"index")&&(o.index=e.index),On.call(e,"input")&&(o.input=e.input)),t?(r.push(e),i.push(o),(c?Pe:ur)(e,function(e,s){o[s]=b(e,t,n,r,i)}),d&&(f(r),f(i)),o):o}function g(e,t){return Te(e)?Ln(e):{}}function x(e,t,n){if("function"!=typeof e)return Ht;if("undefined"==typeof t||!("prototype"in e))return e;var r=e.__bindData__;if("undefined"==typeof r&&(Pn.funcNames&&(r=!e.name),r=r||!Pn.funcDecomp,!r)){var i=Dn.call(e);Pn.funcNames||(r=!R.test(i)),r||(r=A.test(i),Hn(e,r))}if(r===!1||r!==!0&&1&r[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return Ot(e,t)}function P(e){function t(){var e=u?s:this;if(i){var h=p(i);In.apply(h,arguments)}if((o||l)&&(h||(h=p(arguments)),o&&In.apply(h,o),l&&h.length<a))return r|=16,P([n,d?r:-4&r,h,null,s,a]);if(h||(h=arguments),c&&(n=e[f]),this instanceof t){e=g(n.prototype);var m=n.apply(e,h);return Te(m)?m:e}return n.apply(e,h)}var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=1&r,c=2&r,l=4&r,d=8&r,f=n;return Hn(t,e),t}function K(e,t){var n=-1,o=ue(),s=e?e.length:0,a=s>=_&&o===r,c=[];if(a){var l=u(t);l?(o=i,t=l):a=!1}for(;++n<s;){var d=e[n];o(t,d)<0&&c.push(d)}return a&&h(t),c}function $(e,t,n,r){for(var i=(r||0)-1,o=e?e.length:0,s=[];++i<o;){var a=e[i];if(a&&"object"==typeof a&&"number"==typeof a.length&&(Kn(a)||fe(a))){t||(a=$(a,t,n));var u=-1,c=a.length,l=s.length;for(s.length+=c;++u<c;)s[l++]=a[u]}else n||s.push(a)}return s}function ee(e,t,n,r,i,o){if(n){var s=n(e,t);if("undefined"!=typeof s)return!!s}if(e===t)return 0!==e||1/e==1/t;var a=typeof e,u=typeof t;if(!(e!==e||e&&Q[a]||t&&Q[u]))return!1;if(null==e||null==t)return e===t;var c=jn.call(e),d=jn.call(t);if(c==M&&(c=z),d==M&&(d=z),c!=d)return!1;switch(c){case B:case L:return+e==+t;case G:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case F:case X:return e==xn(t)}var h=c==Z;if(!h){var p=On.call(e,"__wrapped__"),m=On.call(t,"__wrapped__");if(p||m)return ee(p?e.__wrapped__:e,m?t.__wrapped__:t,n,r,i,o);if(c!=z)return!1;var v=e.constructor,b=t.constructor;if(v!=b&&!(Re(v)&&v instanceof v&&Re(b)&&b instanceof b)&&"constructor"in e&&"constructor"in t)return!1}var g=!i;i||(i=l()),o||(o=l());for(var y=i.length;y--;)if(i[y]==e)return o[y]==t;var w=0;if(s=!0,i.push(e),o.push(t),h){if(y=e.length,w=t.length,s=w==y,s||r)for(;w--;){var _=y,x=t[w];if(r)for(;_--&&!(s=ee(e[_],x,n,r,i,o)););else if(!(s=ee(e[w],x,n,r,i,o)))break}}else ar(t,function(t,a,u){return On.call(u,a)?(w++,s=On.call(e,a)&&ee(e[a],t,n,r,i,o)):void 0}),s&&!r&&ar(e,function(e,t,n){return On.call(n,t)?s=--w>-1:void 0});return i.pop(),o.pop(),g&&(f(i),f(o)),s}function te(e,t,n,r,i){(Kn(t)?Pe:ur)(t,function(t,o){var s,a,u=t,c=e[o];if(t&&((a=Kn(t))||cr(t))){for(var l=r.length;l--;)if(s=r[l]==t){c=i[l];break}if(!s){var d;n&&(u=n(c,t),(d="undefined"!=typeof u)&&(c=u)),d||(c=a?Kn(c)?c:[]:cr(c)?c:{}),r.push(t),i.push(c),d||te(c,t,n,r,i)}}else n&&(u=n(c,t),"undefined"==typeof u&&(u=t)),"undefined"!=typeof u&&(c=u);e[o]=c})}function re(e,t){return e+Un(qn()*(t-e+1))}function ie(e,t,n){var o=-1,s=ue(),a=e?e.length:0,c=[],d=!t&&a>=_&&s===r,p=n||d?l():c;if(d){var m=u(p);s=i,p=m}for(;++o<a;){var v=e[o],b=n?n(v,o,e):v;(t?!o||p[p.length-1]!==b:s(p,b)<0)&&((n||d)&&p.push(b),c.push(v))}return d?(f(p.array),h(p)):n&&f(p),c}function oe(e){return function(n,r,i){var o={};r=t.createCallback(r,i,3);var s=-1,a=n?n.length:0;if("number"==typeof a)for(;++s<a;){var u=n[s];e(o,u,r(u,s,n),n)}else ur(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function se(e,t,n,r,i,s){var a=1&t,u=2&t,c=4&t,l=16&t,d=32&t;if(!u&&!Re(e))throw new kn;l&&!n.length&&(t&=-17,l=n=!1),d&&!r.length&&(t&=-33,d=r=!1);var f=e&&e.__bindData__;if(f&&f!==!0)return f=p(f),f[2]&&(f[2]=p(f[2])),f[3]&&(f[3]=p(f[3])),!a||1&f[1]||(f[4]=i),!a&&1&f[1]&&(t|=8),!c||4&f[1]||(f[5]=s),l&&In.apply(f[2]||(f[2]=[]),n),d&&Zn.apply(f[3]||(f[3]=[]),r),f[1]|=t,se.apply(null,f);var h=1==t||17===t?o:P;return h([e,t,n,r,i,s])}function ae(e){return tr[e]}function ue(){var e=(e=t.indexOf)===bt?r:e;return e}function ce(e){return"function"==typeof e&&Nn.test(e)}function le(e){var t,n;return e&&jn.call(e)==z&&(t=e.constructor,!Re(t)||t instanceof t)?(ar(e,function(e,t){n=t}),"undefined"==typeof n||On.call(e,n)):!1}function de(e){return nr[e]}function fe(e){return e&&"object"==typeof e&&"number"==typeof e.length&&jn.call(e)==M||!1}function he(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n=t,t=!1),b(e,t,"function"==typeof n&&x(n,r,1))}function pe(e,t,n){return b(e,!0,"function"==typeof t&&x(t,n,1))}function me(e,t){var n=g(e);return t?or(n,t):n}function ve(e,n,r){var i;return n=t.createCallback(n,r,3),ur(e,function(e,t,r){return n(e,t,r)?(i=t,!1):void 0}),i}function be(e,n,r){var i;return n=t.createCallback(n,r,3),ye(e,function(e,t,r){return n(e,t,r)?(i=t,!1):void 0}),i}function ge(e,t,n){var r=[];ar(e,function(e,t){r.push(t,e)});var i=r.length;for(t=x(t,n,3);i--&&t(r[i--],r[i],e)!==!1;);return e}function ye(e,t,n){var r=er(e),i=r.length;for(t=x(t,n,3);i--;){var o=r[i];if(t(e[o],o,e)===!1)break}return e}function we(e){var t=[];return ar(e,function(e,n){Re(e)&&t.push(n)}),t.sort()}function _e(e,t){return e?On.call(e,t):!1}function xe(e){for(var t=-1,n=er(e),r=n.length,i={};++t<r;){var o=n[t];i[e[o]]=o}return i}function ke(e){return e===!0||e===!1||e&&"object"==typeof e&&jn.call(e)==B||!1}function Se(e){return e&&"object"==typeof e&&jn.call(e)==L||!1}function Ce(e){return e&&1===e.nodeType||!1}function Ee(e){var t=!0;if(!e)return t;var n=jn.call(e),r=e.length;return n==Z||n==X||n==M||n==z&&"number"==typeof r&&Re(e.splice)?!r:(ur(e,function(){return t=!1}),t)}function je(e,t,n,r){return ee(e,t,"function"==typeof n&&x(n,r,2))}function Ne(e){return Gn(e)&&!zn(parseFloat(e))}function Re(e){return"function"==typeof e}function Te(e){return!(!e||!Q[typeof e])}function Ue(e){return Ae(e)&&e!=+e}function De(e){return null===e}function Ae(e){return"number"==typeof e||e&&"object"==typeof e&&jn.call(e)==G||!1}function Oe(e){return e&&"object"==typeof e&&jn.call(e)==F||!1}function Ie(e){return"string"==typeof e||e&&"object"==typeof e&&jn.call(e)==X||!1}function We(e){return"undefined"==typeof e}function Me(e,n,r){var i={};return n=t.createCallback(n,r,3),ur(e,function(e,t,r){i[t]=n(e,t,r)}),i}function Ze(e){var t=arguments,n=2;if(!Te(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var r=x(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(r=t[--n]);for(var i=p(arguments,1,n),o=-1,s=l(),a=l();++o<n;)te(e,i[o],r,s,a);return f(s),f(a),e}function Be(e,n,r){var i={};if("function"!=typeof n){var o=[];ar(e,function(e,t){o.push(t)}),o=K(o,$(arguments,!0,!1,1));for(var s=-1,a=o.length;++s<a;){var u=o[s];i[u]=e[u]}}else n=t.createCallback(n,r,3),ar(e,function(e,t,r){n(e,t,r)||(i[t]=e)});return i}function Le(e){for(var t=-1,n=er(e),r=n.length,i=pn(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function Ve(e,n,r){var i={};if("function"!=typeof n)for(var o=-1,s=$(arguments,!0,!1,1),a=Te(e)?s.length:0;++o<a;){var u=s[o];u in e&&(i[u]=e[u])}else n=t.createCallback(n,r,3),ar(e,function(e,t,r){n(e,t,r)&&(i[t]=e)});return i}function Ge(e,n,r,i){var o=Kn(e);if(null==r)if(o)r=[];else{var s=e&&e.constructor,a=s&&s.prototype;r=g(a)}return n&&(n=t.createCallback(n,i,4),(o?Pe:ur)(e,function(e,t,i){return n(r,e,t,i)})),r}function ze(e){for(var t=-1,n=er(e),r=n.length,i=pn(r);++t<r;)i[t]=e[n[t]];return i}function Fe(e){for(var t=arguments,n=-1,r=$(t,!0,!1,1),i=t[2]&&t[2][t[1]]===e?1:r.length,o=pn(i);++n<i;)o[n]=e[r[n]];return o}function Xe(e,t,n){var r=-1,i=ue(),o=e?e.length:0,s=!1;return n=(0>n?Xn(0,o+n):n)||0,Kn(e)?s=i(e,t,n)>-1:"number"==typeof o?s=(Ie(e)?e.indexOf(t,n):i(e,t,n))>-1:ur(e,function(e){return++r>=n?!(s=e===t):void 0}),s}function Ye(e,n,r){var i=!0;n=t.createCallback(n,r,3);var o=-1,s=e?e.length:0;if("number"==typeof s)for(;++o<s&&(i=!!n(e[o],o,e)););else ur(e,function(e,t,r){return i=!!n(e,t,r)});return i}function Je(e,n,r){var i=[];n=t.createCallback(n,r,3);var o=-1,s=e?e.length:0;if("number"==typeof s)for(;++o<s;){var a=e[o];n(a,o,e)&&i.push(a)}else ur(e,function(e,t,r){n(e,t,r)&&i.push(e)});return i}function qe(e,n,r){n=t.createCallback(n,r,3);var i=-1,o=e?e.length:0;if("number"!=typeof o){var s;return ur(e,function(e,t,r){return n(e,t,r)?(s=e,!1):void 0}),s}for(;++i<o;){var a=e[i];if(n(a,i,e))return a}}function Qe(e,n,r){var i;return n=t.createCallback(n,r,3),He(e,function(e,t,r){return n(e,t,r)?(i=e,!1):void 0}),i}function Pe(e,t,n){var r=-1,i=e?e.length:0;if(t=t&&"undefined"==typeof n?t:x(t,n,3),"number"==typeof i)for(;++r<i&&t(e[r],r,e)!==!1;);else ur(e,t);return e}function He(e,t,n){var r=e?e.length:0;if(t=t&&"undefined"==typeof n?t:x(t,n,3),"number"==typeof r)for(;r--&&t(e[r],r,e)!==!1;);else{var i=er(e);r=i.length,ur(e,function(e,n,o){return n=i?i[--r]:--r,t(o[n],n,o)})}return e}function Ke(e,t){var n=p(arguments,2),r=-1,i="function"==typeof t,o=e?e.length:0,s=pn("number"==typeof o?o:0);return Pe(e,function(e){s[++r]=(i?t:e[t]).apply(e,n)}),s}function $e(e,n,r){var i=-1,o=e?e.length:0;if(n=t.createCallback(n,r,3),"number"==typeof o)for(var s=pn(o);++i<o;)s[i]=n(e[i],i,e);else s=[],ur(e,function(e,t,r){s[++i]=n(e,t,r)});return s}function et(e,n,r){var i=-(1/0),o=i;if("function"!=typeof n&&r&&r[n]===e&&(n=null),null==n&&Kn(e))for(var a=-1,u=e.length;++a<u;){var c=e[a];c>o&&(o=c)}else n=null==n&&Ie(e)?s:t.createCallback(n,r,3),Pe(e,function(e,t,r){var s=n(e,t,r);s>i&&(i=s,o=e)});return o}function tt(e,n,r){var i=1/0,o=i;if("function"!=typeof n&&r&&r[n]===e&&(n=null),null==n&&Kn(e))for(var a=-1,u=e.length;++a<u;){var c=e[a];o>c&&(o=c)}else n=null==n&&Ie(e)?s:t.createCallback(n,r,3),Pe(e,function(e,t,r){var s=n(e,t,r);i>s&&(i=s,o=e)});return o}function nt(e,n,r,i){if(!e)return r;var o=arguments.length<3;n=t.createCallback(n,i,4);var s=-1,a=e.length;if("number"==typeof a)for(o&&(r=e[++s]);++s<a;)r=n(r,e[s],s,e);else ur(e,function(e,t,i){r=o?(o=!1,e):n(r,e,t,i)});return r}function rt(e,n,r,i){var o=arguments.length<3;return n=t.createCallback(n,i,4),He(e,function(e,t,i){r=o?(o=!1,e):n(r,e,t,i)}),r}function it(e,n,r){return n=t.createCallback(n,r,3),Je(e,function(e,t,r){return!n(e,t,r)})}function ot(e,t,n){if(e&&"number"!=typeof e.length&&(e=ze(e)),null==t||n)return e?e[re(0,e.length-1)]:v;var r=st(e);return r.length=Yn(Xn(0,t),r.length),r}function st(e){var t=-1,n=e?e.length:0,r=pn("number"==typeof n?n:0);return Pe(e,function(e){var n=re(0,++t);r[t]=r[n],r[n]=e}),r}function at(e){var t=e?e.length:0;return"number"==typeof t?t:er(e).length}function ut(e,n,r){var i;n=t.createCallback(n,r,3);var o=-1,s=e?e.length:0;if("number"==typeof s)for(;++o<s&&!(i=n(e[o],o,e)););else ur(e,function(e,t,r){return!(i=n(e,t,r))});return!!i}function ct(e,n,r){var i=-1,o=Kn(n),s=e?e.length:0,u=pn("number"==typeof s?s:0);for(o||(n=t.createCallback(n,r,3)),Pe(e,function(e,t,r){var s=u[++i]=d();o?s.criteria=$e(n,function(t){return e[t]}):(s.criteria=l())[0]=n(e,t,r),s.index=i,s.value=e}),s=u.length,u.sort(a);s--;){var c=u[s];u[s]=c.value,o||f(c.criteria),h(c)}return u}function lt(e){return e&&"number"==typeof e.length?p(e):ze(e)}function dt(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r}function ft(e){return K(e,$(arguments,!0,!0,1))}function ht(e,n,r){var i=-1,o=e?e.length:0;for(n=t.createCallback(n,r,3);++i<o;)if(n(e[i],i,e))return i;return-1}function pt(e,n,r){var i=e?e.length:0;for(n=t.createCallback(n,r,3);i--;)if(n(e[i],i,e))return i;return-1}function mt(e,n,r){var i=0,o=e?e.length:0;if("number"!=typeof n&&null!=n){var s=-1;for(n=t.createCallback(n,r,3);++s<o&&n(e[s],s,e);)i++}else if(i=n,null==i||r)return e?e[0]:v;return p(e,0,Yn(Xn(0,i),o))}function vt(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(e=$e(e,n,r)),$(e,t)}function bt(e,t,n){if("number"==typeof n){var i=e?e.length:0;n=0>n?Xn(0,i+n):n||0}else if(n){var o=Et(e,t);return e[o]===t?o:-1}return r(e,t,n)}function gt(e,n,r){var i=0,o=e?e.length:0;if("number"!=typeof n&&null!=n){var s=o;for(n=t.createCallback(n,r,3);s--&&n(e[s],s,e);)i++}else i=null==n||r?1:n||i;return p(e,0,Yn(Xn(0,o-i),o))}function yt(){for(var e=[],t=-1,n=arguments.length,o=l(),s=ue(),a=s===r,c=l();++t<n;){var d=arguments[t];(Kn(d)||fe(d))&&(e.push(d),o.push(a&&d.length>=_&&u(t?e[t]:c)))}var p=e[0],m=-1,v=p?p.length:0,b=[];e:for(;++m<v;){var g=o[0];if(d=p[m],(g?i(g,d):s(c,d))<0){for(t=n,(g||c).push(d);--t;)if(g=o[t],(g?i(g,d):s(e[t],d))<0)continue e;b.push(d)}}for(;n--;)g=o[n],g&&h(g);return f(o),f(c),b}function wt(e,n,r){var i=0,o=e?e.length:0;if("number"!=typeof n&&null!=n){var s=o;for(n=t.createCallback(n,r,3);s--&&n(e[s],s,e);)i++}else if(i=n,null==i||r)return e?e[o-1]:v;return p(e,Xn(0,o-i))}function _t(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(0>n?Xn(0,r+n):Yn(n,r-1))+1);r--;)if(e[r]===t)return r;return-1}function xt(e){for(var t=arguments,n=0,r=t.length,i=e?e.length:0;++n<r;)for(var o=-1,s=t[n];++o<i;)e[o]===s&&(Mn.call(e,o--,1),i--);return e}function kt(e,t,n){e=+e||0,n="number"==typeof n?n:+n||1,null==t&&(t=e,e=0);for(var r=-1,i=Xn(0,Rn((t-e)/(n||1))),o=pn(i);++r<i;)o[r]=e,e+=n;return o}function St(e,n,r){var i=-1,o=e?e.length:0,s=[];for(n=t.createCallback(n,r,3);++i<o;){var a=e[i];n(a,i,e)&&(s.push(a),Mn.call(e,i--,1),o--)}return s}function Ct(e,n,r){if("number"!=typeof n&&null!=n){var i=0,o=-1,s=e?e.length:0;for(n=t.createCallback(n,r,3);++o<s&&n(e[o],o,e);)i++}else i=null==n||r?1:Xn(0,n);return p(e,i)}function Et(e,n,r,i){var o=0,s=e?e.length:o;for(r=r?t.createCallback(r,i,1):Ht,n=r(n);s>o;){var a=o+s>>>1;r(e[a])<n?o=a+1:s=a}return o}function jt(){return ie($(arguments,!0,!0))}function Nt(e,n,r,i){return"boolean"!=typeof n&&null!=n&&(i=r,r="function"!=typeof n&&i&&i[n]===e?null:n,n=!1),null!=r&&(r=t.createCallback(r,i,3)),ie(e,n,r)}function Rt(e){return K(e,p(arguments,1))}function Tt(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Kn(n)||fe(n))var r=r?ie(K(r,n).concat(K(n,r))):n}return r||[]}function Ut(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?et(hr(e,"length")):0,r=pn(0>n?0:n);++t<n;)r[t]=hr(e,t);return r}function Dt(e,t){var n=-1,r=e?e.length:0,i={};for(t||!r||Kn(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function At(e,t){if(!Re(t))throw new kn;return function(){return--e<1?t.apply(this,arguments):void 0}}function Ot(e,t){return arguments.length>2?se(e,17,p(arguments,2),null,t):se(e,1,null,null,t)}function It(e){for(var t=arguments.length>1?$(arguments,!0,!1,1):we(e),n=-1,r=t.length;++n<r;){var i=t[n];e[i]=se(e[i],1,null,null,e)}return e}function Wt(e,t){return arguments.length>2?se(t,19,p(arguments,2),null,e):se(t,3,null,null,e)}function Mt(){for(var e=arguments,t=e.length;t--;)if(!Re(e[t]))throw new kn;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function Zt(e,t){return t="number"==typeof t?t:+t||e.length,se(e,4,null,null,null,t)}function Bt(e,t,n){var r,i,o,s,a,u,c,l=0,d=!1,f=!0;if(!Re(e))throw new kn;if(t=Xn(0,t)||0,n===!0){var h=!0;f=!1}else Te(n)&&(h=n.leading,d="maxWait"in n&&(Xn(t,n.maxWait)||0),f="trailing"in n?n.trailing:f);var p=function(){var n=t-(mr()-s);if(0>=n){i&&Tn(i);var d=c;i=u=c=v,d&&(l=mr(),o=e.apply(a,r),u||i||(r=a=null))}else u=Wn(p,n)},m=function(){u&&Tn(u),i=u=c=v,(f||d!==t)&&(l=mr(),o=e.apply(a,r),u||i||(r=a=null))};return function(){if(r=arguments,s=mr(),a=this,c=f&&(u||!h),d===!1)var n=h&&!u;else{i||h||(l=s);var v=d-(s-l),b=0>=v;b?(i&&(i=Tn(i)),l=s,o=e.apply(a,r)):i||(i=Wn(m,v))}return b&&u?u=Tn(u):u||t===d||(u=Wn(p,t)),n&&(b=!0,o=e.apply(a,r)),!b||u||i||(r=a=null),o}}function Lt(e){if(!Re(e))throw new kn;var t=p(arguments,1);return Wn(function(){e.apply(v,t)},1)}function Vt(e,t){if(!Re(e))throw new kn;var n=p(arguments,2);return Wn(function(){e.apply(v,n)},t)}function Gt(e,t){if(!Re(e))throw new kn;var n=function(){var r=n.cache,i=t?t.apply(this,arguments):w+arguments[0];return On.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};return n.cache={},n}function zt(e){var t,n;if(!Re(e))throw new kn;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function Ft(e){return se(e,16,p(arguments,1))}function Xt(e){return se(e,32,null,p(arguments,1));

}function Yt(e,t,n){var r=!0,i=!0;if(!Re(e))throw new kn;return n===!1?r=!1:Te(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),J.leading=r,J.maxWait=t,J.trailing=i,Bt(e,t,J)}function Jt(e,t){return se(t,16,[e])}function qt(e){return function(){return e}}function Qt(e,t,n){var r=typeof e;if(null==e||"function"==r)return x(e,t,n);if("object"!=r)return tn(e);var i=er(e),o=i[0],s=e[o];return 1!=i.length||s!==s||Te(s)?function(t){for(var n=i.length,r=!1;n--&&(r=ee(t[i[n]],e[i[n]],null,!0)););return r}:function(e){var t=e[o];return s===t&&(0!==s||1/s==1/t)}}function Pt(e){return null==e?"":xn(e).replace(ir,ae)}function Ht(e){return e}function Kt(e,r,i){var o=!0,s=r&&we(r);r&&(i||s.length)||(null==i&&(i=r),a=n,r=e,e=t,s=we(r)),i===!1?o=!1:Te(i)&&"chain"in i&&(o=i.chain);var a=e,u=Re(a);Pe(s,function(t){var n=e[t]=r[t];u&&(a.prototype[t]=function(){var t=this.__chain__,r=this.__wrapped__,i=[r];In.apply(i,arguments);var s=n.apply(e,i);if(o||t){if(r===s&&Te(s))return this;s=new a(s),s.__chain__=t}return s})})}function $t(){return e._=En,this}function en(){}function tn(e){return function(t){return t[e]}}function nn(e,t,n){var r=null==e,i=null==t;if(null==n&&("boolean"==typeof e&&i?(n=e,e=1):i||"boolean"!=typeof t||(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=qn();return Yn(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t)}return re(e,t)}function rn(e,t){if(e){var n=e[t];return Re(n)?e[t]():n}}function on(e,n,r){var i=t.templateSettings;e=xn(e||""),r=sr({},r,i);var o,s=sr({},r.imports,i.imports),a=er(s),u=ze(s),l=0,d=r.interpolate||D,f="__p += '",h=_n((r.escape||D).source+"|"+d.source+"|"+(d===T?j:D).source+"|"+(r.evaluate||D).source+"|$","g");e.replace(h,function(t,n,r,i,s,a){return r||(r=i),f+=e.slice(l,a).replace(O,c),n&&(f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=a+t.length,t}),f+="';\n";var p=r.variable,m=p;m||(p="obj",f="with ("+p+") {\n"+f+"\n}\n"),f=(o?f.replace(S,""):f).replace(C,"$1").replace(E,"$1;"),f="function("+p+") {\n"+(m?"":p+" || ("+p+" = {});\n")+"var __t, __p = '', __e = _.escape"+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var b="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+W++ +"]")+"\n*/";try{var g=bn(a,"return "+f+b).apply(v,u)}catch(y){throw y.source=f,y}return n?g(n):(g.source=f,g)}function sn(e,t,n){e=(e=+e)>-1?e:0;var r=-1,i=pn(e);for(t=x(t,n,1);++r<e;)i[r]=t(r);return i}function an(e){return null==e?"":xn(e).replace(rr,de)}function un(e){var t=++y;return xn(null==e?"":e)+t}function cn(e){return e=new n(e),e.__chain__=!0,e}function ln(e,t){return t(e),e}function dn(){return this.__chain__=!0,this}function fn(){return xn(this.__wrapped__)}function hn(){return this.__wrapped__}e=e?ne.defaults(H.Object(),e,ne.pick(H,I)):H;var pn=e.Array,mn=e.Boolean,vn=e.Date,bn=e.Function,gn=e.Math,yn=e.Number,wn=e.Object,_n=e.RegExp,xn=e.String,kn=e.TypeError,Sn=[],Cn=wn.prototype,En=e._,jn=Cn.toString,Nn=_n("^"+xn(jn).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Rn=gn.ceil,Tn=e.clearTimeout,Un=gn.floor,Dn=bn.prototype.toString,An=ce(An=wn.getPrototypeOf)&&An,On=Cn.hasOwnProperty,In=Sn.push,Wn=e.setTimeout,Mn=Sn.splice,Zn=Sn.unshift,Bn=function(){try{var e={},t=ce(t=wn.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}(),Ln=ce(Ln=wn.create)&&Ln,Vn=ce(Vn=pn.isArray)&&Vn,Gn=e.isFinite,zn=e.isNaN,Fn=ce(Fn=wn.keys)&&Fn,Xn=gn.max,Yn=gn.min,Jn=e.parseInt,qn=gn.random,Qn={};Qn[Z]=pn,Qn[B]=mn,Qn[L]=vn,Qn[V]=bn,Qn[z]=wn,Qn[G]=yn,Qn[F]=_n,Qn[X]=xn,n.prototype=t.prototype;var Pn=t.support={};Pn.funcDecomp=!ce(e.WinRTError)&&A.test(m),Pn.funcNames="string"==typeof bn.name,t.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:T,variable:"",imports:{_:t}},Ln||(g=function(){function t(){}return function(n){if(Te(n)){t.prototype=n;var r=new t;t.prototype=null}return r||e.Object()}}());var Hn=Bn?function(e,t){q.value=t,Bn(e,"__bindData__",q),q.value=null}:en,Kn=Vn||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&jn.call(e)==Z||!1},$n=function(e){var t,n=e,r=[];if(!n)return r;if(!Q[typeof e])return r;for(t in n)On.call(n,t)&&r.push(t);return r},er=Fn?function(e){return Te(e)?Fn(e):[]}:$n,tr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nr=xe(tr),rr=_n("("+er(nr).join("|")+")","g"),ir=_n("["+er(tr).join("")+"]","g"),or=function(e,t,n){var r,i=e,o=i;if(!i)return o;var s=arguments,a=0,u="number"==typeof n?2:s.length;if(u>3&&"function"==typeof s[u-2])var c=x(s[--u-1],s[u--],2);else u>2&&"function"==typeof s[u-1]&&(c=s[--u]);for(;++a<u;)if(i=s[a],i&&Q[typeof i])for(var l=-1,d=Q[typeof i]&&er(i),f=d?d.length:0;++l<f;)r=d[l],o[r]=c?c(o[r],i[r]):i[r];return o},sr=function(e,t,n){var r,i=e,o=i;if(!i)return o;for(var s=arguments,a=0,u="number"==typeof n?2:s.length;++a<u;)if(i=s[a],i&&Q[typeof i])for(var c=-1,l=Q[typeof i]&&er(i),d=l?l.length:0;++c<d;)r=l[c],"undefined"==typeof o[r]&&(o[r]=i[r]);return o},ar=function(e,t,n){var r,i=e,o=i;if(!i)return o;if(!Q[typeof i])return o;t=t&&"undefined"==typeof n?t:x(t,n,3);for(r in i)if(t(i[r],r,e)===!1)return o;return o},ur=function(e,t,n){var r,i=e,o=i;if(!i)return o;if(!Q[typeof i])return o;t=t&&"undefined"==typeof n?t:x(t,n,3);for(var s=-1,a=Q[typeof i]&&er(i),u=a?a.length:0;++s<u;)if(r=a[s],t(i[r],r,e)===!1)return o;return o},cr=An?function(e){if(!e||jn.call(e)!=z)return!1;var t=e.valueOf,n=ce(t)&&(n=An(t))&&An(n);return n?e==n||An(e)==n:le(e)}:le,lr=oe(function(e,t,n){On.call(e,n)?e[n]++:e[n]=1}),dr=oe(function(e,t,n){(On.call(e,n)?e[n]:e[n]=[]).push(t)}),fr=oe(function(e,t,n){e[n]=t}),hr=$e,pr=Je,mr=ce(mr=vn.now)&&mr||function(){return(new vn).getTime()},vr=8==Jn(k+"08")?Jn:function(e,t){return Jn(Ie(e)?e.replace(U,""):e,t||0)};return t.after=At,t.assign=or,t.at=Fe,t.bind=Ot,t.bindAll=It,t.bindKey=Wt,t.chain=cn,t.compact=dt,t.compose=Mt,t.constant=qt,t.countBy=lr,t.create=me,t.createCallback=Qt,t.curry=Zt,t.debounce=Bt,t.defaults=sr,t.defer=Lt,t.delay=Vt,t.difference=ft,t.filter=Je,t.flatten=vt,t.forEach=Pe,t.forEachRight=He,t.forIn=ar,t.forInRight=ge,t.forOwn=ur,t.forOwnRight=ye,t.functions=we,t.groupBy=dr,t.indexBy=fr,t.initial=gt,t.intersection=yt,t.invert=xe,t.invoke=Ke,t.keys=er,t.map=$e,t.mapValues=Me,t.max=et,t.memoize=Gt,t.merge=Ze,t.min=tt,t.omit=Be,t.once=zt,t.pairs=Le,t.partial=Ft,t.partialRight=Xt,t.pick=Ve,t.pluck=hr,t.property=tn,t.pull=xt,t.range=kt,t.reject=it,t.remove=St,t.rest=Ct,t.shuffle=st,t.sortBy=ct,t.tap=ln,t.throttle=Yt,t.times=sn,t.toArray=lt,t.transform=Ge,t.union=jt,t.uniq=Nt,t.values=ze,t.where=pr,t.without=Rt,t.wrap=Jt,t.xor=Tt,t.zip=Ut,t.zipObject=Dt,t.collect=$e,t.drop=Ct,t.each=Pe,t.eachRight=He,t.extend=or,t.methods=we,t.object=Dt,t.select=Je,t.tail=Ct,t.unique=Nt,t.unzip=Ut,Kt(t),t.clone=he,t.cloneDeep=pe,t.contains=Xe,t.escape=Pt,t.every=Ye,t.find=qe,t.findIndex=ht,t.findKey=ve,t.findLast=Qe,t.findLastIndex=pt,t.findLastKey=be,t.has=_e,t.identity=Ht,t.indexOf=bt,t.isArguments=fe,t.isArray=Kn,t.isBoolean=ke,t.isDate=Se,t.isElement=Ce,t.isEmpty=Ee,t.isEqual=je,t.isFinite=Ne,t.isFunction=Re,t.isNaN=Ue,t.isNull=De,t.isNumber=Ae,t.isObject=Te,t.isPlainObject=cr,t.isRegExp=Oe,t.isString=Ie,t.isUndefined=We,t.lastIndexOf=_t,t.mixin=Kt,t.noConflict=$t,t.noop=en,t.now=mr,t.parseInt=vr,t.random=nn,t.reduce=nt,t.reduceRight=rt,t.result=rn,t.runInContext=m,t.size=at,t.some=ut,t.sortedIndex=Et,t.template=on,t.unescape=an,t.uniqueId=un,t.all=Ye,t.any=ut,t.detect=qe,t.findWhere=qe,t.foldl=nt,t.foldr=rt,t.include=Xe,t.inject=nt,Kt(function(){var e={};return ur(t,function(n,r){t.prototype[r]||(e[r]=n)}),e}(),!1),t.first=mt,t.last=wt,t.sample=ot,t.take=mt,t.head=mt,ur(t,function(e,r){var i="sample"!==r;t.prototype[r]||(t.prototype[r]=function(t,r){var o=this.__chain__,s=e(this.__wrapped__,t,r);return o||null!=t&&(!r||i&&"function"==typeof t)?new n(s,o):s})}),t.VERSION="2.4.2",t.prototype.chain=dn,t.prototype.toString=fn,t.prototype.value=hn,t.prototype.valueOf=hn,Pe(["join","pop","shift"],function(e){var r=Sn[e];t.prototype[e]=function(){var e=this.__chain__,t=r.apply(this.__wrapped__,arguments);return e?new n(t,e):t}}),Pe(["push","reverse","sort","unshift"],function(e){var n=Sn[e];t.prototype[e]=function(){return n.apply(this.__wrapped__,arguments),this}}),Pe(["concat","slice","splice"],function(e){var r=Sn[e];t.prototype[e]=function(){return new n(r.apply(this.__wrapped__,arguments),this.__chain__)}}),t}var v,b=[],g=[],y=0,w=+new Date+"",_=75,x=40,k=" 	\f\ufeff\n\r\u2028\u2029",S=/\b__p \+= '';/g,C=/\b(__p \+=) '' \+/g,E=/(__e\(.*?\)|\b__t\)) \+\n'';/g,j=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,N=/\w*$/,R=/^\s*function[ \n\r\t]+\w/,T=/<%=([\s\S]+?)%>/g,U=RegExp("^["+k+"]*0+(?=.$)"),D=/($^)/,A=/\bthis\b/,O=/['\n\r\t\u2028\u2029\\]/g,I=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],W=0,M="[object Arguments]",Z="[object Array]",B="[object Boolean]",L="[object Date]",V="[object Function]",G="[object Number]",z="[object Object]",F="[object RegExp]",X="[object String]",Y={};Y[V]=!1,Y[M]=Y[Z]=Y[B]=Y[L]=Y[G]=Y[z]=Y[F]=Y[X]=!0;var J={leading:!1,maxWait:0,trailing:!1},q={configurable:!1,enumerable:!1,value:null,writable:!1},Q={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},P={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},H=Q[typeof window]&&window||this,K=Q[typeof n]&&n&&!n.nodeType&&n,$=Q[typeof t]&&t&&!t.nodeType&&t,ee=$&&$.exports===K&&K,te=Q[typeof e]&&e;!te||te.global!==te&&te.window!==te||(H=te);var ne=m();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(H._=ne,define(function(){return ne})):K&&$?ee?($.exports=ne)._=ne:K._=ne:H._=ne}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/rx/dist/rx.all.js":[function(e,t,n){(function(e,r){(function(i){function o(e){for(var t=[],n=0,r=e.length;r>n;n++)t.push(e[n]);return t}function a(e,t){if(Ge&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(Ye)){for(var n=[],r=t;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(e.stack);var i=n.join("\n"+Ye+"\n");e.stack=u(i)}}function u(e){for(var t=e.split("\n"),n=[],r=0,i=t.length;i>r;r++){var o=t[r];c(o)||l(o)||!o||n.push(o)}return n.join("\n")}function c(e){var t=f(e);if(!t)return!1;var n=t[0],r=t[1];return n===Fe&&r>=Xe&&Fr>=r}function l(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function d(){if(Ge)try{throw new Error}catch(e){var t=e.stack.split("\n"),n=t[0].indexOf("@")>0?t[1]:t[2],r=f(n);if(!r)return;return Fe=r[0],r[1]}}function f(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function h(e){var t=[];if(!jt(e))return t;Et.nonEnumArgs&&e.length&&Nt(e)&&(e=Ut.call(e));var n=Et.enumPrototypes&&"function"==typeof e,r=Et.enumErrorProps&&(e===_t||e instanceof Error);for(var i in e)n&&"prototype"==i||r&&("message"==i||"name"==i)||t.push(i);if(Et.nonEnumShadows&&e!==xt){var o=e.constructor,s=-1,a=at;if(e===(o&&o.prototype))var u=e===kt?bt:e===_t?ft:gt.call(e),c=Ct[u];for(;++s<a;)i=st[s],c&&c[i]||!yt.call(e,i)||t.push(i)}return t}function p(e,t,n){for(var r=-1,i=n(e),o=i.length;++r<o;){var s=i[r];if(t(e[s],s,e)===!1)break}return e}function m(e,t){return p(e,t,h)}function v(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}function b(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;var i=typeof e,o=typeof t;if(e===e&&(null==e||null==t||"function"!=i&&"object"!=i&&"function"!=o&&"object"!=o))return!1;var s=gt.call(e),a=gt.call(t);if(s==ut&&(s=mt),a==ut&&(a=mt),s!=a)return!1;switch(s){case lt:case dt:return+e==+t;case pt:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case vt:case bt:return e==String(t)}var u=s==ct;if(!u){if(s!=mt||!Et.nodeClass&&(v(e)||v(t)))return!1;var c=!Et.argsObject&&Nt(e)?Object:e.constructor,l=!Et.argsObject&&Nt(t)?Object:t.constructor;if(!(c==l||yt.call(e,"constructor")&&yt.call(t,"constructor")||Ve(c)&&c instanceof c&&Ve(l)&&l instanceof l||!("constructor"in e&&"constructor"in t)))return!1}n||(n=[]),r||(r=[]);for(var d=n.length;d--;)if(n[d]==e)return r[d]==t;var f=0,h=!0;if(n.push(e),r.push(t),u){if(d=e.length,f=t.length,h=f==d)for(;f--;){var p=t[f];if(!(h=b(e[f],p,n,r)))break}}else m(t,function(t,i,o){return yt.call(o,i)?(f++,h=yt.call(e,i)&&b(e[i],t,n,r)):void 0}),h&&m(e,function(e,t,n){return yt.call(n,t)?h=--f>-1:void 0});return n.pop(),r.pop(),h}function g(e,t){for(var n=new Array(e),r=0;e>r;r++)n[r]=t();return n}function y(){try{return Rt.apply(this,arguments)}catch(e){return It.e=e,It}}function w(e){if(!Ve(e))throw new TypeError("fn must be a function");return Rt=e,y}function _(e){throw e}function x(e,t){this.id=e,this.value=t}function k(e,t){this.scheduler=e,this.disposable=t,this.isDisposed=!1}function S(e,t){t.isDisposed||(t.isDisposed=!0,t.disposable.dispose())}function C(e){this._s=s}function E(e){this._s=s,this._l=s.length,this._i=0}function j(e){this._a=e}function N(e){this._a=e,this._l=D(e),this._i=0}function R(e){return"number"==typeof e&&je.isFinite(e)}function T(e){var t,n=e[et];if(!n&&"string"==typeof e)return t=new C(e),t[et]();if(!n&&e.length!==i)return t=new j(e),t[et]();if(!n)throw new TypeError("Object is not iterable");return e[et]()}function U(e){var t=+e;return 0===t?t:isNaN(t)?t:0>t?-1:1}function D(e){var t=+e.length;return isNaN(t)?0:0!==t&&R(t)?(t=U(t)*Math.floor(Math.abs(t)),0>=t?0:t>Zn?Zn:t):t}function A(e,t){this.observer=e,this.parent=t}function O(e,t){return Ht(e)||(e=nn),new Ln(t,e)}function I(e,t){this.observer=e,this.parent=t}function W(e,t){this.observer=e,this.parent=t}function M(e,t){return new Zr(function(n){var r=new Xt,i=new Yt;return i.setDisposable(r),r.setDisposable(e.subscribe(function(e){n.onNext(e)},function(e){try{var r=t(e)}catch(o){return n.onError(o)}Be(r)&&(r=Un(r));var s=new Xt;i.setDisposable(s),s.setDisposable(r.subscribe(n))},function(e){n.onCompleted(e)})),i},e)}function Z(){return!1}function B(e,t){var n=this;return new Zr(function(r){var i=0,o=e.length;return n.subscribe(function(n){if(o>i){var s=e[i++],a=w(t)(n,s);if(a===It)return r.onError(a.e);r.onNext(a)}else r.onCompleted()},function(e){r.onError(e)},function(){r.onCompleted()})},n)}function Z(){return!1}function L(){return[]}function Z(){return!1}function V(){return[]}function G(e,t){this.observer=e,this.accumulator=t.accumulator,this.hasSeed=t.hasSeed,this.seed=t.seed,this.hasAccumulation=!1,this.accumulation=null,this.hasValue=!1,this.isStopped=!1}function z(e,t,n){var r=ot(t,n,3);return e.map(function(t,n){var i=r(t,n,e);return Be(i)&&(i=Un(i)),(rt(i)||nt(i))&&(i=Bn(i)),i}).concatAll()}function F(e,t,n){for(var r=0,i=e.length;i>r;r++)if(n(e[r],t))return r;return-1}function X(e){this.comparer=e,this.set=[]}function Y(e,t,n){var r=ot(t,n,3);return e.map(function(t,n){var i=r(t,n,e);return Be(i)&&(i=Un(i)),(rt(i)||nt(i))&&(i=Bn(i)),i}).mergeAll()}function J(e,t,n){return new Zr(function(r){var i=!1,o=null,s=[];return e.subscribe(function(e){var a,u;try{u=t(e)}catch(c){return void r.onError(c)}if(a=0,i)try{a=n(u,o)}catch(l){return void r.onError(l)}else i=!0,o=u;a>0&&(o=u,s=[]),a>=0&&s.push(e)},function(e){r.onError(e)},function(){r.onNext(s),r.onCompleted()})},e)}function q(e){if(0===e.length)throw new Je;return e[0]}function Q(e,t,n,r){if(0>t)throw new Qe;return new Zr(function(i){var o=t;return e.subscribe(function(e){0===o--&&(i.onNext(e),i.onCompleted())},function(e){i.onError(e)},function(){n?(i.onNext(r),i.onCompleted()):i.onError(new Qe)})},e)}function P(e,t,n){return new Zr(function(r){var i=n,o=!1;return e.subscribe(function(e){o?r.onError(new Error("Sequence contains more than one element")):(i=e,o=!0)},function(e){r.onError(e)},function(){o||t?(r.onNext(i),r.onCompleted()):r.onError(new Je)})},e)}function H(e,t,n){return new Zr(function(r){return e.subscribe(function(e){r.onNext(e),r.onCompleted()},function(e){r.onError(e)},function(){t?(r.onNext(n),r.onCompleted()):r.onError(new Je)})},e)}function K(e,t,n){return new Zr(function(r){var i=n,o=!1;return e.subscribe(function(e){i=e,o=!0},function(e){r.onError(e)},function(){o||t?(r.onNext(i),r.onCompleted()):r.onError(new Je)})},e)}function $(e,t,n,r){var o=ot(t,n,3);return new Zr(function(t){var n=0;return e.subscribe(function(i){var s;try{s=o(i,n,e)}catch(a){return void t.onError(a)}s?(t.onNext(r?n:i),t.onCompleted()):n++},function(e){t.onError(e)},function(){t.onNext(r?-1:i),t.onCompleted()})},e)}function ee(e,t){return Array.isArray(e)?te.call(t,e):oe(e)?gr(e.call(t)):se(e)?gr(e):ie(e)?ne(e):Be(e)?re(e):typeof e===vr?e:jt(e)||Array.isArray(e)?te.call(t,e):e}function te(e){var t=this;return function(n){function r(e,r){if(!i)try{if(e=ee(e,t),typeof e!==vr)return a[r]=e,--s||n(null,a);e.call(t,function(e,t){if(!i){if(e)return i=!0,n(e);a[r]=t,--s||n(null,a)}})}catch(o){i=!0,n(o)}}var i,o=Object.keys(e),s=o.length,a=new e.constructor;if(!s)return void an.schedule(function(){n(null,a)});for(var u=0,c=o.length;c>u;u++)r(e[o[u]],o[u])}}function ne(e){return function(t){var n,r=!1;e.subscribe(function(e){n=e,r=!0},t,function(){r&&t(null,n)})}}function re(e){return function(t){e.then(function(e){t(null,e)},t)}}function ie(e){return e&&typeof e.subscribe===vr}function oe(e){return e&&e.constructor&&"GeneratorFunction"===e.constructor.name}function se(e){return e&&typeof e.next===vr&&typeof e[br]===vr}function ae(e){e&&an.schedule(function(){throw e})}function ue(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1),Vt(function(){e.removeEventListener(t,n,!1)});throw new Error("No listener found")}function ce(e,t,n){var r=new Zt,i=Object.prototype.toString;if("[object NodeList]"===i.call(e)||"[object HTMLCollection]"===i.call(e))for(var o=0,s=e.length;s>o;o++)r.add(ce(e.item(o),t,n));else e&&r.add(ue(e,t,n));return r}function le(e,t,n){return new Zr(function(r){function i(e,t){if(c[t]=e,s[t]=!0,a||(a=s.every(Oe))){if(o)return r.onError(o);var i=w(n).apply(null,c);if(i===It)return r.onError(i.e);r.onNext(i)}u&&c[1]&&r.onCompleted()}var o,s=[!1,!1],a=!1,u=!1,c=new Array(2);return new Zt(e.subscribe(function(e){i(e,0)},function(e){c[1]?r.onError(e):o=e},function(){u=!0,c[1]&&r.onCompleted()}),t.subscribe(function(e){i(e,1)},function(e){r.onError(e)},function(){u=!0,i(!0,1)}))},e)}function de(e,t){return e.groupJoin(this,t,In,function(e,t){return t})}function fe(e){var t=this;return new Zr(function(n){var r=new Vr,i=new Zt,o=new Jt(i);return n.onNext(Ot(r,o)),i.add(t.subscribe(function(e){r.onNext(e)},function(e){r.onError(e),n.onError(e)},function(){r.onCompleted(),n.onCompleted()})),Be(e)&&(e=Un(e)),i.add(e.subscribe(function(e){r.onCompleted(),r=new Vr,n.onNext(Ot(r,o))},function(e){r.onError(e),n.onError(e)},function(){r.onCompleted(),n.onCompleted()})),o},t)}function he(e){var t=this;return new Zr(function(n){function r(){var t;try{t=e()}catch(o){return void n.onError(o)}Be(t)&&(t=Un(t));var u=new Xt;i.setDisposable(u),u.setDisposable(t.take(1).subscribe(Ae,function(e){a.onError(e),n.onError(e)},function(){a.onCompleted(),a=new Vr,n.onNext(Ot(a,s)),r()}))}var i=new Yt,o=new Zt(i),s=new Jt(o),a=new Vr;return n.onNext(Ot(a,s)),o.add(t.subscribe(function(e){a.onNext(e)},function(e){a.onError(e),n.onError(e)},function(){a.onCompleted(),n.onCompleted()})),r(),s},t)}function pe(e,t){return new Dr(e,t)}function me(e){this.patterns=e}function ve(e,t){this.expression=e,this.selector=t}function be(e,t,n){var r=e.get(t);if(!r){var i=new Wr(t,n);return e.set(t,i),i}return r}function ge(e,t,n){this.joinObserverArray=e,this.onNext=t,this.onCompleted=n,this.joinObservers=new Ir;for(var r=0,i=this.joinObserverArray.length;i>r;r++){var o=this.joinObserverArray[r];this.joinObservers.set(o,o)}}function ye(e,t){return new Zr(function(n){return t.scheduleWithAbsolute(e,function(){n.onNext(0),n.onCompleted()})})}function we(e,t,n){return new Zr(function(r){var i=e,o=Pt(t);return n.scheduleRecursiveWithAbsoluteAndState(0,i,function(e,t){if(o>0){var s=n.now();i+=o,s>=i&&(i=s+o)}r.onNext(e),t(e+1,i)})})}function _e(e,t){return new Zr(function(n){return t.scheduleWithRelative(Pt(e),function(){n.onNext(0),n.onCompleted()})})}function xe(e,t,n){return e===t?new Zr(function(e){return n.schedulePeriodicWithState(0,t,function(t){return e.onNext(t),t+1})}):An(function(){return we(n.now()+e,t,n)})}function ke(e,t,n){return new Zr(function(r){var i,o=!1,s=new Yt,a=null,u=[],c=!1;return i=e.materialize().timestamp(n).subscribe(function(e){var i,l;"E"===e.value.kind?(u=[],u.push(e),a=e.value.exception,l=!c):(u.push({value:e.value,timestamp:e.timestamp+t}),l=!o,o=!0),l&&(null!==a?r.onError(a):(i=new Xt,s.setDisposable(i),i.setDisposable(n.scheduleRecursiveWithRelative(t,function(e){var t,i,s,l;if(null===a){c=!0;do s=null,u.length>0&&u[0].timestamp-n.now()<=0&&(s=u.shift().value),null!==s&&s.accept(r);while(null!==s);l=!1,i=0,u.length>0?(l=!0,i=Math.max(0,u[0].timestamp-n.now())):o=!1,t=a,c=!1,null!==t?r.onError(t):l&&e(i)}}))))}),new Zt(i,s)},e)}function Se(e,t,n){return An(function(){return ke(e,t-n.now(),n)})}function Ce(e,t){return new Zr(function(n){function r(){s&&(s=!1,n.onNext(i)),o&&n.onCompleted()}var i,o=!1,s=!1,a=new Xt;return a.setDisposable(e.subscribe(function(e){s=!0,i=e},function(e){n.onError(e)},function(){o=!0,a.dispose()})),new Zt(a,t.subscribe(r,function(e){n.onError(e)},r))},e)}var Ee={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},je=Ee[typeof window]&&window||this,Ne=Ee[typeof n]&&n&&!n.nodeType&&n,Re=Ee[typeof t]&&t&&!t.nodeType&&t,Te=Re&&Re.exports===Ne&&Ne,Ue=Ee[typeof r]&&r;!Ue||Ue.global!==Ue&&Ue.window!==Ue||(je=Ue);var De={internals:{},config:{Promise:je.Promise},helpers:{}},Ae=De.helpers.noop=function(){},Oe=(De.helpers.notDefined=function(e){return"undefined"==typeof e},De.helpers.identity=function(e){return e}),Ie=(De.helpers.pluck=function(e){return function(t){return t[e]}},De.helpers.just=function(e){return function(){return e}},De.helpers.defaultNow=Date.now),We=De.helpers.defaultComparer=function(e,t){return Tt(e,t)},Me=De.helpers.defaultSubComparer=function(e,t){return e>t?1:t>e?-1:0},Ze=(De.helpers.defaultKeySerializer=function(e){return e.toString()},De.helpers.defaultError=function(e){throw e}),Be=De.helpers.isPromise=function(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then},Le=(De.helpers.asArray=function(){return Array.prototype.slice.call(arguments)},De.helpers.not=function(e){return!e}),Ve=De.helpers.isFunction=function(){var e=function(e){return"function"==typeof e||!1};return e(/x/)&&(e=function(e){return"function"==typeof e&&"[object Function]"==gt.call(e)}),e}();De.config.longStackSupport=!1;var Ge=!1;try{throw new Error}catch(ze){Ge=!!ze.stack}var Fe,Xe=d(),Ye="From previous event:",Je=De.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};Je.prototype=Error.prototype;var qe=De.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};qe.prototype=Error.prototype;var Qe=De.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};Qe.prototype=Error.prototype;var Pe=De.NotSupportedError=function(e){this.message=e||"This operation is not supported",Error.call(this)};Pe.prototype=Error.prototype;var He=De.NotImplementedError=function(e){this.message=e||"This operation is not implemented",Error.call(this)};He.prototype=Error.prototype;var Ke=De.helpers.notImplemented=function(){throw new He},$e=De.helpers.notSupported=function(){throw new Pe},et="function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_";je.Set&&"function"==typeof(new je.Set)["@@iterator"]&&(et="@@iterator");var tt=De.doneEnumerator={done:!0,value:i},nt=De.helpers.isIterable=function(e){return e[et]!==i},rt=De.helpers.isArrayLike=function(e){return e&&e.length!==i};De.helpers.iterator=et;var it,ot=De.internals.bindCallback=function(e,t,n){if("undefined"==typeof t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},st=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],at=st.length,ut="[object Arguments]",ct="[object Array]",lt="[object Boolean]",dt="[object Date]",ft="[object Error]",ht="[object Function]",pt="[object Number]",mt="[object Object]",vt="[object RegExp]",bt="[object String]",gt=Object.prototype.toString,yt=Object.prototype.hasOwnProperty,wt=gt.call(arguments)==ut,_t=Error.prototype,xt=Object.prototype,kt=String.prototype,St=xt.propertyIsEnumerable;try{it=!(gt.call(document)==mt&&!({toString:0}+""))}catch(ze){it=!0}var Ct={};Ct[ct]=Ct[dt]=Ct[pt]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Ct[lt]=Ct[bt]={constructor:!0,toString:!0,valueOf:!0},Ct[ft]=Ct[ht]=Ct[vt]={constructor:!0,toString:!0},Ct[mt]={constructor:!0};var Et={};!function(){var e=function(){this.x=1},t=[];e.prototype={valueOf:1,y:1};for(var n in new e)t.push(n);for(n in arguments);Et.enumErrorProps=St.call(_t,"message")||St.call(_t,"name"),Et.enumPrototypes=St.call(e,"prototype"),Et.nonEnumArgs=0!=n,Et.nonEnumShadows=!/valueOf/.test(t)}(1);var jt=De.internals.isObject=function(e){var t=typeof e;return e&&("function"==t||"object"==t)||!1},Nt=function(e){return e&&"object"==typeof e?gt.call(e)==ut:!1};wt||(Nt=function(e){return e&&"object"==typeof e?yt.call(e,"callee"):!1});var Rt,Tt=De.internals.isEqual=function(e,t){return b(e,t,[],[])},Ut=({}.hasOwnProperty,Array.prototype.slice),Dt=this.inherits=De.internals.inherits=function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},At=De.internals.addProperties=function(e){for(var t=[],n=1,r=arguments.length;r>n;n++)t.push(arguments[n]);for(var i=0,o=t.length;o>i;i++){var s=t[i];for(var a in s)e[a]=s[a]}},Ot=De.internals.addRef=function(e,t){return new Zr(function(n){return new Zt(t.getDisposable(),e.subscribe(n))})},It={e:{}};x.prototype.compareTo=function(e){var t=this.value.compareTo(e.value);return 0===t&&(t=this.id-e.id),t};var Wt=De.internals.PriorityQueue=function(e){this.items=new Array(e),this.length=0},Mt=Wt.prototype;Mt.isHigherPriority=function(e,t){return this.items[e].compareTo(this.items[t])<0},Mt.percolate=function(e){if(!(e>=this.length||0>e)){var t=e-1>>1;if(!(0>t||t===e)&&this.isHigherPriority(e,t)){var n=this.items[e];this.items[e]=this.items[t],this.items[t]=n,this.percolate(t)}}},Mt.heapify=function(e){if(+e||(e=0),!(e>=this.length||0>e)){var t=2*e+1,n=2*e+2,r=e;if(t<this.length&&this.isHigherPriority(t,r)&&(r=t),n<this.length&&this.isHigherPriority(n,r)&&(r=n),r!==e){var i=this.items[e];this.items[e]=this.items[r],this.items[r]=i,this.heapify(r)}}},Mt.peek=function(){return this.items[0].value},Mt.removeAt=function(e){this.items[e]=this.items[--this.length],this.items[this.length]=i,this.heapify()},Mt.dequeue=function(){var e=this.peek();return this.removeAt(0),e},Mt.enqueue=function(e){var t=this.length++;this.items[t]=new x(Wt.count++,e),this.percolate(t)},Mt.remove=function(e){for(var t=0;t<this.length;t++)if(this.items[t].value===e)return this.removeAt(t),!0;return!1},Wt.count=0;var Zt=De.CompositeDisposable=function(){var e,t,n=[];if(Array.isArray(arguments[0]))n=arguments[0],t=n.length;else for(t=arguments.length,n=new Array(t),e=0;t>e;e++)n[e]=arguments[e];for(e=0;t>e;e++)if(!zt(n[e]))throw new TypeError("Not a disposable");this.disposables=n,this.isDisposed=!1,this.length=n.length},Bt=Zt.prototype;Bt.add=function(e){this.isDisposed?e.dispose():(this.disposables.push(e),this.length++)},Bt.remove=function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),this.length--,e.dispose())}return t},Bt.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;e>n;n++)t[n]=this.disposables[n];for(this.disposables=[],this.length=0,n=0;e>n;n++)t[n].dispose()}};var Lt=De.Disposable=function(e){this.isDisposed=!1,this.action=e||Ae};Lt.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var Vt=Lt.create=function(e){return new Lt(e)},Gt=Lt.empty={dispose:Ae},zt=Lt.isDisposable=function(e){return e&&Ve(e.dispose)},Ft=Lt.checkDisposed=function(e){if(e.isDisposed)throw new qe},Xt=De.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};Xt.prototype.getDisposable=function(){return this.current},Xt.prototype.setDisposable=function(e){if(this.current)throw new Error("Disposable has already been assigned");var t=this.isDisposed;!t&&(this.current=e),t&&e&&e.dispose()},Xt.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null}e&&e.dispose()};var Yt=De.SerialDisposable=function(){this.isDisposed=!1,this.current=null};Yt.prototype.getDisposable=function(){return this.current},Yt.prototype.setDisposable=function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e}n&&n.dispose(),t&&e&&e.dispose()},Yt.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null}e&&e.dispose()};var Jt=De.RefCountDisposable=function(){function e(e){this.disposable=e,this.disposable.count++,this.isInnerDisposed=!1}function t(e){this.underlyingDisposable=e,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return e.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},t.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},t.prototype.getDisposable=function(){return this.isDisposed?Gt:new e(this)},t}();k.prototype.dispose=function(){this.scheduler.scheduleWithState(this,S)};var qt=De.internals.ScheduledItem=function(e,t,n,r,i){this.scheduler=e,this.state=t,this.action=n,this.dueTime=r,this.comparer=i||Me,this.disposable=new Xt};qt.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},qt.prototype.compareTo=function(e){return this.comparer(this.dueTime,e.dueTime)},qt.prototype.isCancelled=function(){return this.disposable.isDisposed},qt.prototype.invokeCore=function(){return this.action(this.scheduler,this.state)};var Qt=De.Scheduler=function(){function e(e,t,n,r){this.now=e,this._schedule=t,this._scheduleRelative=n,this._scheduleAbsolute=r}function t(e,t){return t(),Gt}e.isScheduler=function(t){return t instanceof e};var n=e.prototype;return n.schedule=function(e){return this._schedule(e,t)},n.scheduleWithState=function(e,t){return this._schedule(e,t)},n.scheduleWithRelative=function(e,n){return this._scheduleRelative(n,e,t)},n.scheduleWithRelativeAndState=function(e,t,n){return this._scheduleRelative(e,t,n)},n.scheduleWithAbsolute=function(e,n){return this._scheduleAbsolute(n,e,t)},n.scheduleWithAbsoluteAndState=function(e,t,n){return this._scheduleAbsolute(e,t,n)},e.now=Ie,e.normalize=function(e){return 0>e&&(e=0),e},e}(),Pt=Qt.normalize,Ht=Qt.isScheduler;!function(e){function t(e,t){function n(t){i(t,function(t){var r=!1,i=!1,s=e.scheduleWithState(t,function(e,t){return r?o.remove(s):i=!0,n(t),Gt});i||(o.add(s),r=!0)})}var r=t[0],i=t[1],o=new Zt;return n(r),o}function n(e,t,n){function r(t){o(t,function(t,i){var o=!1,a=!1,u=e[n](t,i,function(e,t){return o?s.remove(u):a=!0,r(t),Gt});a||(s.add(u),o=!0)})}var i=t[0],o=t[1],s=new Zt;return r(i),s}function r(e,t){
e(function(n){t(e,n)})}e.scheduleRecursive=function(e){return this.scheduleRecursiveWithState(e,r)},e.scheduleRecursiveWithState=function(e,n){return this.scheduleWithState([e,n],t)},e.scheduleRecursiveWithRelative=function(e,t){return this.scheduleRecursiveWithRelativeAndState(t,e,r)},e.scheduleRecursiveWithRelativeAndState=function(e,t,r){return this._scheduleRelative([e,r],t,function(e,t){return n(e,t,"scheduleWithRelativeAndState")})},e.scheduleRecursiveWithAbsolute=function(e,t){return this.scheduleRecursiveWithAbsoluteAndState(t,e,r)},e.scheduleRecursiveWithAbsoluteAndState=function(e,t,r){return this._scheduleAbsolute([e,r],t,function(e,t){return n(e,t,"scheduleWithAbsoluteAndState")})}}(Qt.prototype),function(e){Qt.prototype.schedulePeriodic=function(e,t){return this.schedulePeriodicWithState(null,e,t)},Qt.prototype.schedulePeriodicWithState=function(e,t,n){if("undefined"==typeof je.setInterval)throw new Pe;t=Pt(t);var r=e,i=je.setInterval(function(){r=n(r)},t);return Vt(function(){je.clearInterval(i)})}}(Qt.prototype),function(e){e.catchError=e["catch"]=function(e){return new un(this,e)}}(Qt.prototype);var Kt,$t,en=De.internals.SchedulePeriodicRecursive=function(){function e(e,t){t(0,this._period);try{this._state=this._action(this._state)}catch(n){throw this._cancel.dispose(),n}}function t(e,t,n,r){this._scheduler=e,this._state=t,this._period=n,this._action=r}return t.prototype.start=function(){var t=new Xt;return this._cancel=t,t.setDisposable(this._scheduler.scheduleRecursiveWithRelativeAndState(0,this._period,e.bind(this))),t},t}(),tn=Qt.immediate=function(){function e(e,t){return t(this,e)}return new Qt(Ie,e,$e,$e)}(),nn=Qt.currentThread=function(){function e(){for(;n.length>0;){var e=n.dequeue();!e.isCancelled()&&e.invoke()}}function t(t,r){var i=new qt(this,t,r,this.now());if(n)n.enqueue(i);else{n=new Wt(4),n.enqueue(i);var o=w(e)();if(n=null,o===It)return _(o.e)}return i.disposable}var n,r=new Qt(Ie,t,$e,$e);return r.scheduleRequired=function(){return!n},r}(),rn=function(){var e,t=Ae;if(je.setTimeout)e=je.setTimeout,t=je.clearTimeout;else{if(!je.WScript)throw new Pe;e=function(e,t){je.WScript.Sleep(t),e()}}return{setTimeout:e,clearTimeout:t}}(),on=rn.setTimeout,sn=rn.clearTimeout;!function(){function t(e){if(s)on(function(){t(e)},0);else{var n=o[e];if(n){s=!0;var r=w(n)();if($t(e),s=!1,r===It)return _(r.e)}}}function n(){if(!je.postMessage||je.importScripts)return!1;var e=!1,t=je.onmessage;return je.onmessage=function(){e=!0},je.postMessage("","*"),je.onmessage=t,e}function r(e){"string"==typeof e.data&&e.data.substring(0,c.length)===c&&t(e.data.substring(c.length))}var i=1,o={},s=!1;$t=function(e){delete o[e]};var a=RegExp("^"+String(gt).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),u="function"==typeof(u=Ue&&Te&&Ue.setImmediate)&&!a.test(u)&&u;if(Ve(u))Kt=function(e){var n=i++;return o[n]=e,u(function(){t(n)}),n};else if("undefined"!=typeof e&&"[object process]"==={}.toString.call(e))Kt=function(n){var r=i++;return o[r]=n,e.nextTick(function(){t(r)}),r};else if(n()){var c="ms.rx.schedule"+Math.random();je.addEventListener?je.addEventListener("message",r,!1):je.attachEvent?je.attachEvent("onmessage",r):je.onmessage=r,Kt=function(e){var t=i++;return o[t]=e,je.postMessage(c+currentId,"*"),t}}else if(je.MessageChannel){var l=new je.MessageChannel;l.port1.onmessage=function(e){t(e.data)},Kt=function(e){var t=i++;return o[t]=e,l.port2.postMessage(t),t}}else Kt="document"in je&&"onreadystatechange"in je.document.createElement("script")?function(e){var n=je.document.createElement("script"),r=i++;return o[r]=e,n.onreadystatechange=function(){t(r),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},je.document.documentElement.appendChild(n),r}:function(e){var n=i++;return o[n]=e,on(function(){t(n)},0),n}}();var an=Qt.timeout=Qt["default"]=function(){function e(e,t){var n=this,r=new Xt,i=Kt(function(){!r.isDisposed&&r.setDisposable(t(n,e))});return new Zt(r,Vt(function(){$t(i)}))}function t(e,t,n){var r=this,i=Qt.normalize(t),o=new Xt;if(0===i)return r.scheduleWithState(e,n);var s=on(function(){!o.isDisposed&&o.setDisposable(n(r,e))},i);return new Zt(o,Vt(function(){sn(s)}))}function n(e,t,n){return this.scheduleWithRelativeAndState(e,t-this.now(),n)}return new Qt(Ie,e,t,n)}(),un=function(e){function t(e,t){return this._scheduler.scheduleWithState(e,this._wrap(t))}function n(e,t,n){return this._scheduler.scheduleWithRelativeAndState(e,t,this._wrap(n))}function r(e,t,n){return this._scheduler.scheduleWithAbsoluteAndState(e,t,this._wrap(n))}function i(i,o){this._scheduler=i,this._handler=o,this._recursiveOriginal=null,this._recursiveWrapper=null,e.call(this,this._scheduler.now.bind(this._scheduler),t,n,r)}return Dt(i,e),i.prototype._clone=function(e){return new i(e,this._handler)},i.prototype._wrap=function(e){var t=this;return function(n,r){try{return e(t._getRecursiveWrapper(n),r)}catch(i){if(!t._handler(i))throw i;return Gt}}},i.prototype._getRecursiveWrapper=function(e){if(this._recursiveOriginal!==e){this._recursiveOriginal=e;var t=this._clone(e);t._recursiveOriginal=e,t._recursiveWrapper=t,this._recursiveWrapper=t}return this._recursiveWrapper},i.prototype.schedulePeriodicWithState=function(e,t,n){var r=this,i=!1,o=new Xt;return o.setDisposable(this._scheduler.schedulePeriodicWithState(e,t,function(e){if(i)return null;try{return n(e)}catch(t){if(i=!0,!r._handler(t))throw t;return o.dispose(),null}})),o},i}(Qt),cn=De.Notification=function(){function e(e,t,n,r,i,o){this.kind=e,this.value=t,this.exception=n,this._accept=r,this._acceptObservable=i,this.toString=o}return e.prototype.accept=function(e,t,n){return e&&"object"==typeof e?this._acceptObservable(e):this._accept(e,t,n)},e.prototype.toObservable=function(e){var t=this;return Ht(e)||(e=tn),new Zr(function(n){return e.scheduleWithState(t,function(e,t){t._acceptObservable(n),"N"===t.kind&&n.onCompleted()})})},e}(),ln=cn.createOnNext=function(){function e(e){return e(this.value)}function t(e){return e.onNext(this.value)}function n(){return"OnNext("+this.value+")"}return function(r){return new cn("N",r,null,e,t,n)}}(),dn=cn.createOnError=function(){function e(e,t){return t(this.exception)}function t(e){return e.onError(this.exception)}function n(){return"OnError("+this.exception+")"}return function(r){return new cn("E",null,r,e,t,n)}}(),fn=cn.createOnCompleted=function(){function e(e,t,n){return n()}function t(e){return e.onCompleted()}function n(){return"OnCompleted()"}return function(){return new cn("C",null,null,e,t,n)}}(),hn=De.Observer=function(){};hn.prototype.toNotifier=function(){var e=this;return function(t){return t.accept(e)}},hn.prototype.asObserver=function(){return new bn(this.onNext.bind(this),this.onError.bind(this),this.onCompleted.bind(this))},hn.prototype.checked=function(){return new gn(this)};var pn=hn.create=function(e,t,n){return e||(e=Ae),t||(t=Ze),n||(n=Ae),new bn(e,t,n)};hn.fromNotifier=function(e,t){return new bn(function(n){return e.call(t,ln(n))},function(n){return e.call(t,dn(n))},function(){return e.call(t,fn())})},hn.prototype.notifyOn=function(e){return new wn(e,this)},hn.prototype.makeSafe=function(e){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,e)};var mn,vn=De.internals.AbstractObserver=function(e){function t(){this.isStopped=!1,e.call(this)}return Dt(t,e),t.prototype.next=Ke,t.prototype.error=Ke,t.prototype.completed=Ke,t.prototype.onNext=function(e){this.isStopped||this.next(e)},t.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.error(e))},t.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.error(e),!0)},t}(hn),bn=De.AnonymousObserver=function(e){function t(t,n,r){e.call(this),this._onNext=t,this._onError=n,this._onCompleted=r}return Dt(t,e),t.prototype.next=function(e){this._onNext(e)},t.prototype.error=function(e){this._onError(e)},t.prototype.completed=function(){this._onCompleted()},t}(vn),gn=function(e){function t(t){e.call(this),this._observer=t,this._state=0}Dt(t,e);var n=t.prototype;return n.onNext=function(e){this.checkAccess();var t=w(this._observer.onNext).call(this._observer,e);this._state=0,t===It&&_(t.e)},n.onError=function(e){this.checkAccess();var t=w(this._observer.onError).call(this._observer,e);this._state=2,t===It&&_(t.e)},n.onCompleted=function(){this.checkAccess();var e=w(this._observer.onCompleted).call(this._observer);this._state=2,e===It&&_(e.e)},n.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},t}(hn),yn=De.internals.ScheduledObserver=function(e){function t(t,n){e.call(this),this.scheduler=t,this.observer=n,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new Yt}return Dt(t,e),t.prototype.next=function(e){var t=this;this.queue.push(function(){t.observer.onNext(e)})},t.prototype.error=function(e){var t=this;this.queue.push(function(){t.observer.onError(e)})},t.prototype.completed=function(){var e=this;this.queue.push(function(){e.observer.onCompleted()})},t.prototype.ensureActive=function(){var e=!1,t=this;!this.hasFaulted&&this.queue.length>0&&(e=!this.isAcquired,this.isAcquired=!0),e&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(function(e){var n;if(!(t.queue.length>0))return void(t.isAcquired=!1);n=t.queue.shift();try{n()}catch(r){throw t.queue=[],t.hasFaulted=!0,r}e()}))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposable.dispose()},t}(vn),wn=function(e){function t(t,n,r){e.call(this,t,n),this._cancel=r}return Dt(t,e),t.prototype.next=function(t){e.prototype.next.call(this,t),this.ensureActive()},t.prototype.error=function(t){e.prototype.error.call(this,t),this.ensureActive()},t.prototype.completed=function(){e.prototype.completed.call(this),this.ensureActive()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._cancel&&this._cancel.dispose(),this._cancel=null},t}(yn),_n=De.Observable=function(){function e(e){if(De.config.longStackSupport&&Ge){try{throw new Error}catch(t){this.stack=t.stack.substring(t.stack.indexOf("\n")+1)}var n=this;this._subscribe=function(t){var r=t.onError.bind(t);return t.onError=function(e){a(e,n),r(e)},e.call(n,t)}}else this._subscribe=e}return mn=e.prototype,mn.subscribe=mn.forEach=function(e,t,n){return this._subscribe("object"==typeof e?e:pn(e,t,n))},mn.subscribeOnNext=function(e,t){return this._subscribe(pn("undefined"!=typeof t?function(n){e.call(t,n)}:e))},mn.subscribeOnError=function(e,t){return this._subscribe(pn(null,"undefined"!=typeof t?function(n){e.call(t,n)}:e))},mn.subscribeOnCompleted=function(e,t){return this._subscribe(pn(null,null,"undefined"!=typeof t?function(){e.call(t)}:e))},e}(),xn=De.ObservableBase=function(e){function t(e){return e&&Ve(e.dispose)?e:Ve(e)?Vt(e):Gt}function n(e,n){var r=n[0],i=n[1],o=w(i.subscribeCore).call(i,r);return o!==It||r.fail(It.e)?void r.setDisposable(t(o)):_(It.e)}function r(e){var t=new Br(e),r=[t,this];return nn.scheduleRequired()?nn.scheduleWithState(r,n):n(null,r),t}function i(){e.call(this,r)}return Dt(i,e),i.prototype.subscribeCore=Ke,i}(_n),kn=De.internals.Enumerable=function(){},Sn=function(e){function t(t){this.sources=t,e.call(this)}function n(e,t,n){this.o=e,this.s=t,this.e=n,this.isStopped=!1}return Dt(t,e),t.prototype.subscribeCore=function(e){var t,r=new Yt,i=tn.scheduleRecursiveWithState(this.sources[et](),function(i,o){if(!t){var s=w(i.next).call(i);if(s===It)return e.onError(s.e);if(s.done)return e.onCompleted();var a=s.value;Be(a)&&(a=Un(a));var u=new Xt;r.setDisposable(u),u.setDisposable(a.subscribe(new n(e,o,i)))}});return new Zt(r,i,Vt(function(){t=!0}))},n.prototype.onNext=function(e){this.isStopped||this.o.onNext(e)},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.s(this.e))},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(xn);kn.prototype.concat=function(){return new Sn(this)};var Cn=function(e){function t(t){this.sources=t,e.call(this)}return Dt(t,e),t.prototype.subscribeCore=function(e){var t,n=this.sources[et](),r=new Yt,i=tn.scheduleRecursiveWithState(null,function(i,o){if(!t){var s=w(n.next).call(n);if(s===It)return e.onError(s.e);if(s.done)return null!==i?e.onError(i):e.onCompleted();var a=s.value;Be(a)&&(a=Un(a));var u=new Xt;r.setDisposable(u),u.setDisposable(a.subscribe(function(t){e.onNext(t)},o,function(){e.onCompleted()}))}});return new Zt(r,i,Vt(function(){t=!0}))},t}(xn);kn.prototype.catchError=function(){return new Cn(this)},kn.prototype.catchErrorWhen=function(e){var t=this;return new Zr(function(n){var r,i,o=new Vr,s=new Vr,a=e(o),u=a.subscribe(s),c=t[et](),l=new Yt,d=tn.scheduleRecursive(function(e){if(!r){var t=w(c.next).call(c);if(t===It)return n.onError(t.e);if(t.done)return void(i?n.onError(i):n.onCompleted());var a=t.value;Be(a)&&(a=Un(a));var u=new Xt,d=new Xt;l.setDisposable(new Zt(d,u)),u.setDisposable(a.subscribe(function(e){n.onNext(e)},function(t){d.setDisposable(s.subscribe(e,function(e){n.onError(e)},function(){n.onCompleted()})),o.onNext(t)},function(){n.onCompleted()}))}});return new Zt(u,l,d,Vt(function(){r=!0}))})};var En=function(e){function t(e,t){this.v=e,this.c=null==t?-1:t}function n(e){this.v=e.v,this.l=e.c}return Dt(t,e),t.prototype[et]=function(){return new n(this)},n.prototype.next=function(){return 0===this.l?tt:(this.l>0&&this.l--,{done:!1,value:this.v})},t}(kn),jn=kn.repeat=function(e,t){return new En(e,t)},Nn=function(e){function t(e,t,n){this.s=e,this.fn=t?ot(t,n,3):null}function n(e){this.i=-1,this.s=e.s,this.l=this.s.length,this.fn=e.fn}return Dt(t,e),t.prototype[et]=function(){return new n(this)},n.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:tt},t}(kn),Rn=kn.of=function(e,t,n){return new Nn(e,t,n)};mn.observeOn=function(e){var t=this;return new Zr(function(n){return t.subscribe(new wn(e,n))},t)},mn.subscribeOn=function(e){var t=this;return new Zr(function(n){var r=new Xt,i=new Yt;return i.setDisposable(r),r.setDisposable(e.schedule(function(){i.setDisposable(new k(e,t.subscribe(n)))})),i},t)};var Tn=function(e){function t(t){this.p=t,e.call(this)}return Dt(t,e),t.prototype.subscribeCore=function(e){return this.p.then(function(t){e.onNext(t),e.onCompleted()},function(t){e.onError(t)}),Gt},t}(xn),Un=_n.fromPromise=function(e){return new Tn(e)};mn.toPromise=function(e){if(e||(e=De.config.Promise),!e)throw new Pe("Promise type not provided nor in Rx.config.Promise");var t=this;return new e(function(e,n){var r,i=!1;t.subscribe(function(e){r=e,i=!0},n,function(){i&&e(r)})})};var Dn=function(e){function t(t){this.source=t,e.call(this)}function n(e){this.o=e,this.a=[],this.isStopped=!1}return Dt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e))},n.prototype.onNext=function(e){this.isStopped||this.a.push(e)},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onNext(this.a),this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(xn);mn.toArray=function(){return new Dn(this)},_n.create=_n.createWithDisposable=function(e,t){return new Zr(e,t)};var An=_n.defer=function(e){return new Zr(function(t){var n;try{n=e()}catch(r){return Pn(r).subscribe(t)}return Be(n)&&(n=Un(n)),n.subscribe(t)})},On=function(e){function t(t){this.scheduler=t,e.call(this)}function n(e,t){this.observer=e,this.parent=t}function r(e,t){t.onCompleted()}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new n(e,this);return t.run()},n.prototype.run=function(){return this.parent.scheduler.scheduleWithState(this.observer,r)},t}(xn),In=_n.empty=function(e){return Ht(e)||(e=tn),new On(e)},Wn=function(e){function t(t,n,r){this.iterable=t,this.mapper=n,this.scheduler=r,e.call(this)}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new Mn(e,this);return t.run()},t}(xn),Mn=function(){function e(e,t){this.observer=e,this.parent=t}return e.prototype.run=function(){function e(e,t){try{var o=n.next()}catch(s){return r.onError(s)}if(o.done)return r.onCompleted();var a=o.value;if(i)try{a=i(a,e)}catch(s){return r.onError(s)}r.onNext(a),t(e+1)}var t=Object(this.parent.iterable),n=T(t),r=this.observer,i=this.parent.mapper;return this.parent.scheduler.scheduleRecursiveWithState(0,e)},e}(),Zn=Math.pow(2,53)-1;C.prototype[et]=function(){return new E(this._s)},E.prototype[et]=function(){return this},E.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:tt},j.prototype[et]=function(){return new N(this._a)},N.prototype[et]=function(){return this},N.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:tt};var Bn=_n.from=function(e,t,n,r){if(null==e)throw new Error("iterable cannot be null.");if(t&&!Ve(t))throw new Error("mapFn when provided must be a function");if(t)var i=ot(t,n,2);return Ht(r)||(r=nn),new Wn(e,i,r)},Ln=function(e){function t(t,n){this.args=t,this.scheduler=n,e.call(this)}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new A(e,this);return t.run()},t}(xn);A.prototype.run=function(){function e(e,i){r>e?(t.onNext(n[e]),i(e+1)):t.onCompleted()}var t=this.observer,n=this.parent.args,r=n.length;return this.parent.scheduler.scheduleRecursiveWithState(0,e)};var Vn=_n.fromArray=function(e,t){return Ht(t)||(t=nn),new Ln(e,t)};_n.generate=function(e,t,n,r,i){return Ht(i)||(i=nn),new Zr(function(o){var s=!0;return i.scheduleRecursiveWithState(e,function(e,i){var a,u;try{s?s=!1:e=n(e),a=t(e),a&&(u=r(e))}catch(c){return o.onError(c)}a?(o.onNext(u),i(e)):o.onCompleted()})})},_n.of=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];return new Ln(t,nn)},_n.ofWithScheduler=function(e){for(var t=arguments.length,n=new Array(t-1),r=1;t>r;r++)n[r-1]=arguments[r];return new Ln(n,e)},_n.ofArrayChanges=function(e){if(!Array.isArray(e))throw new TypeError("Array.observe only accepts arrays.");if("function"!=typeof Array.observe&&"function"!=typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new Zr(function(t){function n(e){for(var n=0,r=e.length;r>n;n++)t.onNext(e[n])}return Array.observe(e,n),function(){Array.unobserve(e,n)}})},_n.ofObjectChanges=function(e){if(null==e)throw new TypeError("object must not be null or undefined.");if("function"!=typeof Object.observe&&"function"!=typeof Object.unobserve)throw new TypeError("Object.observe is not supported on your platform");return new Zr(function(t){function n(e){for(var n=0,r=e.length;r>n;n++)t.onNext(e[n])}return Object.observe(e,n),function(){Object.unobserve(e,n)}})};var Gn=function(e){function t(){e.call(this)}return Dt(t,e),t.prototype.subscribeCore=function(e){return Gt},t}(xn),zn=_n.never=function(){return new Gn},Fn=function(e){function t(t,n){this.obj=t,this.keys=Object.keys(t),this.scheduler=n,e.call(this)}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new I(e,this);return t.run()},t}(xn);I.prototype.run=function(){function e(e,o){if(i>e){var s=r[e];t.onNext([s,n[s]]),o(e+1)}else t.onCompleted()}var t=this.observer,n=this.parent.obj,r=this.parent.keys,i=r.length;return this.parent.scheduler.scheduleRecursiveWithState(0,e)},_n.pairs=function(e,t){return t||(t=nn),new Fn(e,t)};var Xn=function(e){function t(t,n,r){this.start=t,this.rangeCount=n,this.scheduler=r,e.call(this)}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new Yn(e,this);return t.run()},t}(xn),Yn=function(){function e(e,t){this.observer=e,this.parent=t}return e.prototype.run=function(){function e(e,i){n>e?(r.onNext(t+e),i(e+1)):r.onCompleted()}var t=this.parent.start,n=this.parent.rangeCount,r=this.observer;return this.parent.scheduler.scheduleRecursiveWithState(0,e)},e}();_n.range=function(e,t,n){return Ht(n)||(n=nn),new Xn(e,t,n)};var Jn=function(e){function t(t,n,r){this.value=t,this.repeatCount=null==n?-1:n,this.scheduler=r,e.call(this)}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new W(e,this);return t.run()},t}(xn);W.prototype.run=function(){function e(e,r){return(-1===e||e>0)&&(t.onNext(n),e>0&&e--),0===e?t.onCompleted():void r(e)}var t=this.observer,n=this.parent.value;return this.parent.scheduler.scheduleRecursiveWithState(this.parent.repeatCount,e)},_n.repeat=function(e,t,n){return Ht(n)||(n=nn),new Jn(e,t,n)};var qn=function(e){function t(t,n){this.value=t,this.scheduler=n,e.call(this)}function n(e,t){this.observer=e,this.parent=t}function r(e,t){var n=t[0],r=t[1];r.onNext(n),r.onCompleted()}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new n(e,this);return t.run()},n.prototype.run=function(){return this.parent.scheduler.scheduleWithState([this.parent.value,this.observer],r)},t}(xn),Qn=(_n["return"]=_n.just=_n.returnValue=function(e,t){return Ht(t)||(t=tn),new qn(e,t)},function(e){function t(t,n){this.error=t,this.scheduler=n,e.call(this)}function n(e,t){this.o=e,this.p=t}function r(e,t){var n=t[0],r=t[1];r.onError(n)}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new n(e,this);return t.run()},n.prototype.run=function(){return this.p.scheduler.scheduleWithState([this.p.error,this.o],r)},t}(xn)),Pn=_n["throw"]=_n.throwError=_n.throwException=function(e,t){return Ht(t)||(t=tn),new Qn(e,t)};_n.using=function(e,t){return new Zr(function(n){var r,i,o=Gt;try{r=e(),r&&(o=r),i=t(r)}catch(s){return new Zt(Pn(s).subscribe(n),o)}return new Zt(i.subscribe(n),o)})},mn.amb=function(e){var t=this;return new Zr(function(n){function r(){o||(o=s,c.dispose())}function i(){o||(o=a,u.dispose())}var o,s="L",a="R",u=new Xt,c=new Xt;return Be(e)&&(e=Un(e)),u.setDisposable(t.subscribe(function(e){r(),o===s&&n.onNext(e)},function(e){r(),o===s&&n.onError(e)},function(){r(),o===s&&n.onCompleted()})),c.setDisposable(e.subscribe(function(e){i(),o===a&&n.onNext(e)},function(e){i(),o===a&&n.onError(e)},function(){i(),o===a&&n.onCompleted()})),new Zt(u,c)})},_n.amb=function(){function e(e,t){return e.amb(t)}var t=zn(),n=[];if(Array.isArray(arguments[0]))n=arguments[0];else for(var r=0,i=arguments.length;i>r;r++)n.push(arguments[r]);for(var r=0,i=n.length;i>r;r++)t=e(t,n[r]);return t},mn["catch"]=mn.catchError=mn.catchException=function(e){return"function"==typeof e?M(this,e):Hn([this,e])};var Hn=_n.catchError=_n["catch"]=_n.catchException=function(){var e=[];if(Array.isArray(arguments[0]))e=arguments[0];else for(var t=0,n=arguments.length;n>t;t++)e.push(arguments[t]);return Rn(e).catchError()};mn.combineLatest=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];return Array.isArray(t[0])?t[0].unshift(this):t.unshift(this),Kn.apply(this,t)};var Kn=_n.combineLatest=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=t.pop();return Array.isArray(t[0])&&(t=t[0]),new Zr(function(e){function n(t){if(a[t]=!0,u||(u=a.every(Oe))){try{var n=r.apply(null,l)}catch(i){return e.onError(i)}e.onNext(n)}else c.filter(function(e,n){return n!==t}).every(Oe)&&e.onCompleted()}function i(t){c[t]=!0,c.every(Oe)&&e.onCompleted()}for(var o=t.length,s=function(){return!1},a=g(o,s),u=!1,c=g(o,s),l=new Array(o),d=new Array(o),f=0;o>f;f++)!function(r){var o=t[r],s=new Xt;Be(o)&&(o=Un(o)),s.setDisposable(o.subscribe(function(e){l[r]=e,n(r)},function(t){e.onError(t)},function(){i(r)})),d[r]=s}(f);return new Zt(d)},this)};mn.concat=function(){for(var e=[],t=0,n=arguments.length;n>t;t++)e.push(arguments[t]);return e.unshift(this),er.apply(null,e)};var $n=function(e){function t(t){this.sources=t,e.call(this)}function n(e,t){this.sources=e,this.o=t}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new n(this.sources,e);return t.run()},n.prototype.run=function(){var e,t=new Yt,n=this.sources,r=n.length,i=this.o,o=tn.scheduleRecursiveWithState(0,function(o,s){if(!e){if(o===r)return i.onCompleted();var a=n[o];Be(a)&&(a=Un(a));var u=new Xt;t.setDisposable(u),u.setDisposable(a.subscribe(function(e){i.onNext(e)},function(e){i.onError(e)},function(){s(o+1)}))}});return new Zt(t,o,Vt(function(){e=!0}))},t}(xn),er=_n.concat=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{e=new Array(arguments.length);for(var t=0,n=arguments.length;n>t;t++)e[t]=arguments[t]}return new $n(e)};mn.concatAll=mn.concatObservable=function(){return this.merge(1)};var tr=function(e){function t(t,n){this.source=t,this.maxConcurrent=n,e.call(this)}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new Zt;return t.add(this.source.subscribe(new nr(e,this.maxConcurrent,t))),t},t}(xn),nr=function(){function e(e,t,n){this.o=e,this.max=t,this.g=n,this.done=!1,this.q=[],this.activeCount=0,this.isStopped=!1}function t(e,t){this.parent=e,this.sad=t,this.isStopped=!1}return e.prototype.handleSubscribe=function(e){var n=new Xt;this.g.add(n),Be(e)&&(e=Un(e)),n.setDisposable(e.subscribe(new t(this,n)))},e.prototype.onNext=function(e){this.isStopped||(this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(e)):this.q.push(e))},e.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.done=!0,0===this.activeCount&&this.o.onCompleted())},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t.prototype.onNext=function(e){this.isStopped||this.parent.o.onNext(e)},t.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.parent.o.onError(e))},t.prototype.onCompleted=function(){if(!this.isStopped){this.isStopped=!0;var e=this.parent;e.g.remove(this.sad),e.q.length>0?e.handleSubscribe(e.q.shift()):(e.activeCount--,e.done&&0===e.activeCount&&e.o.onCompleted())}},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(e),!0)},e}();mn.merge=function(e){return"number"!=typeof e?rr(this,e):new tr(this,e)};var rr=_n.merge=function(){var e,t,n=[],r=arguments.length;if(arguments[0])if(Ht(arguments[0]))for(e=arguments[0],t=1;r>t;t++)n.push(arguments[t]);else for(e=tn,t=0;r>t;t++)n.push(arguments[t]);else for(e=tn,t=1;r>t;t++)n.push(arguments[t]);return Array.isArray(n[0])&&(n=n[0]),O(e,n).mergeAll()},ir=function(e){function t(t){this.source=t,e.call(this)}function n(e,t){this.o=e,this.g=t,this.isStopped=!1,this.done=!1}function r(e,t,n){this.parent=e,this.g=t,this.sad=n,this.isStopped=!1}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new Zt,r=new Xt;return t.add(r),r.setDisposable(this.source.subscribe(new n(e,t))),t},n.prototype.onNext=function(e){if(!this.isStopped){var t=new Xt;this.g.add(t),Be(e)&&(e=Un(e)),t.setDisposable(e.subscribe(new r(this,this.g,t)))}},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.done=!0,1===this.g.length&&this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},r.prototype.onNext=function(e){this.isStopped||this.parent.o.onNext(e)},r.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.parent.o.onError(e))},r.prototype.onCompleted=function(){if(!this.isStopped){var e=this.parent;this.isStopped=!0,e.g.remove(this.sad),e.done&&1===e.g.length&&e.o.onCompleted()}},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(e),!0)},t}(xn);mn.mergeAll=mn.mergeObservable=function(){return new ir(this)};var or=De.CompositeError=function(e){this.name="NotImplementedError",this.innerErrors=e,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};or.prototype=Error.prototype,_n.mergeDelayError=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{var t=arguments.length;e=new Array(t);for(var n=0;t>n;n++)e[n]=arguments[n]}var r=O(null,e);return new Zr(function(e){function t(){0===s.length?e.onCompleted():e.onError(1===s.length?s[0]:new or(s))}var n=new Zt,i=new Xt,o=!1,s=[];return n.add(i),i.setDisposable(r.subscribe(function(r){var i=new Xt;n.add(i),Be(r)&&(r=Un(r)),i.setDisposable(r.subscribe(function(t){e.onNext(t)},function(e){s.push(e),n.remove(i),o&&1===n.length&&t()},function(){n.remove(i),o&&1===n.length&&t()}))},function(e){s.push(e),o=!0,1===n.length&&t()},function(){o=!0,1===n.length&&t()})),n})},mn.onErrorResumeNext=function(e){if(!e)throw new Error("Second observable is required");return sr([this,e])};var sr=_n.onErrorResumeNext=function(){var e=[];if(Array.isArray(arguments[0]))e=arguments[0];else for(var t=0,n=arguments.length;n>t;t++)e.push(arguments[t]);return new Zr(function(t){var n=0,r=new Yt,i=tn.scheduleRecursive(function(i){var o,s;n<e.length?(o=e[n++],Be(o)&&(o=Un(o)),s=new Xt,r.setDisposable(s),s.setDisposable(o.subscribe(t.onNext.bind(t),i,i))):t.onCompleted()});return new Zt(r,i)})};mn.skipUntil=function(e){var t=this;return new Zr(function(n){var r=!1,i=new Zt(t.subscribe(function(e){r&&n.onNext(e)},function(e){n.onError(e)},function(){r&&n.onCompleted()}));Be(e)&&(e=Un(e));var o=new Xt;return i.add(o),o.setDisposable(e.subscribe(function(){r=!0,o.dispose()},function(e){n.onError(e)},function(){o.dispose()})),i},t)};var ar=function(e){function t(t){this.source=t,e.call(this)}function n(e,t){this.o=e,this.inner=t,this.stopped=!1,this.latest=0,this.hasLatest=!1,this.isStopped=!1}function r(e,t){this.parent=e,this.id=t,this.isStopped=!1}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new Yt,r=this.source.subscribe(new n(e,t));return new Zt(r,t)},n.prototype.onNext=function(e){if(!this.isStopped){var t=new Xt,n=++this.latest;this.hasLatest=!0,this.inner.setDisposable(t),Be(e)&&(e=Un(e)),t.setDisposable(e.subscribe(new r(this,n)))}},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.stopped=!0,!this.hasLatest&&this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},r.prototype.onNext=function(e){this.isStopped||this.parent.latest===this.id&&this.parent.o.onNext(e)},r.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.parent.latest===this.id&&this.parent.o.onError(e))},r.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.isStopped&&this.parent.o.onCompleted()))},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(e),!0)},t}(xn);mn["switch"]=mn.switchLatest=function(){return new ar(this)};var ur=function(e){function t(t,n){this.source=t,this.other=Be(n)?Un(n):n,e.call(this)}function n(e){this.o=e,this.isStopped=!1}return Dt(t,e),t.prototype.subscribeCore=function(e){return new Zt(this.source.subscribe(e),this.other.subscribe(new n(e)))},n.prototype.onNext=function(e){this.isStopped||this.o.onCompleted()},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){!this.isStopped&&(this.isStopped=!0)},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),
!0)},t}(xn);mn.takeUntil=function(e){return new ur(this,e)},mn.withLatestFrom=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=t.pop(),i=this;return Array.isArray(t[0])&&(t=t[0]),new Zr(function(e){for(var n=t.length,o=g(n,Z),s=!1,a=new Array(n),u=new Array(n+1),c=0;n>c;c++)!function(n){var r=t[n],i=new Xt;Be(r)&&(r=Un(r)),i.setDisposable(r.subscribe(function(e){a[n]=e,o[n]=!0,s=o.every(Oe)},function(t){e.onError(t)},Ae)),u[n]=i}(c);var l=new Xt;return l.setDisposable(i.subscribe(function(t){var n=[t].concat(a);if(s){var i=w(r).apply(null,n);return i===It?e.onError(i.e):void e.onNext(i)}},function(t){e.onError(t)},function(){e.onCompleted()})),u[n]=l,new Zt(u)},this)},mn.zip=function(){if(Array.isArray(arguments[0]))return B.apply(this,arguments);for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=this,i=t.pop();return t.unshift(r),new Zr(function(e){for(var n=t.length,o=g(n,L),s=g(n,Z),a=new Array(n),u=0;n>u;u++)!function(n){var u=t[n],c=new Xt;Be(u)&&(u=Un(u)),c.setDisposable(u.subscribe(function(t){if(o[n].push(t),o.every(function(e){return e.length>0})){var a=o.map(function(e){return e.shift()}),u=w(i).apply(r,a);if(u===It)return e.onError(u.e);e.onNext(u)}else s.filter(function(e,t){return t!==n}).every(Oe)&&e.onCompleted()},function(t){e.onError(t)},function(){s[n]=!0,s.every(Oe)&&e.onCompleted()})),a[n]=c}(u);return new Zt(a)},r)},_n.zip=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=t.shift();return r.zip.apply(r,t)},_n.zipArray=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{var t=arguments.length;e=new Array(t);for(var n=0;t>n;n++)e[n]=arguments[n]}return new Zr(function(t){for(var n=e.length,r=g(n,V),i=g(n,Z),o=new Array(n),s=0;n>s;s++)!function(n){o[n]=new Xt,o[n].setDisposable(e[n].subscribe(function(e){if(r[n].push(e),r.every(function(e){return e.length>0})){var o=r.map(function(e){return e.shift()});t.onNext(o)}else if(i.filter(function(e,t){return t!==n}).every(Oe))return t.onCompleted()},function(e){t.onError(e)},function(){i[n]=!0,i.every(Oe)&&t.onCompleted()}))}(s);return new Zt(o)})},mn.asObservable=function(){var e=this;return new Zr(function(t){return e.subscribe(t)},e)},mn.bufferWithCount=function(e,t){return"number"!=typeof t&&(t=e),this.windowWithCount(e,t).selectMany(function(e){return e.toArray()}).where(function(e){return e.length>0})},mn.dematerialize=function(){var e=this;return new Zr(function(t){return e.subscribe(function(e){return e.accept(t)},function(e){t.onError(e)},function(){t.onCompleted()})},this)},mn.distinctUntilChanged=function(e,t){var n=this;return t||(t=We),new Zr(function(r){var i,o=!1;return n.subscribe(function(n){var s=n;if(e&&(s=w(e)(n),s===It))return r.onError(s.e);if(o){var a=w(t)(i,s);if(a===It)return r.onError(a.e)}o&&a||(o=!0,i=s,r.onNext(n))},function(e){r.onError(e)},function(){r.onCompleted()})},this)};var cr=function(e){function t(t,n,r,i){this.source=t,this.t=!n||Ve(n)?pn(n||Ae,r||Ae,i||Ae):n,e.call(this)}function n(e,t){this.o=e,this.t=t,this.isStopped=!1}return Dt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this.t))},n.prototype.onNext=function(e){if(!this.isStopped){var t=w(this.t.onNext).call(this.t,e);t===It&&this.o.onError(t.e),this.o.onNext(e)}},n.prototype.onError=function(e){if(!this.isStopped){this.isStopped=!0;var t=w(this.t.onError).call(this.t,e);if(t===It)return this.o.onError(t.e);this.o.onError(e)}},n.prototype.onCompleted=function(){if(!this.isStopped){this.isStopped=!0;var e=w(this.t.onCompleted).call(this.t);if(e===It)return this.o.onError(e.e);this.o.onCompleted()}},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(xn);mn["do"]=mn.tap=mn.doAction=function(e,t,n){return new cr(this,e,t,n)},mn.doOnNext=mn.tapOnNext=function(e,t){return this.tap("undefined"!=typeof t?function(n){e.call(t,n)}:e)},mn.doOnError=mn.tapOnError=function(e,t){return this.tap(Ae,"undefined"!=typeof t?function(n){e.call(t,n)}:e)},mn.doOnCompleted=mn.tapOnCompleted=function(e,t){return this.tap(Ae,null,"undefined"!=typeof t?function(){e.call(t)}:e)},mn["finally"]=mn.ensure=function(e){var t=this;return new Zr(function(n){var r;try{r=t.subscribe(n)}catch(i){throw e(),i}return Vt(function(){try{r.dispose()}catch(t){throw t}finally{e()}})},this)},mn.finallyAction=function(e){return this.ensure(e)};var lr=function(e){function t(t){this.source=t,e.call(this)}function n(e){this.o=e,this.isStopped=!1}return Dt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e))},n.prototype.onNext=Ae,n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(e),!0)},t}(xn);mn.ignoreElements=function(){return new lr(this)},mn.materialize=function(){var e=this;return new Zr(function(t){return e.subscribe(function(e){t.onNext(ln(e))},function(e){t.onNext(dn(e)),t.onCompleted()},function(){t.onNext(fn()),t.onCompleted()})},e)},mn.repeat=function(e){return jn(this,e).concat()},mn.retry=function(e){return jn(this,e).catchError()},mn.retryWhen=function(e){return jn(this).catchErrorWhen(e)};var dr=function(e){function t(t,n,r,i){this.source=t,this.accumulator=n,this.hasSeed=r,this.seed=i,e.call(this)}return Dt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new G(e,this))},t}(xn);G.prototype.onNext=function(e){if(!this.isStopped){!this.hasValue&&(this.hasValue=!0);try{this.hasAccumulation?this.accumulation=this.accumulator(this.accumulation,e):(this.accumulation=this.hasSeed?this.accumulator(this.seed,e):e,this.hasAccumulation=!0)}catch(t){return this.observer.onError(t)}this.observer.onNext(this.accumulation)}},G.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.observer.onError(e))},G.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,!this.hasValue&&this.hasSeed&&this.observer.onNext(this.seed),this.observer.onCompleted())},G.prototype.dispose=function(){this.isStopped=!0},G.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(e),!0)},mn.scan=function(){var e,t,n=!1;return 2===arguments.length?(n=!0,e=arguments[0],t=arguments[1]):t=arguments[0],new dr(this,t,n,e)},mn.skipLast=function(e){if(0>e)throw new Qe;var t=this;return new Zr(function(n){var r=[];return t.subscribe(function(t){r.push(t),r.length>e&&n.onNext(r.shift())},function(e){n.onError(e)},function(){n.onCompleted()})},t)},mn.startWith=function(){var e,t=0;arguments.length&&Ht(arguments[0])?(e=arguments[0],t=1):e=tn;for(var n=[],r=t,i=arguments.length;i>r;r++)n.push(arguments[r]);return Rn([Vn(n,e),this]).concat()},mn.takeLast=function(e){if(0>e)throw new Qe;var t=this;return new Zr(function(n){var r=[];return t.subscribe(function(t){r.push(t),r.length>e&&r.shift()},function(e){n.onError(e)},function(){for(;r.length>0;)n.onNext(r.shift());n.onCompleted()})},t)},mn.takeLastBuffer=function(e){var t=this;return new Zr(function(n){var r=[];return t.subscribe(function(t){r.push(t),r.length>e&&r.shift()},function(e){n.onError(e)},function(){n.onNext(r),n.onCompleted()})},t)},mn.windowWithCount=function(e,t){var n=this;if(+e||(e=0),Math.abs(e)===1/0&&(e=0),0>=e)throw new Qe;if(null==t&&(t=e),+t||(t=0),Math.abs(t)===1/0&&(t=0),0>=t)throw new Qe;return new Zr(function(r){function i(){var e=new Vr;u.push(e),r.onNext(Ot(e,s))}var o=new Xt,s=new Jt(o),a=0,u=[];return i(),o.setDisposable(n.subscribe(function(n){for(var r=0,o=u.length;o>r;r++)u[r].onNext(n);var s=a-e+1;s>=0&&s%t===0&&u.shift().onCompleted(),++a%t===0&&i()},function(e){for(;u.length>0;)u.shift().onError(e);r.onError(e)},function(){for(;u.length>0;)u.shift().onCompleted();r.onCompleted()})),s},n)},mn.selectConcat=mn.concatMap=function(e,t,n){return Ve(e)&&Ve(t)?this.concatMap(function(n,r){var i=e(n,r);return Be(i)&&(i=Un(i)),(rt(i)||nt(i))&&(i=Bn(i)),i.map(function(e,i){return t(n,e,r,i)})}):Ve(e)?z(this,e,n):z(this,function(){return e})},mn.concatMapObserver=mn.selectConcatObserver=function(e,t,n,r){var i=this,o=ot(e,r,2),s=ot(t,r,1),a=ot(n,r,0);return new Zr(function(e){var t=0;return i.subscribe(function(n){var r;try{r=o(n,t++)}catch(i){return void e.onError(i)}Be(r)&&(r=Un(r)),e.onNext(r)},function(t){var n;try{n=s(t)}catch(r){return void e.onError(r)}Be(n)&&(n=Un(n)),e.onNext(n),e.onCompleted()},function(){var t;try{t=a()}catch(n){return void e.onError(n)}Be(t)&&(t=Un(t)),e.onNext(t),e.onCompleted()})},this).concatAll()},mn.defaultIfEmpty=function(e){var t=this;return e===i&&(e=null),new Zr(function(n){var r=!1;return t.subscribe(function(e){r=!0,n.onNext(e)},function(e){n.onError(e)},function(){!r&&n.onNext(e),n.onCompleted()})},t)},X.prototype.push=function(e){var t=-1===F(this.set,e,this.comparer);return t&&this.set.push(e),t},mn.distinct=function(e,t){var n=this;return t||(t=We),new Zr(function(r){var i=new X(t);return n.subscribe(function(t){var n=t;if(e)try{n=e(t)}catch(o){return void r.onError(o)}i.push(n)&&r.onNext(t)},function(e){r.onError(e)},function(){r.onCompleted()})},this)},mn.groupBy=function(e,t,n){return this.groupByUntil(e,t,zn,n)},mn.groupByUntil=function(e,t,n,r){var i=this;return t||(t=Oe),r||(r=We),new Zr(function(o){function s(e){return function(t){t.onError(e)}}var a=new Ur(0,r),u=new Zt,c=new Jt(u);return u.add(i.subscribe(function(r){var i;try{i=e(r)}catch(l){return a.getValues().forEach(s(l)),void o.onError(l)}var d=!1,f=a.tryGetValue(i);if(f||(f=new Vr,a.set(i,f),d=!0),d){var h=new Lr(i,f,c),p=new Lr(i,f);try{duration=n(p)}catch(l){return a.getValues().forEach(s(l)),void o.onError(l)}o.onNext(h);var m=new Xt;u.add(m);var v=function(){a.remove(i)&&f.onCompleted(),u.remove(m)};m.setDisposable(duration.take(1).subscribe(Ae,function(e){a.getValues().forEach(s(e)),o.onError(e)},v))}var b;try{b=t(r)}catch(l){return a.getValues().forEach(s(l)),void o.onError(l)}f.onNext(b)},function(e){a.getValues().forEach(s(e)),o.onError(e)},function(){a.getValues().forEach(function(e){e.onCompleted()}),o.onCompleted()})),c},i)};var fr=function(e){function t(t,n,r){this.source=t,this.selector=ot(n,r,3),e.call(this)}function n(e,t){return function(n,r,i){return e.call(this,t.selector(n,r,i),r,i)}}function r(e,t,n){this.o=e,this.selector=t,this.source=n,this.i=0,this.isStopped=!1}return Dt(t,e),t.prototype.internalMap=function(e,r){return new t(this.source,n(e,this),r)},t.prototype.subscribeCore=function(e){return this.source.subscribe(new r(e,this.selector,this))},r.prototype.onNext=function(e){if(!this.isStopped){var t=w(this.selector)(e,this.i++,this.source);return t===It?this.o.onError(t.e):void this.o.onNext(t)}},r.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},r.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(xn);mn.map=mn.select=function(e,t){var n="function"==typeof e?e:function(){return e};return this instanceof fr?this.internalMap(n,t):new fr(this,n,t)},mn.pluck=function(){var e=arguments,t=arguments.length;if(0===t)throw new Error("List of properties cannot be empty.");return this.map(function(n){for(var r=n,o=0;t>o;o++){var s=r[e[o]];if("undefined"==typeof s)return i;r=s}return r})},mn.selectMany=mn.flatMap=function(e,t,n){return Ve(e)&&Ve(t)?this.flatMap(function(n,r){var i=e(n,r);return Be(i)&&(i=Un(i)),(rt(i)||nt(i))&&(i=Bn(i)),i.map(function(e,i){return t(n,e,r,i)})},n):Ve(e)?Y(this,e,n):Y(this,function(){return e})},mn.flatMapObserver=mn.selectManyObserver=function(e,t,n,r){var i=this;return new Zr(function(o){var s=0;return i.subscribe(function(t){var n;try{n=e.call(r,t,s++)}catch(i){return void o.onError(i)}Be(n)&&(n=Un(n)),o.onNext(n)},function(e){var n;try{n=t.call(r,e)}catch(i){return void o.onError(i)}Be(n)&&(n=Un(n)),o.onNext(n),o.onCompleted()},function(){var e;try{e=n.call(r)}catch(t){return void o.onError(t)}Be(e)&&(e=Un(e)),o.onNext(e),o.onCompleted()})},i).mergeAll()},mn.selectSwitch=mn.flatMapLatest=mn.switchMap=function(e,t){return this.select(e,t).switchLatest()};var hr=function(e){function t(t,n){this.source=t,this.skipCount=n,e.call(this)}function n(e,t){this.c=t,this.r=t,this.o=e,this.isStopped=!1}return Dt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this.skipCount))},n.prototype.onNext=function(e){this.isStopped||(this.r<=0?this.o.onNext(e):this.r--)},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(xn);mn.skip=function(e){if(0>e)throw new Qe;return new hr(this,e)},mn.skipWhile=function(e,t){var n=this,r=ot(e,t,3);return new Zr(function(e){var t=0,i=!1;return n.subscribe(function(o){if(!i)try{i=!r(o,t++,n)}catch(s){return void e.onError(s)}i&&e.onNext(o)},function(t){e.onError(t)},function(){e.onCompleted()})},n)},mn.take=function(e,t){if(0>e)throw new Qe;if(0===e)return In(t);var n=this;return new Zr(function(t){var r=e;return n.subscribe(function(e){r-->0&&(t.onNext(e),0>=r&&t.onCompleted())},function(e){t.onError(e)},function(){t.onCompleted()})},n)},mn.takeWhile=function(e,t){var n=this,r=ot(e,t,3);return new Zr(function(e){var t=0,i=!0;return n.subscribe(function(o){if(i){try{i=r(o,t++,n)}catch(s){return void e.onError(s)}i?e.onNext(o):e.onCompleted()}},function(t){e.onError(t)},function(){e.onCompleted()})},n)};var pr=function(e){function t(t,n,r){this.source=t,this.predicate=ot(n,r,3),e.call(this)}function n(e,t){return function(n,r,i){return t.predicate(n,r,i)&&e.call(this,n,r,i)}}function r(e,t,n){this.o=e,this.predicate=t,this.source=n,this.i=0,this.isStopped=!1}return Dt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new r(e,this.predicate,this))},t.prototype.internalFilter=function(e,r){return new t(this.source,n(e,this),r)},r.prototype.onNext=function(e){if(!this.isStopped){var t=w(this.predicate)(e,this.i++,this.source);return t===It?this.o.onError(t.e):void(t&&this.o.onNext(e))}},r.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},r.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(xn);mn.filter=mn.where=function(e,t){return this instanceof pr?this.internalFilter(e,t):new pr(this,e,t)},mn.aggregate=function(){var e,t,n=!1,r=this;return 2===arguments.length?(n=!0,t=arguments[0],e=arguments[1]):e=arguments[0],new Zr(function(i){var o,s,a;return r.subscribe(function(r){!a&&(a=!0);try{o?s=e(s,r):(s=n?e(t,r):r,o=!0)}catch(u){return i.onError(u)}},function(e){i.onError(e)},function(){a&&i.onNext(s),!a&&n&&i.onNext(t),!a&&!n&&i.onError(new Je),i.onCompleted()})},r)};var mr=function(e){function t(t,n,r,i){this.source=t,this.acc=n,this.hasSeed=r,this.seed=i,e.call(this)}function n(e,t){this.o=e,this.acc=t.acc,this.hasSeed=t.hasSeed,this.seed=t.seed,this.hasAccumulation=!1,this.result=null,this.hasValue=!1,this.isStopped=!1}return Dt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this))},n.prototype.onNext=function(e){this.isStopped||(!this.hasValue&&(this.hasValue=!0),this.hasAccumulation?this.result=w(this.acc)(this.result,e):(this.result=this.hasSeed?w(this.acc)(this.seed,e):e,this.hasAccumulation=!0),this.result===It&&this.o.onError(this.result.e))},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.hasValue&&this.o.onNext(this.result),!this.hasValue&&this.hasSeed&&this.o.onNext(this.seed),!this.hasValue&&!this.hasSeed&&this.o.onError(new Je),this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(xn);mn.reduce=function(e){var t=!1;if(2===arguments.length){t=!0;var n=arguments[1]}return new mr(this,e,t,n)},mn.some=function(e,t){var n=this;return e?n.filter(e,t).some():new Zr(function(e){return n.subscribe(function(){e.onNext(!0),e.onCompleted()},function(t){e.onError(t)},function(){e.onNext(!1),e.onCompleted()})},n)},mn.any=function(){return this.some.apply(this,arguments)},mn.isEmpty=function(){return this.any().map(Le)},mn.every=function(e,t){return this.filter(function(t){return!e(t)},t).some().map(Le)},mn.all=function(){return this.every.apply(this,arguments)},mn.includes=function(e,t){function n(e,t){return 0===e&&0===t||e===t||isNaN(e)&&isNaN(t)}var r=this;return new Zr(function(i){var o=0,s=+t||0;return Math.abs(s)===1/0&&(s=0),0>s?(i.onNext(!1),i.onCompleted(),Gt):r.subscribe(function(t){o++>=s&&n(t,e)&&(i.onNext(!0),i.onCompleted())},function(e){i.onError(e)},function(){i.onNext(!1),i.onCompleted()})},this)},mn.contains=function(e,t){mn.includes(e,t)},mn.count=function(e,t){return e?this.filter(e,t).count():this.reduce(function(e){return e+1},0)},mn.indexOf=function(e,t){var n=this;return new Zr(function(r){var i=0,o=+t||0;return Math.abs(o)===1/0&&(o=0),0>o?(r.onNext(-1),r.onCompleted(),Gt):n.subscribe(function(t){i>=o&&t===e&&(r.onNext(i),r.onCompleted()),i++},function(e){r.onError(e)},function(){r.onNext(-1),r.onCompleted()})},n)},mn.sum=function(e,t){return e&&Ve(e)?this.map(e,t).sum():this.reduce(function(e,t){return e+t},0)},mn.minBy=function(e,t){return t||(t=Me),J(this,e,function(e,n){return-1*t(e,n)})},mn.min=function(e){return this.minBy(Oe,e).map(function(e){return q(e)})},mn.maxBy=function(e,t){return t||(t=Me),J(this,e,t)},mn.max=function(e){return this.maxBy(Oe,e).map(function(e){return q(e)})},mn.average=function(e,t){return e&&Ve(e)?this.map(e,t).average():this.reduce(function(e,t){return{sum:e.sum+t,count:e.count+1}},{sum:0,count:0}).map(function(e){if(0===e.count)throw new Je;return e.sum/e.count})},mn.sequenceEqual=function(e,t){var n=this;return t||(t=We),new Zr(function(r){var i=!1,o=!1,s=[],a=[],u=n.subscribe(function(e){var n,i;if(a.length>0){i=a.shift();try{n=t(i,e)}catch(u){return void r.onError(u)}n||(r.onNext(!1),r.onCompleted())}else o?(r.onNext(!1),r.onCompleted()):s.push(e)},function(e){r.onError(e)},function(){i=!0,0===s.length&&(a.length>0?(r.onNext(!1),r.onCompleted()):o&&(r.onNext(!0),r.onCompleted()))});(rt(e)||nt(e))&&(e=Bn(e)),Be(e)&&(e=Un(e));var c=e.subscribe(function(e){var n;if(s.length>0){var o=s.shift();try{n=t(o,e)}catch(u){return void r.onError(u)}n||(r.onNext(!1),r.onCompleted())}else i?(r.onNext(!1),r.onCompleted()):a.push(e)},function(e){r.onError(e)},function(){o=!0,0===a.length&&(s.length>0?(r.onNext(!1),r.onCompleted()):i&&(r.onNext(!0),r.onCompleted()))});return new Zt(u,c)},n)},mn.elementAt=function(e){return Q(this,e,!1)},mn.elementAtOrDefault=function(e,t){return Q(this,e,!0,t)},mn.single=function(e,t){return e&&Ve(e)?this.where(e,t).single():P(this,!1)},mn.singleOrDefault=function(e,t,n){return e&&Ve(e)?this.filter(e,n).singleOrDefault(null,t):P(this,!0,t)},mn.first=function(e,t){return e?this.where(e,t).first():H(this,!1)},mn.firstOrDefault=function(e,t,n){return e?this.where(e).firstOrDefault(null,t):H(this,!0,t)},mn.last=function(e,t){return e?this.where(e,t).last():K(this,!1)},mn.lastOrDefault=function(e,t,n){return e?this.where(e,n).lastOrDefault(null,t):K(this,!0,t)},mn.find=function(e,t){return $(this,e,t,!1)},mn.findIndex=function(e,t){return $(this,e,t,!0)},mn.toSet=function(){if("undefined"==typeof je.Set)throw new TypeError;var e=this;return new Zr(function(t){var n=new je.Set;return e.subscribe(function(e){n.add(e)},function(e){t.onError(e)},function(){t.onNext(n),t.onCompleted()})},e)},mn.toMap=function(e,t){if("undefined"==typeof je.Map)throw new TypeError;var n=this;return new Zr(function(r){var i=new je.Map;return n.subscribe(function(n){var o;try{o=e(n)}catch(s){return void r.onError(s)}var a=n;if(t)try{a=t(n)}catch(s){return void r.onError(s)}i.set(o,a)},function(e){r.onError(e)},function(){r.onNext(i),r.onCompleted()})},n)};var vr="function",br="throw",jt=De.internals.isObject,gr=De.spawn=function(e){var t=oe(e);return function(n){function r(e,t){an.schedule(n.bind(o,e,t))}function i(e,t){var n;if(arguments.length>2)for(var t=[],a=1,u=arguments.length;u>a;a++)t.push(arguments[a]);if(e)try{n=s[br](e)}catch(c){return r(c)}if(!e)try{n=s.next(t)}catch(c){return r(c)}if(n.done)return r(null,n.value);if(n.value=ee(n.value,o),typeof n.value!==vr)i(new TypeError("Rx.spawn only supports a function, Promise, Observable, Object or Array."));else{var l=!1;try{n.value.call(o,function(){l||(l=!0,i.apply(o,arguments))})}catch(c){an.schedule(function(){l||(l=!0,i.call(o,c))})}}}var o=this,s=e;if(t){for(var a=[],u=0,c=arguments.length;c>u;u++)a.push(arguments[u]);var c=a.length,l=c&&typeof a[c-1]===vr;n=l?a.pop():ae,s=e.apply(this,a)}else n=n||ae;i()}};_n.start=function(e,t,n){return yr(e,t,n)()};var yr=_n.toAsync=function(e,t,n){return Ht(n)||(n=an),function(){var r=arguments,i=new Gr;return n.schedule(function(){var n;try{n=e.apply(t,r)}catch(o){return void i.onError(o)}i.onNext(n),i.onCompleted()}),i.asObservable()}};_n.fromCallback=function(e,t,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;r>o;o++)i[o]=arguments[o];return new Zr(function(r){function o(){for(var e=arguments.length,i=new Array(e),o=0;e>o;o++)i[o]=arguments[o];if(n){try{i=n.apply(t,i)}catch(s){return r.onError(s)}r.onNext(i)}else i.length<=1?r.onNext.apply(r,i):r.onNext(i);r.onCompleted()}i.push(o),e.apply(t,i)}).publishLast().refCount()}},_n.fromNodeCallback=function(e,t,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;r>o;o++)i[o]=arguments[o];return new Zr(function(r){function o(e){if(e)return void r.onError(e);for(var i=arguments.length,o=[],s=1;i>s;s++)o[s-1]=arguments[s];if(n){try{o=n.apply(t,o)}catch(a){return r.onError(a)}r.onNext(o)}else o.length<=1?r.onNext.apply(r,o):r.onNext(o);r.onCompleted()}i.push(o),e.apply(t,i)}).publishLast().refCount()}},De.config.useNativeEvents=!1,_n.fromEvent=function(e,t,n){return e.addListener?wr(function(n){e.addListener(t,n)},function(n){e.removeListener(t,n)},n):De.config.useNativeEvents||"function"!=typeof e.on||"function"!=typeof e.off?new Zr(function(r){return ce(e,t,function(e){var t=e;if(n)try{t=n(arguments)}catch(i){return r.onError(i)}r.onNext(t)})}).publish().refCount():wr(function(n){e.on(t,n)},function(n){e.off(t,n)},n)};var wr=_n.fromEventPattern=function(e,t,n){return new Zr(function(r){function i(e){var t=e;if(n)try{t=n(arguments)}catch(i){return r.onError(i)}r.onNext(t)}var o=e(i);return Vt(function(){t&&t(i,o)})}).publish().refCount()};_n.startAsync=function(e){var t;try{t=e()}catch(n){return Pn(n)}return Un(t)};var _r=function(e){function t(e){var t=this.source.publish(),n=t.subscribe(e),r=Gt,i=this.pauser.distinctUntilChanged().subscribe(function(e){e?r=t.connect():(r.dispose(),r=Gt)});return new Zt(n,r,i)}function n(n,r){this.source=n,this.controller=new Vr,this.pauser=r&&r.subscribe?this.controller.merge(r):this.controller,e.call(this,t,n)}return Dt(n,e),n.prototype.pause=function(){this.controller.onNext(!1)},n.prototype.resume=function(){this.controller.onNext(!0)},n}(_n);mn.pausable=function(e){return new _r(this,e)};var xr=function(e){function t(e){function t(){for(;r.length>0;)e.onNext(r.shift())}var n,r=[],o=le(this.source,this.pauser.distinctUntilChanged().startWith(!1),function(e,t){return{data:e,shouldFire:t}}).subscribe(function(o){n!==i&&o.shouldFire!=n?(n=o.shouldFire,o.shouldFire&&t()):(n=o.shouldFire,o.shouldFire?e.onNext(o.data):r.push(o.data))},function(n){t(),e.onError(n)},function(){t(),e.onCompleted()});return o}function n(n,r){this.source=n,this.controller=new Vr,this.pauser=r&&r.subscribe?this.controller.merge(r):this.controller,e.call(this,t,n)}return Dt(n,e),n.prototype.pause=function(){this.controller.onNext(!1)},n.prototype.resume=function(){this.controller.onNext(!0)},n}(_n);mn.pausableBuffered=function(e){return new xr(this,e)};var kr=function(e){function t(e){return this.source.subscribe(e)}function n(n,r,i){e.call(this,t,n),this.subject=new Sr(r,i),this.source=n.multicast(this.subject).refCount()}return Dt(n,e),n.prototype.request=function(e){return this.subject.request(null==e?-1:e)},n}(_n),Sr=function(e){function t(e){return this.subject.subscribe(e)}function n(n,r){null==n&&(n=!0),e.call(this,t),this.subject=new Vr,this.enableQueue=n,this.queue=n?[]:null,this.requestedCount=0,this.requestedDisposable=Gt,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=r||nn}return Dt(n,e),At(n.prototype,hn,{onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(cn.createOnCompleted()):this.subject.onCompleted()},onError:function(e){this.hasFailed=!0,this.error=e,this.enableQueue&&0!==this.queue.length?this.queue.push(cn.createOnError(e)):this.subject.onError(e)},onNext:function(e){var t=!1;0===this.requestedCount?this.enableQueue&&this.queue.push(cn.createOnNext(e)):(-1!==this.requestedCount&&0===this.requestedCount--&&this.disposeCurrentRequest(),t=!0),t&&this.subject.onNext(e)},_processRequest:function(e){if(this.enableQueue){for(;this.queue.length>=e&&e>0||this.queue.length>0&&"N"!==this.queue[0].kind;){var t=this.queue.shift();t.accept(this.subject),"N"===t.kind?e--:(this.disposeCurrentRequest(),this.queue=[])}return{numberOfItems:e,returnValue:0!==this.queue.length}}return{numberOfItems:e,returnValue:!1}},request:function(e){this.disposeCurrentRequest();var t=this;return this.requestedDisposable=this.scheduler.scheduleWithState(e,function(e,n){var r=t._processRequest(n),i=r.numberOfItems;r.returnValue||(t.requestedCount=i,t.requestedDisposable=Vt(function(){t.requestedCount=0}))}),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable.dispose(),this.requestedDisposable=Gt}}),n}(_n);mn.controlled=function(e,t){return e&&Ht(e)&&(t=e,e=!0),null==e&&(e=!0),new kr(this,e,t)};var Cr=function(e){function t(e){this.subscription=this.source.subscribe(new r(e,this,this.subscription));var t=this;return an.schedule(function(){t.source.request(1)}),this.subscription}function n(n){e.call(this,t,n),this.source=n}Dt(n,e);var r=function(e){function t(t,n,r){e.call(this),this.observer=t,this.observable=n,this.cancel=r}Dt(t,e);var n=t.prototype;return n.completed=function(){this.observer.onCompleted(),this.dispose()},n.error=function(e){this.observer.onError(e),this.dispose()},n.next=function(e){this.observer.onNext(e);var t=this;an.schedule(function(){t.observable.source.request(1)})},n.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),e.prototype.dispose.call(this)},t}(vn);return n}(_n);kr.prototype.stopAndWait=function(){return new Cr(this)};var Er=function(e){function t(e){this.subscription=this.source.subscribe(new r(e,this,this.subscription));var t=this;return an.schedule(function(){t.source.request(t.windowSize)}),this.subscription}function n(n,r){e.call(this,t,n),this.source=n,this.windowSize=r}Dt(n,e);var r=function(e){function t(e,t,n){this.observer=e,this.observable=t,this.cancel=n,this.received=0}Dt(t,e);var n=t.prototype;return n.completed=function(){this.observer.onCompleted(),this.dispose()},n.error=function(e){this.observer.onError(e),this.dispose()},n.next=function(e){if(this.observer.onNext(e),this.received=++this.received%this.observable.windowSize,0===this.received){var t=this;an.schedule(function(){t.observable.source.request(t.observable.windowSize)})}},n.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),e.prototype.dispose.call(this)},t}(vn);return n}(_n);kr.prototype.windowed=function(e){return new Er(this,e)},mn.pipe=function(e){function t(){n.resume()}var n=this.pausableBuffered();return e.addListener("drain",t),n.subscribe(function(t){!e.write(String(t))&&n.pause()},function(t){e.emit("error",t)},function(){!e._isStdio&&e.end(),e.removeListener("drain",t)}),n.resume(),e},mn.multicast=function(e,t){var n=this;return"function"==typeof e?new Zr(function(r){var i=n.multicast(e());return new Zt(t(i).subscribe(r),i.connect())},n):new Tr(n,e)},mn.publish=function(e){return e&&Ve(e)?this.multicast(function(){return new Vr},e):this.multicast(new Vr)},mn.share=function(){return this.publish().refCount()},mn.publishLast=function(e){return e&&Ve(e)?this.multicast(function(){return new Gr},e):this.multicast(new Gr)},mn.publishValue=function(e,t){return 2===arguments.length?this.multicast(function(){return new Nr(t)},e):this.multicast(new Nr(e))},mn.shareValue=function(e){return this.publishValue(e).refCount()},mn.replay=function(e,t,n,r){return e&&Ve(e)?this.multicast(function(){return new Rr(t,n,r)},e):this.multicast(new Rr(t,n,r))},mn.shareReplay=function(e,t,n){return this.replay(null,e,t,n).refCount()};var jr=function(e,t){this.subject=e,this.observer=t};jr.prototype.dispose=function(){if(!this.subject.isDisposed&&null!==this.observer){var e=this.subject.observers.indexOf(this.observer);this.subject.observers.splice(e,1),this.observer=null}};var Nr=De.BehaviorSubject=function(e){function t(e){return Ft(this),this.isStopped?(this.hasError?e.onError(this.error):e.onCompleted(),Gt):(this.observers.push(e),e.onNext(this.value),new jr(this,e))}function n(n){e.call(this,t),this.value=n,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return Dt(n,e),At(n.prototype,hn,{getValue:function(){if(Ft(this),this.hasError)throw this.error;return this.value},hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(Ft(this),!this.isStopped){this.isStopped=!0;for(var e=0,t=o(this.observers),n=t.length;n>e;e++)t[e].onCompleted();this.observers.length=0}},onError:function(e){if(Ft(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=e;for(var t=0,n=o(this.observers),r=n.length;r>t;t++)n[t].onError(e);this.observers.length=0}},onNext:function(e){if(Ft(this),!this.isStopped){this.value=e;for(var t=0,n=o(this.observers),r=n.length;r>t;t++)n[t].onNext(e)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.exception=null}}),n}(_n),Rr=De.ReplaySubject=function(e){function t(e,t){return Vt(function(){t.dispose(),!e.isDisposed&&e.observers.splice(e.observers.indexOf(t),1)})}function n(e){var n=new yn(this.scheduler,e),r=t(this,n);Ft(this),this._trim(this.scheduler.now()),this.observers.push(n);for(var i=0,o=this.q.length;o>i;i++)n.onNext(this.q[i].value);return this.hasError?n.onError(this.error):this.isStopped&&n.onCompleted(),n.ensureActive(),r}function r(t,r,o){this.bufferSize=null==t?i:t,this.windowSize=null==r?i:r,this.scheduler=o||nn,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,e.call(this,n)}var i=Math.pow(2,53)-1;return Dt(r,e),At(r.prototype,hn.prototype,{hasObservers:function(){return this.observers.length>0},_trim:function(e){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&e-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(e){if(Ft(this),!this.isStopped){var t=this.scheduler.now();this.q.push({interval:t,value:e}),this._trim(t);for(var n=0,r=o(this.observers),i=r.length;i>n;n++){var s=r[n];s.onNext(e),s.ensureActive()}}},onError:function(e){if(Ft(this),!this.isStopped){this.isStopped=!0,this.error=e,this.hasError=!0;var t=this.scheduler.now();this._trim(t);for(var n=0,r=o(this.observers),i=r.length;i>n;n++){var s=r[n];

s.onError(e),s.ensureActive()}this.observers.length=0}},onCompleted:function(){if(Ft(this),!this.isStopped){this.isStopped=!0;var e=this.scheduler.now();this._trim(e);for(var t=0,n=o(this.observers),r=n.length;r>t;t++){var i=n[t];i.onCompleted(),i.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),r}(_n),Tr=De.ConnectableObservable=function(e){function t(t,n){var r,i=!1,o=t.asObservable();this.connect=function(){return i||(i=!0,r=new Zt(o.subscribe(n),Vt(function(){i=!1}))),r},e.call(this,function(e){return n.subscribe(e)})}return Dt(t,e),t.prototype.refCount=function(){var e,t=0,n=this;return new Zr(function(r){var i=1===++t,o=n.subscribe(r);return i&&(e=n.connect()),function(){o.dispose(),0===--t&&e.dispose()}})},t}(_n);mn.singleInstance=function(){function e(){return r||(r=!0,t=n["finally"](function(){r=!1}).publish().refCount()),t}var t,n=this,r=!1;return new Zr(function(t){return e().subscribe(t)})};var Ur=function(){function e(e){if(0===(1&e))return 2===e;for(var t=Math.sqrt(e),n=3;t>=n;){if(e%n===0)return!1;n+=2}return!0}function t(t){var n,r,i;for(n=0;n<a.length;++n)if(r=a[n],r>=t)return r;for(i=1|t;i<a[a.length-1];){if(e(i))return i;i+=2}return t}function n(e){var t=757602046;if(!e.length)return t;for(var n=0,r=e.length;r>n;n++){var i=e.charCodeAt(n);t=(t<<5)-t+i,t&=t}return t}function r(e){var t=668265261;return e=61^e^e>>>16,e+=e<<3,e^=e>>>4,e*=t,e^=e>>>15}function o(){return{key:null,value:null,next:0,hashCode:0}}function s(e,t){if(0>e)throw new Qe;e>0&&this._initialize(e),this.comparer=t||We,this.freeCount=0,this.size=0,this.freeList=-1}var a=[1,3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143,4194301,8388593,16777213,33554393,67108859,134217689,268435399,536870909,1073741789,2147483647],u="no such key",c="duplicate key",l=function(){var e=0;return function(t){if(null==t)throw new Error(u);if("string"==typeof t)return n(t);if("number"==typeof t)return r(t);if("boolean"==typeof t)return t===!0?1:0;if(t instanceof Date)return r(t.valueOf());if(t instanceof RegExp)return n(t.toString());if("function"==typeof t.valueOf){var i=t.valueOf();if("number"==typeof i)return r(i);if("string"==typeof i)return n(i)}if(t.hashCode)return t.hashCode();var o=17*e++;return t.hashCode=function(){return o},o}}(),d=s.prototype;return d._initialize=function(e){var n,r=t(e);for(this.buckets=new Array(r),this.entries=new Array(r),n=0;r>n;n++)this.buckets[n]=-1,this.entries[n]=o();this.freeList=-1},d.add=function(e,t){this._insert(e,t,!0)},d._insert=function(e,t,n){this.buckets||this._initialize(0);for(var r,i=2147483647&l(e),o=i%this.buckets.length,s=this.buckets[o];s>=0;s=this.entries[s].next)if(this.entries[s].hashCode===i&&this.comparer(this.entries[s].key,e)){if(n)throw new Error(c);return void(this.entries[s].value=t)}this.freeCount>0?(r=this.freeList,this.freeList=this.entries[r].next,--this.freeCount):(this.size===this.entries.length&&(this._resize(),o=i%this.buckets.length),r=this.size,++this.size),this.entries[r].hashCode=i,this.entries[r].next=this.buckets[o],this.entries[r].key=e,this.entries[r].value=t,this.buckets[o]=r},d._resize=function(){var e=t(2*this.size),n=new Array(e);for(i=0;i<n.length;++i)n[i]=-1;var r=new Array(e);for(i=0;i<this.size;++i)r[i]=this.entries[i];for(var i=this.size;e>i;++i)r[i]=o();for(var s=0;s<this.size;++s){var a=r[s].hashCode%e;r[s].next=n[a],n[a]=s}this.buckets=n,this.entries=r},d.remove=function(e){if(this.buckets)for(var t=2147483647&l(e),n=t%this.buckets.length,r=-1,i=this.buckets[n];i>=0;i=this.entries[i].next){if(this.entries[i].hashCode===t&&this.comparer(this.entries[i].key,e))return 0>r?this.buckets[n]=this.entries[i].next:this.entries[r].next=this.entries[i].next,this.entries[i].hashCode=-1,this.entries[i].next=this.freeList,this.entries[i].key=null,this.entries[i].value=null,this.freeList=i,++this.freeCount,!0;r=i}return!1},d.clear=function(){var e,t;if(!(this.size<=0)){for(e=0,t=this.buckets.length;t>e;++e)this.buckets[e]=-1;for(e=0;e<this.size;++e)this.entries[e]=o();this.freeList=-1,this.size=0}},d._findEntry=function(e){if(this.buckets)for(var t=2147483647&l(e),n=this.buckets[t%this.buckets.length];n>=0;n=this.entries[n].next)if(this.entries[n].hashCode===t&&this.comparer(this.entries[n].key,e))return n;return-1},d.count=function(){return this.size-this.freeCount},d.tryGetValue=function(e){var t=this._findEntry(e);return t>=0?this.entries[t].value:i},d.getValues=function(){var e=0,t=[];if(this.entries)for(var n=0;n<this.size;n++)this.entries[n].hashCode>=0&&(t[e++]=this.entries[n].value);return t},d.get=function(e){var t=this._findEntry(e);if(t>=0)return this.entries[t].value;throw new Error(u)},d.set=function(e,t){this._insert(e,t,!1)},d.containskey=function(e){return this._findEntry(e)>=0},s}();mn.join=function(e,t,n,r){var i=this;return new Zr(function(o){var s=new Zt,a=!1,u=!1,c=0,l=0,d=new Ur,f=new Ur;return s.add(i.subscribe(function(e){var n=c++,i=new Xt;d.add(n,e),s.add(i);var u,l=function(){d.remove(n)&&0===d.count()&&a&&o.onCompleted(),s.remove(i)};try{u=t(e)}catch(h){return void o.onError(h)}i.setDisposable(u.take(1).subscribe(Ae,o.onError.bind(o),l)),f.getValues().forEach(function(t){var n;try{n=r(e,t)}catch(i){return void o.onError(i)}o.onNext(n)})},o.onError.bind(o),function(){a=!0,(u||0===d.count())&&o.onCompleted()})),s.add(e.subscribe(function(e){var t=l++,i=new Xt;f.add(t,e),s.add(i);var a,c=function(){f.remove(t)&&0===f.count()&&u&&o.onCompleted(),s.remove(i)};try{a=n(e)}catch(h){return void o.onError(h)}i.setDisposable(a.take(1).subscribe(Ae,o.onError.bind(o),c)),d.getValues().forEach(function(t){var n;try{n=r(t,e)}catch(i){return void o.onError(i)}o.onNext(n)})},o.onError.bind(o),function(){u=!0,(a||0===f.count())&&o.onCompleted()})),s},i)},mn.groupJoin=function(e,t,n,r){var i=this;return new Zr(function(o){function s(e){return function(t){t.onError(e)}}var a=new Zt,u=new Jt(a),c=new Ur,l=new Ur,d=0,f=0;return a.add(i.subscribe(function(e){var n=new Vr,i=d++;c.add(i,n);var f;try{f=r(e,Ot(n,u))}catch(h){return c.getValues().forEach(s(h)),void o.onError(h)}o.onNext(f),l.getValues().forEach(function(e){n.onNext(e)});var p=new Xt;a.add(p);var m,v=function(){c.remove(i)&&n.onCompleted(),a.remove(p)};try{m=t(e)}catch(h){return c.getValues().forEach(s(h)),void o.onError(h)}p.setDisposable(m.take(1).subscribe(Ae,function(e){c.getValues().forEach(s(e)),o.onError(e)},v))},function(e){c.getValues().forEach(s(e)),o.onError(e)},o.onCompleted.bind(o))),a.add(e.subscribe(function(e){var t=f++;l.add(t,e);var r=new Xt;a.add(r);var i,u=function(){l.remove(t),a.remove(r)};try{i=n(e)}catch(d){return c.getValues().forEach(s(d)),void o.onError(d)}r.setDisposable(i.take(1).subscribe(Ae,function(e){c.getValues().forEach(s(e)),o.onError(e)},u)),c.getValues().forEach(function(t){t.onNext(e)})},function(e){c.getValues().forEach(s(e)),o.onError(e)})),u},i)},mn.buffer=function(e,t){return this.window.apply(this,arguments).selectMany(function(e){return e.toArray()})},mn.window=function(e,t){return 1===arguments.length&&"function"!=typeof arguments[0]?fe.call(this,e):"function"==typeof e?he.call(this,e):de.call(this,e,t)},mn.pairwise=function(){var e=this;return new Zr(function(t){var n,r=!1;return e.subscribe(function(e){r?t.onNext([n,e]):r=!0,n=e},t.onError.bind(t),t.onCompleted.bind(t))},e)},mn.partition=function(e,t){return[this.filter(e,t),this.filter(function(n,r,i){return!e.call(t,n,r,i)})]};var Dr=function(e){function t(e,t){this.c=e,this.s=t}return Dt(t,e),t.prototype[et]=function(){var e=this;return{next:function(){return e.c()?{done:!1,value:e.s}:{done:!0,value:void 0}}}},t}(kn);mn.letBind=mn.let=function(e){return e(this)},_n["if"]=_n.ifThen=function(e,t,n){return An(function(){return n||(n=In()),Be(t)&&(t=Un(t)),Be(n)&&(n=Un(n)),"function"==typeof n.now&&(n=In(n)),e()?t:n})},_n["for"]=_n.forIn=function(e,t,n){return Rn(e,t,n).concat()};var Ar=_n["while"]=_n.whileDo=function(e,t){return Be(t)&&(t=Un(t)),pe(e,t).concat()};mn.doWhile=function(e){return er([this,Ar(e,this)])},_n["case"]=_n.switchCase=function(e,t,n){return An(function(){Be(n)&&(n=Un(n)),n||(n=In()),"function"==typeof n.now&&(n=In(n));var r=t[e()];return Be(r)&&(r=Un(r)),r||n})},mn.expand=function(e,t){Ht(t)||(t=tn);var n=this;return new Zr(function(r){var i=[],o=new Yt,s=new Zt(o),a=0,u=!1,c=function(){var n=!1;i.length>0&&(n=!u,u=!0),n&&o.setDisposable(t.scheduleRecursive(function(t){var n;if(!(i.length>0))return void(u=!1);n=i.shift();var o=new Xt;s.add(o),o.setDisposable(n.subscribe(function(t){r.onNext(t);var n=null;try{n=e(t)}catch(o){r.onError(o)}i.push(n),a++,c()},r.onError.bind(r),function(){s.remove(o),a--,0===a&&r.onCompleted()})),t()}))};return i.push(n),a++,c(),s},this)},_n.forkJoin=function(){var e=[];if(Array.isArray(arguments[0]))e=arguments[0];else for(var t=0,n=arguments.length;n>t;t++)e.push(arguments[t]);return new Zr(function(t){var n=e.length;if(0===n)return t.onCompleted(),Gt;for(var r=new Zt,i=!1,o=new Array(n),s=new Array(n),a=new Array(n),u=0;n>u;u++)!function(u){var c=e[u];Be(c)&&(c=Un(c)),r.add(c.subscribe(function(e){i||(o[u]=!0,a[u]=e)},function(e){i=!0,t.onError(e),r.dispose()},function(){if(!i){if(!o[u])return void t.onCompleted();s[u]=!0;for(var e=0;n>e;e++)if(!s[e])return;i=!0,t.onNext(a),t.onCompleted()}}))}(u);return r})},mn.forkJoin=function(e,t){var n=this;return new Zr(function(r){var i,o,s=!1,a=!1,u=!1,c=!1,l=new Xt,d=new Xt;return Be(e)&&(e=Un(e)),l.setDisposable(n.subscribe(function(e){u=!0,i=e},function(e){d.dispose(),r.onError(e)},function(){if(s=!0,a)if(u)if(c){var e;try{e=t(i,o)}catch(n){return void r.onError(n)}r.onNext(e),r.onCompleted()}else r.onCompleted();else r.onCompleted()})),d.setDisposable(e.subscribe(function(e){c=!0,o=e},function(e){l.dispose(),r.onError(e)},function(){if(a=!0,s)if(u)if(c){var e;try{e=t(i,o)}catch(n){return void r.onError(n)}r.onNext(e),r.onCompleted()}else r.onCompleted();else r.onCompleted()})),new Zt(l,d)},n)},mn.manySelect=mn.extend=function(e,t){Ht(t)||(t=tn);var n=this;return An(function(){var r;return n.map(function(e){var t=new Or(e);return r&&r.onNext(e),r=t,t}).tap(Ae,function(e){r&&r.onError(e)},function(){r&&r.onCompleted()}).observeOn(t).map(e)},n)};var Or=function(e){function t(e){var t=this,n=new Zt;return n.add(nn.schedule(function(){e.onNext(t.head),n.add(t.tail.mergeAll().subscribe(e))})),n}function n(n){e.call(this,t),this.head=n,this.tail=new Gr}return Dt(n,e),At(n.prototype,hn,{onCompleted:function(){this.onNext(_n.empty())},onError:function(e){this.onNext(_n.throwError(e))},onNext:function(e){this.tail.onNext(e),this.tail.onCompleted()}}),n}(_n),Ir=je.Map||function(){function e(){this._keys=[],this._values=[]}return e.prototype.get=function(e){var t=this._keys.indexOf(e);return-1!==t?this._values[t]:i},e.prototype.set=function(e,t){var n=this._keys.indexOf(e);-1!==n&&(this._values[n]=t),this._values[this._keys.push(e)-1]=t},e.prototype.forEach=function(e,t){for(var n=0,r=this._keys.length;r>n;n++)e.call(t,this._values[n],this._keys[n])},e}();me.prototype.and=function(e){return new me(this.patterns.concat(e))},me.prototype.thenDo=function(e){return new ve(this,e)},ve.prototype.activate=function(e,t,n){for(var r=this,i=[],o=0,s=this.expression.patterns.length;s>o;o++)i.push(be(e,this.expression.patterns[o],t.onError.bind(t)));var a=new ge(i,function(){var e;try{e=r.selector.apply(r,arguments)}catch(n){return void t.onError(n)}t.onNext(e)},function(){for(var e=0,t=i.length;t>e;e++)i[e].removeActivePlan(a);n(a)});for(o=0,s=i.length;s>o;o++)i[o].addActivePlan(a);return a},ge.prototype.dequeue=function(){this.joinObservers.forEach(function(e){e.queue.shift()})},ge.prototype.match=function(){var e,t,n=!0;for(e=0,t=this.joinObserverArray.length;t>e;e++)if(0===this.joinObserverArray[e].queue.length){n=!1;break}if(n){var r=[],i=!1;for(e=0,t=this.joinObserverArray.length;t>e;e++)r.push(this.joinObserverArray[e].queue[0]),"C"===this.joinObserverArray[e].queue[0].kind&&(i=!0);if(i)this.onCompleted();else{this.dequeue();var o=[];for(e=0,t=r.length;e<r.length;e++)o.push(r[e].value);this.onNext.apply(this,o)}}};var Wr=function(e){function t(t,n){e.call(this),this.source=t,this.onError=n,this.queue=[],this.activePlans=[],this.subscription=new Xt,this.isDisposed=!1}Dt(t,e);var n=t.prototype;return n.next=function(e){if(!this.isDisposed){if("E"===e.kind)return this.onError(e.exception);this.queue.push(e);for(var t=this.activePlans.slice(0),n=0,r=t.length;r>n;n++)t[n].match()}},n.error=Ae,n.completed=Ae,n.addActivePlan=function(e){this.activePlans.push(e)},n.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},n.removeActivePlan=function(e){this.activePlans.splice(this.activePlans.indexOf(e),1),0===this.activePlans.length&&this.dispose()},n.dispose=function(){e.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},t}(vn);mn.and=function(e){return new me([this,e])},mn.thenDo=function(e){return new me([this]).thenDo(e)},_n.when=function(){var e,t=arguments.length;if(Array.isArray(arguments[0]))e=arguments[0];else{e=new Array(t);for(var n=0;t>n;n++)e[n]=arguments[n]}return new Zr(function(t){var n=[],r=new Ir,i=pn(function(e){t.onNext(e)},function(e){r.forEach(function(t){t.onError(e)}),t.onError(e)},function(e){t.onCompleted()});try{for(var o=0,s=e.length;s>o;o++)n.push(e[o].activate(r,i,function(e){var r=n.indexOf(e);n.splice(r,1),0===n.length&&t.onCompleted()}))}catch(a){Pn(a).subscribe(t)}var u=new Zt;return r.forEach(function(e){e.subscribe(),u.add(e)}),u})};{var Mr=_n.interval=function(e,t){return xe(e,e,Ht(t)?t:an)};_n.timer=function(e,t,n){var r;return Ht(n)||(n=an),t!==i&&"number"==typeof t?r=t:Ht(t)&&(n=t),e instanceof Date&&r===i?ye(e.getTime(),n):e instanceof Date&&r!==i?(r=t,we(e.getTime(),r,n)):r===i?_e(e,n):xe(e,r,n)}}mn.delay=function(e,t){return Ht(t)||(t=an),e instanceof Date?Se(this,e.getTime(),t):ke(this,e,t)},mn.debounce=mn.throttleWithTimeout=function(e,t){Ht(t)||(t=an);var n=this;return new Zr(function(r){var i,o=new Yt,s=!1,a=0,u=n.subscribe(function(n){s=!0,i=n,a++;var u=a,c=new Xt;o.setDisposable(c),c.setDisposable(t.scheduleWithRelative(e,function(){s&&a===u&&r.onNext(i),s=!1}))},function(e){o.dispose(),r.onError(e),s=!1,a++},function(){o.dispose(),s&&r.onNext(i),r.onCompleted(),s=!1,a++});return new Zt(u,o)},this)},mn.throttle=function(e,t){return this.debounce(e,t)},mn.windowWithTime=function(e,t,n){var r,i=this;return null==t&&(r=e),Ht(n)||(n=an),"number"==typeof t?r=t:Ht(t)&&(r=e,n=t),new Zr(function(t){function o(){var e=new Xt,i=!1,s=!1;d.setDisposable(e),c===u?(i=!0,s=!0):u>c?i=!0:s=!0;var h=i?c:u,p=h-f;f=h,i&&(c+=r),s&&(u+=r),e.setDisposable(n.scheduleWithRelative(p,function(){if(s){var e=new Vr;l.push(e),t.onNext(Ot(e,a))}i&&l.shift().onCompleted(),o()}))}var s,a,u=r,c=e,l=[],d=new Yt,f=0;return s=new Zt(d),a=new Jt(s),l.push(new Vr),t.onNext(Ot(l[0],a)),o(),s.add(i.subscribe(function(e){for(var t=0,n=l.length;n>t;t++)l[t].onNext(e)},function(e){for(var n=0,r=l.length;r>n;n++)l[n].onError(e);t.onError(e)},function(){for(var e=0,n=l.length;n>e;e++)l[e].onCompleted();t.onCompleted()})),a},i)},mn.windowWithTimeOrCount=function(e,t,n){var r=this;return Ht(n)||(n=an),new Zr(function(i){function o(t){var r=new Xt;s.setDisposable(r),r.setDisposable(n.scheduleWithRelative(e,function(){if(t===l){c=0;var e=++l;d.onCompleted(),d=new Vr,i.onNext(Ot(d,u)),o(e)}}))}var s=new Yt,a=new Zt(s),u=new Jt(a),c=0,l=0,d=new Vr;return i.onNext(Ot(d,u)),o(0),a.add(r.subscribe(function(e){var n=0,r=!1;d.onNext(e),++c===t&&(r=!0,c=0,n=++l,d.onCompleted(),d=new Vr,i.onNext(Ot(d,u))),r&&o(n)},function(e){d.onError(e),i.onError(e)},function(){d.onCompleted(),i.onCompleted()})),u},r)},mn.bufferWithTime=function(e,t,n){return this.windowWithTime.apply(this,arguments).selectMany(function(e){return e.toArray()})},mn.bufferWithTimeOrCount=function(e,t,n){return this.windowWithTimeOrCount(e,t,n).selectMany(function(e){return e.toArray()})},mn.timeInterval=function(e){var t=this;return Ht(e)||(e=an),An(function(){var n=e.now();return t.map(function(t){var r=e.now(),i=r-n;return n=r,{value:t,interval:i}})})},mn.timestamp=function(e){return Ht(e)||(e=an),this.map(function(t){return{value:t,timestamp:e.now()}})},mn.sample=mn.throttleLatest=function(e,t){return Ht(t)||(t=an),"number"==typeof e?Ce(this,Mr(e,t)):Ce(this,e)},mn.timeout=function(e,t,n){(null==t||"string"==typeof t)&&(t=Pn(new Error(t||"Timeout"))),Ht(n)||(n=an);var r=this,i=e instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new Zr(function(o){function s(){var r=a;d.setDisposable(n[i](e,function(){a===r&&(Be(t)&&(t=Un(t)),c.setDisposable(t.subscribe(o)))}))}var a=0,u=new Xt,c=new Yt,l=!1,d=new Yt;return c.setDisposable(u),s(),u.setDisposable(r.subscribe(function(e){l||(a++,o.onNext(e),s())},function(e){l||(a++,o.onError(e))},function(){l||(a++,o.onCompleted())})),new Zt(c,d)},r)},_n.generateWithAbsoluteTime=function(e,t,n,r,i,o){return Ht(o)||(o=an),new Zr(function(s){var a=!0,u=!1;return o.scheduleRecursiveWithAbsoluteAndState(e,o.now(),function(e,o){u&&s.onNext(e);try{if(a?a=!1:e=n(e),u=t(e))var c=r(e),l=i(e)}catch(d){return void s.onError(d)}u?o(c,l):s.onCompleted()})})},_n.generateWithRelativeTime=function(e,t,n,r,i,o){return Ht(o)||(o=an),new Zr(function(s){var a=!0,u=!1;return o.scheduleRecursiveWithRelativeAndState(e,0,function(e,o){u&&s.onNext(e);try{if(a?a=!1:e=n(e),u=t(e))var c=r(e),l=i(e)}catch(d){return void s.onError(d)}u?o(c,l):s.onCompleted()})})},mn.delaySubscription=function(e,t){var n=e instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative",r=this;return Ht(t)||(t=an),new Zr(function(i){var o=new Yt;return o.setDisposable(t[n](e,function(){o.setDisposable(r.subscribe(i))})),o},this)},mn.delayWithSelector=function(e,t){var n,r,i=this;return Ve(e)?r=e:(n=e,r=t),new Zr(function(e){function t(){u.setDisposable(i.subscribe(function(t){var n=w(r)(t);if(n===It)return e.onError(n.e);var i=new Xt;s.add(i),i.setDisposable(n.subscribe(function(){e.onNext(t),s.remove(i),o()},function(t){e.onError(t)},function(){e.onNext(t),s.remove(i),o()}))},function(t){e.onError(t)},function(){a=!0,u.dispose(),o()}))}function o(){a&&0===s.length&&e.onCompleted()}var s=new Zt,a=!1,u=new Yt;return n?u.setDisposable(n.subscribe(t,function(t){e.onError(t)},t)):t(),new Zt(u,s)},this)},mn.timeoutWithSelector=function(e,t,n){1===arguments.length&&(t=e,e=zn()),n||(n=Pn(new Error("Timeout")));var r=this;return new Zr(function(i){function o(e){function t(){return l===r}var r=l,o=new Xt;u.setDisposable(o),o.setDisposable(e.subscribe(function(){t()&&a.setDisposable(n.subscribe(i)),o.dispose()},function(e){t()&&i.onError(e)},function(){t()&&a.setDisposable(n.subscribe(i))}))}function s(){var e=!d;return e&&l++,e}var a=new Yt,u=new Yt,c=new Xt;a.setDisposable(c);var l=0,d=!1;return o(e),c.setDisposable(r.subscribe(function(e){if(s()){i.onNext(e);var n;try{n=t(e)}catch(r){return void i.onError(r)}o(Be(n)?Un(n):n)}},function(e){s()&&i.onError(e)},function(){s()&&i.onCompleted()})),new Zt(a,u)},r)},mn.debounceWithSelector=function(e){var t=this;return new Zr(function(n){var r,i=!1,o=new Yt,s=0,a=t.subscribe(function(t){var a;try{a=e(t)}catch(u){return void n.onError(u)}Be(a)&&(a=Un(a)),i=!0,r=t,s++;var c=s,l=new Xt;o.setDisposable(l),l.setDisposable(a.subscribe(function(){i&&s===c&&n.onNext(r),i=!1,l.dispose()},n.onError.bind(n),function(){i&&s===c&&n.onNext(r),i=!1,l.dispose()}))},function(e){o.dispose(),n.onError(e),i=!1,s++},function(){o.dispose(),i&&n.onNext(r),n.onCompleted(),i=!1,s++});return new Zt(a,o)},t)},mn.throttleWithSelector=function(e){return this.debounceWithSelector(e)},mn.skipLastWithTime=function(e,t){Ht(t)||(t=an);var n=this;return new Zr(function(r){var i=[];return n.subscribe(function(n){var o=t.now();for(i.push({interval:o,value:n});i.length>0&&o-i[0].interval>=e;)r.onNext(i.shift().value)},function(e){r.onError(e)},function(){for(var n=t.now();i.length>0&&n-i[0].interval>=e;)r.onNext(i.shift().value);r.onCompleted()})},n)},mn.takeLastWithTime=function(e,t){var n=this;return Ht(t)||(t=an),new Zr(function(r){var i=[];return n.subscribe(function(n){var r=t.now();for(i.push({interval:r,value:n});i.length>0&&r-i[0].interval>=e;)i.shift()},function(e){r.onError(e)},function(){for(var n=t.now();i.length>0;){var o=i.shift();n-o.interval<=e&&r.onNext(o.value)}r.onCompleted()})},n)},mn.takeLastBufferWithTime=function(e,t){var n=this;return Ht(t)||(t=an),new Zr(function(r){var i=[];return n.subscribe(function(n){var r=t.now();for(i.push({interval:r,value:n});i.length>0&&r-i[0].interval>=e;)i.shift()},function(e){r.onError(e)},function(){for(var n=t.now(),o=[];i.length>0;){var s=i.shift();n-s.interval<=e&&o.push(s.value)}r.onNext(o),r.onCompleted()})},n)},mn.takeWithTime=function(e,t){var n=this;return Ht(t)||(t=an),new Zr(function(r){return new Zt(t.scheduleWithRelative(e,function(){r.onCompleted()}),n.subscribe(r))},n)},mn.skipWithTime=function(e,t){var n=this;return Ht(t)||(t=an),new Zr(function(r){var i=!1;return new Zt(t.scheduleWithRelative(e,function(){i=!0}),n.subscribe(function(e){i&&r.onNext(e)},r.onError.bind(r),r.onCompleted.bind(r)))},n)},mn.skipUntilWithTime=function(e,t){Ht(t)||(t=an);var n=this,r=e instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new Zr(function(i){var o=!1;return new Zt(t[r](e,function(){o=!0}),n.subscribe(function(e){o&&i.onNext(e)},function(e){i.onError(e)},function(){i.onCompleted()}))},n)},mn.takeUntilWithTime=function(e,t){Ht(t)||(t=an);var n=this,r=e instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new Zr(function(i){return new Zt(t[r](e,function(){i.onCompleted()}),n.subscribe(i))},n)},mn.throttleFirst=function(e,t){Ht(t)||(t=an);var n=+e||0;if(0>=n)throw new RangeError("windowDuration cannot be less or equal zero.");var r=this;return new Zr(function(e){var i=0;return r.subscribe(function(r){var o=t.now();(0===i||o-i>=n)&&(i=o,e.onNext(r))},function(t){e.onError(t)},function(){e.onCompleted()})},r)},mn.transduce=function(e){function t(e){return{"@@transducer/init":function(){return e},"@@transducer/step":function(e,t){return e.onNext(t)},"@@transducer/result":function(e){return e.onCompleted()}}}var n=this;return new Zr(function(r){var i=e(t(r));return n.subscribe(function(e){try{i["@@transducer/step"](r,e)}catch(t){r.onError(t)}},function(e){r.onError(e)},function(){i["@@transducer/result"](r)})},n)},mn.exclusive=function(){var e=this;return new Zr(function(t){var n=!1,r=!1,i=new Xt,o=new Zt;return o.add(i),i.setDisposable(e.subscribe(function(e){if(!n){n=!0,Be(e)&&(e=Un(e));var i=new Xt;o.add(i),i.setDisposable(e.subscribe(t.onNext.bind(t),t.onError.bind(t),function(){o.remove(i),n=!1,r&&1===o.length&&t.onCompleted()}))}},t.onError.bind(t),function(){r=!0,n||1!==o.length||t.onCompleted()})),o},this)},mn.exclusiveMap=function(e,t){var n=this,r=ot(e,t,3);return new Zr(function(e){var t=0,i=!1,o=!0,s=new Xt,a=new Zt;return a.add(s),s.setDisposable(n.subscribe(function(n){i||(i=!0,innerSubscription=new Xt,a.add(innerSubscription),Be(n)&&(n=Un(n)),innerSubscription.setDisposable(n.subscribe(function(i){var o;try{o=r(i,t++,n)}catch(s){return void e.onError(s)}e.onNext(o)},function(t){e.onError(t)},function(){a.remove(innerSubscription),i=!1,o&&1===a.length&&e.onCompleted()})))},function(t){e.onError(t)},function(){o=!0,1!==a.length||i||e.onCompleted()})),a},this)},De.VirtualTimeScheduler=function(e){function t(){return this.toDateTimeOffset(this.clock)}function n(e,t){return this.scheduleAbsoluteWithState(e,this.clock,t)}function r(e,t,n){return this.scheduleRelativeWithState(e,this.toRelative(t),n)}function i(e,t,n){return this.scheduleRelativeWithState(e,this.toRelative(t-this.now()),n)}function o(e,t){return t(),Gt}function s(o,s){this.clock=o,this.comparer=s,this.isEnabled=!1,this.queue=new Wt(1024),e.call(this,t,n,r,i)}Dt(s,e);var a=s.prototype;return a.add=Ke,a.toDateTimeOffset=Ke,a.toRelative=Ke,a.schedulePeriodicWithState=function(e,t,n){var r=new en(this,e,t,n);return r.start()},a.scheduleRelativeWithState=function(e,t,n){var r=this.add(this.clock,t);return this.scheduleAbsoluteWithState(e,r,n)},a.scheduleRelative=function(e,t){return this.scheduleRelativeWithState(t,e,o)},a.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var e=this.getNext();null!==e?(this.comparer(e.dueTime,this.clock)>0&&(this.clock=e.dueTime),e.invoke()):this.isEnabled=!1}while(this.isEnabled)}},a.stop=function(){this.isEnabled=!1},a.advanceTo=function(e){var t=this.comparer(this.clock,e);if(this.comparer(this.clock,e)>0)throw new Qe;if(0!==t&&!this.isEnabled){this.isEnabled=!0;do{var n=this.getNext();null!==n&&this.comparer(n.dueTime,e)<=0?(this.comparer(n.dueTime,this.clock)>0&&(this.clock=n.dueTime),n.invoke()):this.isEnabled=!1}while(this.isEnabled);this.clock=e}},a.advanceBy=function(e){var t=this.add(this.clock,e),n=this.comparer(this.clock,t);if(n>0)throw new Qe;0!==n&&this.advanceTo(t)},a.sleep=function(e){var t=this.add(this.clock,e);if(this.comparer(this.clock,t)>=0)throw new Qe;this.clock=t},a.getNext=function(){for(;this.queue.length>0;){var e=this.queue.peek();if(!e.isCancelled())return e;this.queue.dequeue()}return null},a.scheduleAbsolute=function(e,t){return this.scheduleAbsoluteWithState(t,e,o)},a.scheduleAbsoluteWithState=function(e,t,n){function r(e,t){return i.queue.remove(o),n(e,t)}var i=this,o=new qt(this,e,r,t,this.comparer);return this.queue.enqueue(o),o.disposable},s}(Qt),De.HistoricalScheduler=function(e){function t(t,n){var r=null==t?0:t,i=n||Me;e.call(this,r,i)}Dt(t,e);var n=t.prototype;return n.add=function(e,t){return e+t},n.toDateTimeOffset=function(e){return new Date(e).getTime()},n.toRelative=function(e){return e},t}(De.VirtualTimeScheduler);var Zr=De.AnonymousObservable=function(e){function t(e){return e&&Ve(e.dispose)?e:Ve(e)?Vt(e):Gt}function n(e,n){var r=n[0],i=n[1],o=w(i)(r);return o!==It||r.fail(It.e)?void r.setDisposable(t(o)):_(It.e)}function r(t,r){function i(e){var r=new Br(e),i=[r,t];return nn.scheduleRequired()?nn.scheduleWithState(i,n):n(null,i),r}this.source=r,e.call(this,i)}return Dt(r,e),r}(_n),Br=function(e){function t(t){e.call(this),this.observer=t,this.m=new Xt}Dt(t,e);var n=t.prototype;return n.next=function(e){var t=w(this.observer.onNext).call(this.observer,e);t===It&&(this.dispose(),_(t.e))},n.error=function(e){var t=w(this.observer.onError).call(this.observer,e);this.dispose(),t===It&&_(t.e)},n.completed=function(){var e=w(this.observer.onCompleted).call(this.observer);this.dispose(),e===It&&_(e.e)},n.setDisposable=function(e){this.m.setDisposable(e)},n.getDisposable=function(){return this.m.getDisposable()},n.dispose=function(){e.prototype.dispose.call(this),this.m.dispose()},t}(vn),Lr=function(e){function t(e){return this.underlyingObservable.subscribe(e)}function n(n,r,i){e.call(this,t),this.key=n,this.underlyingObservable=i?new Zr(function(e){return new Zt(i.getDisposable(),r.subscribe(e))}):r}return Dt(n,e),n}(_n),Vr=De.Subject=function(e){function t(e){return Ft(this),this.isStopped?this.hasError?(e.onError(this.error),Gt):(e.onCompleted(),Gt):(this.observers.push(e),new jr(this,e))}function n(){e.call(this,t),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return Dt(n,e),At(n.prototype,hn.prototype,{hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(Ft(this),!this.isStopped){this.isStopped=!0;for(var e=0,t=o(this.observers),n=t.length;n>e;e++)t[e].onCompleted();this.observers.length=0}},onError:function(e){if(Ft(this),!this.isStopped){this.isStopped=!0,this.error=e,this.hasError=!0;for(var t=0,n=o(this.observers),r=n.length;r>t;t++)n[t].onError(e);this.observers.length=0}},onNext:function(e){if(Ft(this),!this.isStopped)for(var t=0,n=o(this.observers),r=n.length;r>t;t++)n[t].onNext(e)},dispose:function(){this.isDisposed=!0,this.observers=null}}),n.create=function(e,t){return new zr(e,t)},n}(_n),Gr=De.AsyncSubject=function(e){function t(e){return Ft(this),this.isStopped?(this.hasError?e.onError(this.error):this.hasValue?(e.onNext(this.value),e.onCompleted()):e.onCompleted(),Gt):(this.observers.push(e),new jr(this,e))}function n(){e.call(this,t),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return Dt(n,e),At(n.prototype,hn,{hasObservers:function(){return Ft(this),this.observers.length>0},onCompleted:function(){var e,t;if(Ft(this),!this.isStopped){this.isStopped=!0;var n=o(this.observers),t=n.length;if(this.hasValue)for(e=0;t>e;e++){var r=n[e];r.onNext(this.value),r.onCompleted()}else for(e=0;t>e;e++)n[e].onCompleted();this.observers.length=0}},onError:function(e){if(Ft(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=e;for(var t=0,n=o(this.observers),r=n.length;r>t;t++)n[t].onError(e);this.observers.length=0}},onNext:function(e){Ft(this),this.isStopped||(this.value=e,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.exception=null,this.value=null}}),n}(_n),zr=De.AnonymousSubject=function(e){function t(e){return this.observable.subscribe(e)}function n(n,r){this.observer=n,this.observable=r,e.call(this,t)}return Dt(n,e),At(n.prototype,hn.prototype,{onCompleted:function(){this.observer.onCompleted()},onError:function(e){this.observer.onError(e)},onNext:function(e){this.observer.onNext(e)}}),n}(_n);De.Pauser=function(e){function t(){e.call(this)}return Dt(t,e),t.prototype.pause=function(){this.onNext(!1)},t.prototype.resume=function(){this.onNext(!0)},t}(Vr),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(je.Rx=De,define(function(){return De})):Ne&&Re?Te?(Re.exports=De).Rx=De:Ne.Rx=De:je.Rx=De;var Fr=d()}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/index.js":[function(e,t,n){!function(n){var r=e("./lib/cross-platform-shapes");t&&t.exports&&(t.exports=r),n&&(n.crossPlatformShapes=r)}(window)},{"./lib/cross-platform-shapes":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/cross-platform-shapes.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/canvas/canvas.js":[function(e,t,n){t.exports={}},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/cross-platform-shapes.js":[function(e,t,n){var r=e("lodash"),i={presetShapes:e("./preset-shapes/preset-shapes"),svg:e("./svg/svg"),canvas:e("./canvas/canvas"),customShapes:e("./custom-shapes"),getInstance:function(e,t){var n,o=r.cloneDeep(this),s=e.customShapes,a=e.targetSelector,u=e.targetElement||document.querySelector(a),c=u.tagName.toLowerCase();return n="div"===c?e.format:c,e.targetElement=u,e.targetTagName=c,o[n]=o[n].getInstance(o,e),o[n].targetTagName=c,r.forIn(i.presetShapes,function(e,t){o[t]=function(e,r){return o[n].path.render(o,t,e,r)}}),s&&(o.customShapes=s,r.forIn(s,function(e,t){o[t]=function(e,r){return o[n].image.render(o,t,e,r)}})),o}};t.exports=i},{"./canvas/canvas":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/canvas/canvas.js","./custom-shapes":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/custom-shapes.js","./preset-shapes/preset-shapes":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/preset-shapes.js","./svg/svg":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/svg/svg.js",lodash:"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/node_modules/lodash/dist/lodash.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/custom-shapes.js":[function(e,t,n){t.exports={arc:{href:"http://www.example.org/arc.png"},brace:{href:"http://www.example.org/brace.png"},rectangle:{href:"http://www.example.org/rectangle.png"
}}},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/arc.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=o*(2/3),a=[{command:"moveTo",points:[n,r]},{command:"bezierCurveTo",points:[n,r+s,n+i,r+s,n+i,r]}];return a}return{getPathSegments:e}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/arrow.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=[{command:"moveTo",points:[n,r]},{command:"lineTo",points:[n+i,r+o/2]},{command:"lineTo",points:[n,r+o]},{command:"closePath",points:[]}];return s}function t(e){return{markerWidth:12,markerHeight:12}}return{getPathSegments:e,getDimensions:t}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/brace.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=[{command:"moveTo",points:[n,r+o]},{command:"bezierCurveTo",points:[n,r,n+i/2,r+o,n+i/2,r]},{command:"bezierCurveTo",points:[n+i/2,r+o,n+i,r,n+i,r+o]}];return s}return{getPathSegments:e}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/complex.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=[{command:"moveTo",points:[n+18,r]},{command:"lineTo",points:[n+i-18,r]},{command:"lineTo",points:[n+i,r+18]},{command:"lineTo",points:[n+i,r+o-18]},{command:"lineTo",points:[n+i-18,r+o]},{command:"lineTo",points:[n+18,r+o]},{command:"lineTo",points:[n,r+o-18]},{command:"lineTo",points:[n,r+18]},{command:"closePath",points:[]}];return s}return{getPathSegments:e}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/ellipse.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=n+i/2,a=r+o/2,u=2*i/3,c=o/2,l=[{command:"moveTo",points:[s,a-c]},{command:"bezierCurveTo",points:[s+u,a-c,s+u,a+c,s,a+c]},{command:"bezierCurveTo",points:[s-u,a+c,s-u,a-c,s,a-c]}];return l}return{getPathSegments:e}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/ellipseDouble.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=e.presetShapes.ellipse.getPathSegments(e,t),r=t,i=2*t.borderWidth||6;r.x=t.x+i,r.y=t.y+i,r.width=t.width-2*i,r.height=t.height-2*i;var o=e.presetShapes.ellipse.getPathSegments(e,r),s=n.concat(o);return s}return{getPathSegments:e}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/endoplasmicReticulum.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=[{command:"moveTo",points:[n,r]},{command:"lineTo",points:[n+i,r]},{command:"lineTo",points:[n+i,r+o]},{command:"lineTo",points:[n,r+o]},{command:"closePath",points:[]}];return s}return{getPathSegments:e}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/golgiApparatus.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=[{command:"moveTo",points:[n,r]},{command:"lineTo",points:[n+i,r]},{command:"lineTo",points:[n+i,r+o]},{command:"lineTo",points:[n,r+o]},{command:"closePath",points:[]}];return s}return{getPathSegments:e}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/hexagon.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=[{command:"moveTo",points:[n+.25*i,r]},{command:"lineTo",points:[n+.75*i,r]},{command:"lineTo",points:[n+i,r+.5*o]},{command:"lineTo",points:[n+.75*i,r+o]},{command:"lineTo",points:[n+.25*i,r+o]},{command:"lineTo",points:[n,r+.5*o]},{command:"closePath",points:[]}];return s}return{getPathSegments:e}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/lineCatmullRom.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){for(var n=t.points,r=n.length,i=n[0],o=[{command:"moveTo",points:[i.x,i.y]}],s=0;r-1>s;s++){var a=[];0===s?(a.push({x:parseFloat(n[s].x),y:parseFloat(n[s].y)}),a.push({x:parseFloat(n[s].x),y:parseFloat(n[s].y)}),a.push({x:parseFloat(n[s+1].x),y:parseFloat(n[s+1].y)}),a.push({x:parseFloat(n[s+2].x),y:parseFloat(n[s+2].y)})):s===r-2?(a.push({x:parseFloat(n[s-1].x),y:parseFloat(n[s-1].y)}),a.push({x:parseFloat(n[s].x),y:parseFloat(n[s].y)}),a.push({x:parseFloat(n[s+1].x),y:parseFloat(n[s+1].y)}),a.push({x:parseFloat(n[s+1].x),y:parseFloat(n[s+1].y)})):(a.push({x:parseFloat(n[s-1].x),y:parseFloat(n[s-1].y)}),a.push({x:parseFloat(n[s].x),y:parseFloat(n[s].y)}),a.push({x:parseFloat(n[s+1].x),y:parseFloat(n[s+1].y)}),a.push({x:parseFloat(n[s+2].x),y:parseFloat(n[s+2].y)}));var u=[];u.push([(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6]),u.push([(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6]),u.push([a[2].x,a[2].y]),o.push({command:"bezierCurveTo",points:u})}return o}function t(e,t){return{x:0,y:0}}return{getPathSegments:e,getPointAtPosition:t}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/lineCurved.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){function n(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function r(e,t,r){var i=[];i.push([n(o,t),n(o,r)]),i.push([n(s,t),n(s,r)]),i.push([n(a,t),n(a,r)]),e.push({command:"bezierCurveTo",points:i})}function i(e){var t=Math.abs(Math.abs(e[0])-1),n=Math.abs(Math.abs(e[1])-1);return[t,n]}var o=[0,2/3,1/3,0],s=[0,1/3,2/3,0],a=[0,1/6,2/3,1/6],u=t.points,c=u.length,l=u[0],d=u[c-1],f=[];f.push(l);var h=[],p=[{command:"moveTo",points:[l.x,l.y]}],m=[];l.anchor?(m.push(l.anchor[2]),m.push(l.anchor[3])):(m=[1,0],console.warn('No anchor specified for edge "'+t.id+'"'));var v=.75,b=t.markerStart;if(b&&l.anchor&&"undefined"!=typeof l.anchor[2]&&"undefined"!=typeof l.anchor[3]&&e.presetShapes[b]){var g,y={},w=e.presetShapes[b].getDimensions(e);g=w?v*w.markerHeight:12,y.x=l.anchor[2]*g+l.x,y.y=l.anchor[3]*g+l.y,p.push({command:"lineTo",points:[y.x,y.y]}),f[0]=y}var _=t.markerEnd;if(_&&d.anchor&&"undefined"!=typeof d.anchor[2]&&"undefined"!=typeof d.anchor[3]&&e.presetShapes[_]){h.push({command:"lineTo",points:[d.x,d.y]});var x,k={},S=e.presetShapes[_].getDimensions(e);x=S?v*S.markerHeight:12,k.x=d.anchor[2]*x+d.x,k.y=d.anchor[3]*x+d.y,u[c-1]=d=k}u.forEach(function(e,t){var n,r;t>0&&c>t&&(n=Math.abs(m[0])*(u[t].x-u[t-1].x)+u[t-1].x,r=Math.abs(m[1])*(u[t].y-u[t-1].y)+u[t-1].y,f.push({x:n,y:r}),m=i(m))}),f.push(d);var C=1,E=f.length,j=f[0],N=j.x,R=j.y,T=[N,N,N,(j=f[1]).x],U=[R,R,R,j.y];for(p.push({command:"lineTo",points:[n(a,T),n(a,U)]}),f.push(f[E-1]);++C<=E;)j=f[C],T.shift(),T.push(j.x),U.shift(),U.push(j.y),r(p,T,U);return f.pop(),p.push({command:"lineTo",points:[j.x,j.y]}),p=p.concat(h)}function t(e,t){return{x:0,y:0}}return{getPathSegments:e,getPointAtPosition:t}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/lineElbow.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){function n(e){var t=Math.abs(Math.abs(e[0])-1),n=Math.abs(Math.abs(e[1])-1);return[t,n]}var r=t.points,i=r.length,o=r[0],s=r[i-1],a=[{command:"moveTo",points:[o.x,o.y]}],u=[];return o.anchor?(u.push(o.anchor[2]),u.push(o.anchor[3])):(u=[1,0],console.warn('No anchor specified for edge "'+t.id+'"')),r.forEach(function(e,t){if(t>0&&i>t){var o=Math.abs(u[0])*(r[t].x-r[t-1].x)+r[t-1].x,s=Math.abs(u[1])*(r[t].y-r[t-1].y)+r[t-1].y;a.push({command:"lineTo",points:[o,s]}),u=n(u)}}),a.push({command:"lineTo",points:[s.x,s.y]}),a}function t(e,t){return{x:0,y:0}}return{getPathSegments:e,getPointAtPosition:t}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/lineSegmented.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.points,r=n[0],i=[{command:"moveTo",points:[r.x,r.y]}];return n.forEach(function(e,t){t>0&&i.push({command:"lineTo",points:[e.x,e.y]})}),i}function t(e,t){return{x:0,y:0}}return{getPathSegments:e,getPointAtPosition:t}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/lineStraight.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.points[0].x,r=t.points[0].y,i=t.points[1].x,o=t.points[1].y,s=[{command:"moveTo",points:[n,r]},{command:"lineTo",points:[i,o]}];return s}function t(e,t){var n=e.points[0].x,r=e.points[0].y,i=e.points[1].x,o=e.points[1].y,s=n+(i-n)*t,a=r+(o-r)*t;return{x:s,y:a}}return{getPathSegments:e,getPointAtPosition:t}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBinding.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=o*(2/3),a=[{command:"moveTo",points:[n,r]},{command:"bezierCurveTo",points:[n,r+s,n+i,r+s,n+i,r]}];return a}function t(){return{markerWidth:12,markerHeight:12}}return{getPathSegments:e,getDimensions:t}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=o*(2/3),a=[{command:"moveTo",points:[n,r]},{command:"bezierCurveTo",points:[n,r+s,n+i,r+s,n+i,r]}];return a}function t(e){return{markerWidth:12,markerHeight:12}}return{getPathSegments:e,getDimensions:t}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingRight.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimCatalysis.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimCleavage.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=o*(2/3),a=[{command:"moveTo",points:[n,r]},{command:"bezierCurveTo",points:[n,r+s,n+i,r+s,n+i,r]}];return a}function t(e){return{markerWidth:20,markerHeight:30}}return{getPathSegments:e,getDimensions:t}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimConversion.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimCovalentBond.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimDegradation.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=e.presetShapes.ellipse.getPathSegments(e,t),a=[{command:"moveTo",points:[n,r]},{command:"lineTo",points:[n+i,r+o]}],u=s.concat(a);return u}return{getPathSegments:e}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimGap.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimInhibition.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=o*(2/3),a=[{command:"moveTo",points:[n,r]},{command:"bezierCurveTo",points:[n,r+s,n+i,r+s,n+i,r]}];return a}function t(e){return{markerWidth:10,markerHeight:20}}return{getPathSegments:e,getDimensions:t}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimModification.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimNecessaryStimulation.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=o*(2/3),a=[{command:"moveTo",points:[n,r]},{command:"bezierCurveTo",points:[n,r+s,n+i,r+s,n+i,r]}];return a}function t(e){return{markerWidth:16,markerHeight:12}}return{getPathSegments:e,getDimensions:t}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimStimulation.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimTranscriptionTranslation.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=o*(2/3),a=[{command:"moveTo",points:[n,r]},{command:"bezierCurveTo",points:[n,r+s,n+i,r+s,n+i,r]}];return a}function t(e){return{markerWidth:20,markerHeight:24}}return{getPathSegments:e,getDimensions:t}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mitochondria.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=(t.x,t.y,t.width,t.height,e.presetShapes.ellips.getPathSegmentse(e,t)),r=n;return r}return{getPathSegments:e}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/pentagon.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=[{command:"moveTo",points:[n,r+.81*o]},{command:"lineTo",points:[n,r+.19*o]},{command:"lineTo",points:[n+.62*i,r]},{command:"lineTo",points:[n+i,r+.5*o]},{command:"lineTo",points:[n+.62*i,r+o]},{command:"closePath",points:[]}];return s}return{getPathSegments:e}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/preset-shapes.js":[function(e,t,n){var r={arc:e("./arc"),arrow:e("./arrow"),brace:e("./brace"),complex:e("./complex"),ellipse:e("./ellipse"),ellipseDouble:e("./ellipseDouble"),endoplasmicReticulum:e("./endoplasmicReticulum"),golgiApparatus:e("./golgiApparatus"),hexagon:e("./hexagon"),lineCatmullRom:e("./lineCatmullRom"),lineCurved:e("./lineCurved"),lineElbow:e("./lineElbow"),lineSegmented:e("./lineSegmented"),lineStraight:e("./lineStraight"),mimBinding:e("./mimBinding"),mimBranchingLeft:e("./mimBranchingLeft"),mimBranchingRight:e("./mimBranchingRight"),mimCatalysis:e("./mimCatalysis"),mimCleavage:e("./mimCleavage"),mimConversion:e("./mimConversion"),mimCovalentBond:e("./mimCovalentBond"),mimDegradation:e("./mimDegradation"),mimGap:e("./mimGap"),mimInhibition:e("./mimInhibition"),mimModification:e("./mimModification"),mimNecessaryStimulation:e("./mimNecessaryStimulation"),mimStimulation:e("./mimStimulation"),mimTranscriptionTranslation:e("./mimTranscriptionTranslation"),mitochondria:e("./mitochondria"),pentagon:e("./pentagon"),rectangle:e("./rectangle"),roundedRectangle:e("./roundedRectangle"),roundedRectangleDouble:e("./roundedRectangleDouble"),sarcoplasmicReticulum:e("./sarcoplasmicReticulum"),tBar:e("./tBar"),triangle:e("./triangle")};t.exports=r},{"./arc":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/arc.js","./arrow":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/arrow.js","./brace":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/brace.js","./complex":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/complex.js","./ellipse":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/ellipse.js","./ellipseDouble":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/ellipseDouble.js","./endoplasmicReticulum":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/endoplasmicReticulum.js","./golgiApparatus":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/golgiApparatus.js","./hexagon":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/hexagon.js","./lineCatmullRom":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/lineCatmullRom.js","./lineCurved":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/lineCurved.js","./lineElbow":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/lineElbow.js","./lineSegmented":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/lineSegmented.js","./lineStraight":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/lineStraight.js","./mimBinding":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBinding.js","./mimBranchingLeft":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingLeft.js","./mimBranchingRight":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimBranchingRight.js","./mimCatalysis":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimCatalysis.js","./mimCleavage":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimCleavage.js","./mimConversion":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimConversion.js","./mimCovalentBond":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimCovalentBond.js","./mimDegradation":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimDegradation.js","./mimGap":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimGap.js","./mimInhibition":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimInhibition.js","./mimModification":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimModification.js","./mimNecessaryStimulation":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimNecessaryStimulation.js","./mimStimulation":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimStimulation.js","./mimTranscriptionTranslation":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mimTranscriptionTranslation.js","./mitochondria":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/mitochondria.js","./pentagon":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/pentagon.js","./rectangle":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/rectangle.js","./roundedRectangle":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/roundedRectangle.js","./roundedRectangleDouble":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/roundedRectangleDouble.js","./sarcoplasmicReticulum":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/sarcoplasmicReticulum.js","./tBar":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/tBar.js","./triangle":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/triangle.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/rectangle.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=[{command:"moveTo",points:[n,r]},{command:"lineTo",points:[n+i,r]},{command:"lineTo",points:[n+i,r+o]},{command:"lineTo",points:[n,r+o]},{command:"closePath",points:[]}];return s}return{getPathSegments:e}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/roundedRectangle.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=[{command:"moveTo",points:[n,r+10]},{command:"bezierCurveTo",points:[n,r+10-5.43379,n+4.56621,r,n+10,r]},{command:"lineTo",points:[n+i-10,r]},{command:"bezierCurveTo",points:[n+i-10+5.43379,r,n+i,r+4.56621,n+i,r+10]},{command:"lineTo",points:[n+i,r+o-10]},{command:"bezierCurveTo",points:[n+i,r+o-10+5.43379,n+i-4.56621,r+o,n+i-10,r+o]},{command:"lineTo",points:[n+10,r+o]},{command:"bezierCurveTo",points:[n+10-5.43379,r+o,n,r+o-4.56621,n,r+o-10]},{command:"lineTo",points:[n,r+10]}];return s}return{getPathSegments:e}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/roundedRectangleDouble.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=t.borderWidth,a=e.presetShapes.roundedRectangle.getPathSegments(e,t),u=t,c=2*s||6;u.x=n+c,u.y=r+c,u.width=i-2*c,u.height=o-2*c;var l=e.presetShapes.roundedRectangle.getPathSegments(e,u),d=a.concat(l);return d}return{getPathSegments:e}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/sarcoplasmicReticulum.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=[{command:"moveTo",points:[n,r]},{command:"lineTo",points:[n+i,r]},{command:"lineTo",points:[n+i,r+o]},{command:"lineTo",points:[n,r+o]},{command:"closePath",points:[]}];return s}return{getPathSegments:e}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/tBar.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=(t.width,t.height),o=[{command:"moveTo",points:[n,r]},{command:"lineTo",points:[n,r+i]}];return o}function t(e){return{markerWidth:10,markerHeight:20}}return{getPathSegments:e,getDimensions:t}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/preset-shapes/triangle.js":[function(e,t,n){t.exports=function(){"use strict";function e(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=[{command:"moveTo",points:[n,r]},{command:"lineTo",points:[n+i,r+o/2]},{command:"lineTo",points:[n,r+o]},{command:"closePath",points:[]}];return s}return{getPathSegments:e}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/svg/image.js":[function(e,t,n){t.exports={render:function(e,t,n){var r=e.customShapes,i=(e.svgNS,d3.select(e.targetSvg).select(n.containerSelector).append("image").attr("xlink:xlink:href",r[t].href).attr("x",n.x||0).attr("y",n.y||0).attr("preserveAspectRatio","none").attr("width",n.width||0).attr("height",n.height||0)),o=n.id;o&&i.attr("id",o);var s=n.rotation;return s&&i.attr("transform","rotate("+s+","+(n.x+n.width/2)+","+(n.y+n.height/2)+")"),i[0][0]}}},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/svg/marker.js":[function(e,t,n){t.exports={generateId:function(e,t,n){var r=("id-"+e+"-"+t+"-"+n).replace(/[^A-Za-z0-9-]/g,"").toLowerCase();return r},append:function(e,t,n,r,i){var o=e.availableMarkers,s=e.targetSvgDefs,a=e.backgroundColor,u={arrow:{shapes:[{elementTag:"rect",x:0,y:5.4,width:2,height:1.2,stroke:a,fill:a},{elementTag:"polygon",points:"12,11 0,6 12,1","stroke-width":0,fill:r}]},mimBinding:{shapes:[{elementTag:"rect",x:0,y:5.4,width:2,height:1.2,stroke:a,fill:a},{elementTag:"polygon",points:"12,12 0,6 12,0 5,6","stroke-width":0,fill:r}]},mimNecessaryStimulation:{shapes:[{elementTag:"rect",x:0,y:5.4,width:2,height:1.2,stroke:"none",fill:a},{elementTag:"line",x1:14,y1:0,x2:14,y2:12,stroke:r,"stroke-width":1,fill:"none"},{elementTag:"line",x1:16,y1:6,x2:16,y2:6,stroke:"none",fill:"none"},{elementTag:"polygon",points:"0,6 9,11 9,1","stroke-width":1,stroke:r,fill:a}]},mimStimulation:{shapes:[{elementTag:"rect",x:0,y:5.4,width:2,height:1.2,stroke:"none",fill:a},{elementTag:"line",x1:12,y1:6,x2:12,y2:6,stroke:"none",fill:"none"},{elementTag:"polygon",points:"0,6 11,11 11,1","stroke-width":1,stroke:r,fill:a}]},mimModification:{shapes:[{elementTag:"rect",x:0,y:5.4,width:2,height:1.2,stroke:a,fill:a},{elementTag:"polygon",points:"12,12 0,6 12,0 5,6","stroke-width":0,fill:r}]},mimCatalysis:{shapes:[{elementTag:"circle",cx:6,cy:6,r:"5.3px",stroke:r,"stroke-width":1,fill:a}]},mimCleavage:{shapes:[{elementTag:"rect",x:0,y:14.3,width:18.4,height:1.4,stroke:a,fill:a},{elementTag:"line",stroke:r,"stroke-width":1,x1:18,y1:14.5,x2:18,y2:30},{elementTag:"line",stroke:r,"stroke-width":1,x1:18,y1:30,x2:0,y2:0}]},mimCovalentBond:{shapes:[{elementTag:"rect",x:0,y:0,width:0,height:0,stroke:a,"stroke-width":0,fill:a}]},mimTranscriptionTranslation:{shapes:[{elementTag:"rect",x:0,y:11,width:12,height:2,stroke:a,fill:a},{elementTag:"line",stroke:r,fill:"none","stroke-width":1,x1:15,y1:12,x2:15,y2:5},{elementTag:"line",stroke:r,fill:"none","stroke-width":1,x1:15.5,y1:5,x2:8,y2:5},{elementTag:"polygon",points:"0,5 8,1 8,9","stroke-width":1,stroke:r,fill:a}]},mimGap:{shapes:[{elementTag:"rect",x:0,y:5.3,width:8,height:1.4,stroke:"none",fill:a}]},mimBranchingLeft:{shapes:[{elementTag:"rect",x:.4,y:5.3,width:3.1,height:1.4,fill:a,stroke:"none"},{elementTag:"line",fill:"none",stroke:r,"stroke-width":1,x1:3.9,y1:6.2,x2:.2,y2:0}]},mimBranchingRight:{shapes:[{elementTag:"rect",x:.4,y:5.3,width:3.1,height:1.4,fill:a,stroke:"none"},{elementTag:"line",fill:"none",stroke:r,"stroke-width":1,x1:.2,y1:12,x2:3.9,y2:5.8}]},tBar:{shapes:[{elementTag:"rect",x:0,y:9,width:8,height:2,fill:a},{elementTag:"line",x:0,y:0,width:12,height:12,stroke:r,"stroke-width":1.8,x1:7,y1:0,x2:7,y2:20}]}};if(u.mimInhibition=u.tBar,u.mimConversion=u.arrow,u[t]){u[t].markerElement=e.presetShapes[t].getDimensions();var c=e.svg.marker.generateId(t,n,r),l="url(#"+c+")";if(o[c])return i(l);var d=d3.select(s).append("marker").attr("id",c).attr("orient","auto").attr("markerUnits","strokeWidth").attr("preserveAspectRatio","none").attr("refY",u[t].markerElement.markerHeight/2).attr("viewBox","0 0 "+u[t].markerElement.markerWidth+" "+u[t].markerElement.markerHeight);d3.map(u[t].markerElement).entries().forEach(function(e){d.attr(e.key,e.value)}),"end"===n?d.attr("refX",u[t].markerElement.markerWidth):d.attr("refX",0);var f=d.append("g").attr("id","g-"+c);return"end"===n&&f.attr("transform","rotate(180, "+u[t].markerElement.markerWidth/2+", "+u[t].markerElement.markerHeight/2+")"),u[t].shapes.forEach(function(e){var t=f.append(e.elementTag);d3.map(e).entries().forEach(function(e){"elementTag"!==e.key&&t.attr(e.key,e.value)})}),o[c]=!0,i(l)}return console.warn('Marker (arrowhead) named "'+t+'" is not available.'),i("none")}}},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/svg/path.js":[function(e,t,n){t.exports={generateMarkerId:function(e,t,n){var r=("id-"+e+"-"+t+"-"+n).replace(/[^A-Za-z0-9-]/g,"").toLowerCase();return r},render:function(e,t,n,r){var i,o=e.targetSvg,s=(e.availableMarkers,e.svgNS,["color","markerStart","markerEnd"]),a={moveTo:"M",lineTo:"L",closePath:"Z",bezierCurveTo:"C",quadraticCurveTo:"Q"};i=n.containerSelector?d3.select(o).select(n.containerSelector).append("path"):d3.select(o).append("path");var u="",c=e.presetShapes[t].getPathSegments(e,n);c.forEach(function(e){u+=a[e.command],u+=e.points.join(",")}),i.attr("d",u);var l=n.backgroundColor||"transparent";i.attr("fill",l);var d,f,h,p={id:function(e){i.attr("id",e)},strokeDasharray:function(e){i.attr("stroke-dasharray",e)},fillOpacity:function(e){i.attr("fill-opacity",e)},color:function(e){d=e,i.attr("stroke",e)},markerStart:function(t){e.svg.marker.append(e,t,"start",d,function(e){i.attr("marker-start",e)})},markerEnd:function(t){e.svg.marker.append(e,t,"end",d,function(e){i.attr("marker-end",e)})},rotation:function(e){var t="rotate("+e+","+(n.x+n.width/2)+","+(n.y+n.height/2)+")";i.attr("transform",t)},borderWidth:function(e){i.attr("stroke-width",e)}},m=d3.map(n).entries().sort(function(e,t){return s.indexOf(e.key)-s.indexOf(t.key)});return m.forEach(function(e){f=e.key,h=e.value,p.hasOwnProperty(f)&&p[f](h)}),r?r(i[0][0]):i[0][0]}}},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/svg/svg.js":[function(e,t,n){t.exports={xmlNS:"http://www.w3.org/XML/1998/namespace",svgNS:"http://www.w3.org/2000/svg",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",createOrGetSvg:function(e,t){{var n=t.width||"100%",r=t.height||"100%",i=t.backgroundColor||"#ffffff",o=t.targetElement;t.targetTagName}e.backgroundColor=i;var s="svg"===o.tagName||"SVG"===o.tagName?o:o.ownerSVGElement||!!o.correspondingElement&&o.correspondingElement.ownerSVGElement;if(!s){var a=t.id||"svg-"+(new Date).toISOString().replace(/\D/g,"");s=document.createElementNS(this.svgNS,"svg"),s.setAttributeNS(this.xmlnsNS,"xmlns",this.svgNS),s.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),s.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),s.setAttribute("id",a),s.setAttribute("version","1.1"),s.setAttribute("baseProfile","full"),s.setAttribute("preserveAspectRatio","xMidYMid"),s.setAttribute("width",n),s.setAttribute("height",r),s.setAttribute("style","background-color:"+i+"; "),o.appendChild(s)}return e.targetSvg=s,s},getOrCreateViewport:function(e,t){var n=t.querySelector("g.viewport");if(!n){var r="viewport-"+(new Date).toISOString().replace(/\D/g,"");n=document.createElementNS(this.svgNS,"g"),n.setAttribute("id",r),n.setAttribute("class","viewport");var i=t.childNodes||t.children;if(i&&i.length>0)do n.appendChild(i[0]);while(i.length>0);t.appendChild(n)}return n},createOrGetDefs:function(e,t){var n=t.querySelector("defs");return n||(n=document.createElementNS(this.svgNS,"defs"),t.appendChild(n)),e.targetSvgDefs=n,n},getInstance:function(e,t){t.targetElement,t.targetTagName;e.svgNS=this.svgNS;{var n=e.svg,r=this.createOrGetSvg(e,t);this.createOrGetDefs(e,r),this.createOrGetDefs(e,r)}return e.availableMarkers={},n},path:e("./path"),image:e("./image"),marker:e("./marker")
}},{"./image":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/svg/image.js","./marker":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/svg/marker.js","./path":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/lib/svg/path.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-shapes/node_modules/lodash/dist/lodash.js":[function(e,t,n){(function(e){(function(){function r(e,t,n){for(var r=(n||0)-1,i=e?e.length:0;++r<i;)if(e[r]===t)return r;return-1}function i(e,t){var n=typeof t;if(e=e.cache,"boolean"==n||null==t)return e[t]?0:-1;"number"!=n&&"string"!=n&&(n="object");var i="number"==n?t:w+t;return e=(e=e[n])&&e[i],"object"==n?e&&r(e,t)>-1?0:-1:e?0:-1}function o(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:w+e,i=t[n]||(t[n]={});"object"==n?(i[r]||(i[r]=[])).push(e):i[r]=!0}}function s(e){return e.charCodeAt(0)}function a(e,t){for(var n=e.criteria,r=t.criteria,i=-1,o=n.length;++i<o;){var s=n[i],a=r[i];if(s!==a){if(s>a||"undefined"==typeof s)return 1;if(a>s||"undefined"==typeof a)return-1}}return e.index-t.index}function u(e){var t=-1,n=e.length,r=e[0],i=e[n/2|0],s=e[n-1];if(r&&"object"==typeof r&&i&&"object"==typeof i&&s&&"object"==typeof s)return!1;var a=d();a["false"]=a["null"]=a["true"]=a.undefined=!1;var u=d();for(u.array=e,u.cache=a,u.push=o;++t<n;)u.push(e[t]);return u}function c(e){return"\\"+P[e]}function l(){return b.pop()||[]}function d(){return g.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function f(e){e.length=0,b.length<x&&b.push(e)}function h(e){var t=e.cache;t&&h(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,g.length<x&&g.push(e)}function p(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,i=n-t||0,o=Array(0>i?0:i);++r<i;)o[r]=e[t+r];return o}function m(e){function t(e){return e&&"object"==typeof e&&!Kn(e)&&On.call(e,"__wrapped__")?e:new n(e)}function n(e,t){this.__chain__=!!t,this.__wrapped__=e}function o(e){function t(){if(r){var e=p(r);In.apply(e,arguments)}if(this instanceof t){var o=g(n.prototype),s=n.apply(o,e||arguments);return Te(s)?s:o}return n.apply(i,e||arguments)}var n=e[0],r=e[2],i=e[4];return Hn(t,e),t}function b(e,t,n,r,i){if(n){var o=n(e);if("undefined"!=typeof o)return o}var s=Te(e);if(!s)return e;var a=jn.call(e);if(!Y[a])return e;var u=Qn[a];switch(a){case B:case L:return new u(+e);case G:case X:return new u(e);case F:return o=u(e.source,N.exec(e)),o.lastIndex=e.lastIndex,o}var c=Kn(e);if(t){var d=!r;r||(r=l()),i||(i=l());for(var h=r.length;h--;)if(r[h]==e)return i[h];o=c?u(e.length):{}}else o=c?p(e):or({},e);return c&&(On.call(e,"index")&&(o.index=e.index),On.call(e,"input")&&(o.input=e.input)),t?(r.push(e),i.push(o),(c?Pe:ur)(e,function(e,s){o[s]=b(e,t,n,r,i)}),d&&(f(r),f(i)),o):o}function g(e,t){return Te(e)?Ln(e):{}}function x(e,t,n){if("function"!=typeof e)return Ht;if("undefined"==typeof t||!("prototype"in e))return e;var r=e.__bindData__;if("undefined"==typeof r&&(Pn.funcNames&&(r=!e.name),r=r||!Pn.funcDecomp,!r)){var i=Dn.call(e);Pn.funcNames||(r=!R.test(i)),r||(r=A.test(i),Hn(e,r))}if(r===!1||r!==!0&&1&r[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return Ot(e,t)}function P(e){function t(){var e=u?s:this;if(i){var h=p(i);In.apply(h,arguments)}if((o||l)&&(h||(h=p(arguments)),o&&In.apply(h,o),l&&h.length<a))return r|=16,P([n,d?r:-4&r,h,null,s,a]);if(h||(h=arguments),c&&(n=e[f]),this instanceof t){e=g(n.prototype);var m=n.apply(e,h);return Te(m)?m:e}return n.apply(e,h)}var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=1&r,c=2&r,l=4&r,d=8&r,f=n;return Hn(t,e),t}function K(e,t){var n=-1,o=ue(),s=e?e.length:0,a=s>=_&&o===r,c=[];if(a){var l=u(t);l?(o=i,t=l):a=!1}for(;++n<s;){var d=e[n];o(t,d)<0&&c.push(d)}return a&&h(t),c}function $(e,t,n,r){for(var i=(r||0)-1,o=e?e.length:0,s=[];++i<o;){var a=e[i];if(a&&"object"==typeof a&&"number"==typeof a.length&&(Kn(a)||fe(a))){t||(a=$(a,t,n));var u=-1,c=a.length,l=s.length;for(s.length+=c;++u<c;)s[l++]=a[u]}else n||s.push(a)}return s}function ee(e,t,n,r,i,o){if(n){var s=n(e,t);if("undefined"!=typeof s)return!!s}if(e===t)return 0!==e||1/e==1/t;var a=typeof e,u=typeof t;if(!(e!==e||e&&Q[a]||t&&Q[u]))return!1;if(null==e||null==t)return e===t;var c=jn.call(e),d=jn.call(t);if(c==M&&(c=z),d==M&&(d=z),c!=d)return!1;switch(c){case B:case L:return+e==+t;case G:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case F:case X:return e==xn(t)}var h=c==Z;if(!h){var p=On.call(e,"__wrapped__"),m=On.call(t,"__wrapped__");if(p||m)return ee(p?e.__wrapped__:e,m?t.__wrapped__:t,n,r,i,o);if(c!=z)return!1;var v=e.constructor,b=t.constructor;if(v!=b&&!(Re(v)&&v instanceof v&&Re(b)&&b instanceof b)&&"constructor"in e&&"constructor"in t)return!1}var g=!i;i||(i=l()),o||(o=l());for(var y=i.length;y--;)if(i[y]==e)return o[y]==t;var w=0;if(s=!0,i.push(e),o.push(t),h){if(y=e.length,w=t.length,s=w==y,s||r)for(;w--;){var _=y,x=t[w];if(r)for(;_--&&!(s=ee(e[_],x,n,r,i,o)););else if(!(s=ee(e[w],x,n,r,i,o)))break}}else ar(t,function(t,a,u){return On.call(u,a)?(w++,s=On.call(e,a)&&ee(e[a],t,n,r,i,o)):void 0}),s&&!r&&ar(e,function(e,t,n){return On.call(n,t)?s=--w>-1:void 0});return i.pop(),o.pop(),g&&(f(i),f(o)),s}function te(e,t,n,r,i){(Kn(t)?Pe:ur)(t,function(t,o){var s,a,u=t,c=e[o];if(t&&((a=Kn(t))||cr(t))){for(var l=r.length;l--;)if(s=r[l]==t){c=i[l];break}if(!s){var d;n&&(u=n(c,t),(d="undefined"!=typeof u)&&(c=u)),d||(c=a?Kn(c)?c:[]:cr(c)?c:{}),r.push(t),i.push(c),d||te(c,t,n,r,i)}}else n&&(u=n(c,t),"undefined"==typeof u&&(u=t)),"undefined"!=typeof u&&(c=u);e[o]=c})}function re(e,t){return e+Un(qn()*(t-e+1))}function ie(e,t,n){var o=-1,s=ue(),a=e?e.length:0,c=[],d=!t&&a>=_&&s===r,p=n||d?l():c;if(d){var m=u(p);s=i,p=m}for(;++o<a;){var v=e[o],b=n?n(v,o,e):v;(t?!o||p[p.length-1]!==b:s(p,b)<0)&&((n||d)&&p.push(b),c.push(v))}return d?(f(p.array),h(p)):n&&f(p),c}function oe(e){return function(n,r,i){var o={};r=t.createCallback(r,i,3);var s=-1,a=n?n.length:0;if("number"==typeof a)for(;++s<a;){var u=n[s];e(o,u,r(u,s,n),n)}else ur(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function se(e,t,n,r,i,s){var a=1&t,u=2&t,c=4&t,l=16&t,d=32&t;if(!u&&!Re(e))throw new kn;l&&!n.length&&(t&=-17,l=n=!1),d&&!r.length&&(t&=-33,d=r=!1);var f=e&&e.__bindData__;if(f&&f!==!0)return f=p(f),f[2]&&(f[2]=p(f[2])),f[3]&&(f[3]=p(f[3])),!a||1&f[1]||(f[4]=i),!a&&1&f[1]&&(t|=8),!c||4&f[1]||(f[5]=s),l&&In.apply(f[2]||(f[2]=[]),n),d&&Zn.apply(f[3]||(f[3]=[]),r),f[1]|=t,se.apply(null,f);var h=1==t||17===t?o:P;return h([e,t,n,r,i,s])}function ae(e){return tr[e]}function ue(){var e=(e=t.indexOf)===bt?r:e;return e}function ce(e){return"function"==typeof e&&Nn.test(e)}function le(e){var t,n;return e&&jn.call(e)==z&&(t=e.constructor,!Re(t)||t instanceof t)?(ar(e,function(e,t){n=t}),"undefined"==typeof n||On.call(e,n)):!1}function de(e){return nr[e]}function fe(e){return e&&"object"==typeof e&&"number"==typeof e.length&&jn.call(e)==M||!1}function he(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n=t,t=!1),b(e,t,"function"==typeof n&&x(n,r,1))}function pe(e,t,n){return b(e,!0,"function"==typeof t&&x(t,n,1))}function me(e,t){var n=g(e);return t?or(n,t):n}function ve(e,n,r){var i;return n=t.createCallback(n,r,3),ur(e,function(e,t,r){return n(e,t,r)?(i=t,!1):void 0}),i}function be(e,n,r){var i;return n=t.createCallback(n,r,3),ye(e,function(e,t,r){return n(e,t,r)?(i=t,!1):void 0}),i}function ge(e,t,n){var r=[];ar(e,function(e,t){r.push(t,e)});var i=r.length;for(t=x(t,n,3);i--&&t(r[i--],r[i],e)!==!1;);return e}function ye(e,t,n){var r=er(e),i=r.length;for(t=x(t,n,3);i--;){var o=r[i];if(t(e[o],o,e)===!1)break}return e}function we(e){var t=[];return ar(e,function(e,n){Re(e)&&t.push(n)}),t.sort()}function _e(e,t){return e?On.call(e,t):!1}function xe(e){for(var t=-1,n=er(e),r=n.length,i={};++t<r;){var o=n[t];i[e[o]]=o}return i}function ke(e){return e===!0||e===!1||e&&"object"==typeof e&&jn.call(e)==B||!1}function Se(e){return e&&"object"==typeof e&&jn.call(e)==L||!1}function Ce(e){return e&&1===e.nodeType||!1}function Ee(e){var t=!0;if(!e)return t;var n=jn.call(e),r=e.length;return n==Z||n==X||n==M||n==z&&"number"==typeof r&&Re(e.splice)?!r:(ur(e,function(){return t=!1}),t)}function je(e,t,n,r){return ee(e,t,"function"==typeof n&&x(n,r,2))}function Ne(e){return Gn(e)&&!zn(parseFloat(e))}function Re(e){return"function"==typeof e}function Te(e){return!(!e||!Q[typeof e])}function Ue(e){return Ae(e)&&e!=+e}function De(e){return null===e}function Ae(e){return"number"==typeof e||e&&"object"==typeof e&&jn.call(e)==G||!1}function Oe(e){return e&&"object"==typeof e&&jn.call(e)==F||!1}function Ie(e){return"string"==typeof e||e&&"object"==typeof e&&jn.call(e)==X||!1}function We(e){return"undefined"==typeof e}function Me(e,n,r){var i={};return n=t.createCallback(n,r,3),ur(e,function(e,t,r){i[t]=n(e,t,r)}),i}function Ze(e){var t=arguments,n=2;if(!Te(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var r=x(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(r=t[--n]);for(var i=p(arguments,1,n),o=-1,s=l(),a=l();++o<n;)te(e,i[o],r,s,a);return f(s),f(a),e}function Be(e,n,r){var i={};if("function"!=typeof n){var o=[];ar(e,function(e,t){o.push(t)}),o=K(o,$(arguments,!0,!1,1));for(var s=-1,a=o.length;++s<a;){var u=o[s];i[u]=e[u]}}else n=t.createCallback(n,r,3),ar(e,function(e,t,r){n(e,t,r)||(i[t]=e)});return i}function Le(e){for(var t=-1,n=er(e),r=n.length,i=pn(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function Ve(e,n,r){var i={};if("function"!=typeof n)for(var o=-1,s=$(arguments,!0,!1,1),a=Te(e)?s.length:0;++o<a;){var u=s[o];u in e&&(i[u]=e[u])}else n=t.createCallback(n,r,3),ar(e,function(e,t,r){n(e,t,r)&&(i[t]=e)});return i}function Ge(e,n,r,i){var o=Kn(e);if(null==r)if(o)r=[];else{var s=e&&e.constructor,a=s&&s.prototype;r=g(a)}return n&&(n=t.createCallback(n,i,4),(o?Pe:ur)(e,function(e,t,i){return n(r,e,t,i)})),r}function ze(e){for(var t=-1,n=er(e),r=n.length,i=pn(r);++t<r;)i[t]=e[n[t]];return i}function Fe(e){for(var t=arguments,n=-1,r=$(t,!0,!1,1),i=t[2]&&t[2][t[1]]===e?1:r.length,o=pn(i);++n<i;)o[n]=e[r[n]];return o}function Xe(e,t,n){var r=-1,i=ue(),o=e?e.length:0,s=!1;return n=(0>n?Xn(0,o+n):n)||0,Kn(e)?s=i(e,t,n)>-1:"number"==typeof o?s=(Ie(e)?e.indexOf(t,n):i(e,t,n))>-1:ur(e,function(e){return++r>=n?!(s=e===t):void 0}),s}function Ye(e,n,r){var i=!0;n=t.createCallback(n,r,3);var o=-1,s=e?e.length:0;if("number"==typeof s)for(;++o<s&&(i=!!n(e[o],o,e)););else ur(e,function(e,t,r){return i=!!n(e,t,r)});return i}function Je(e,n,r){var i=[];n=t.createCallback(n,r,3);var o=-1,s=e?e.length:0;if("number"==typeof s)for(;++o<s;){var a=e[o];n(a,o,e)&&i.push(a)}else ur(e,function(e,t,r){n(e,t,r)&&i.push(e)});return i}function qe(e,n,r){n=t.createCallback(n,r,3);var i=-1,o=e?e.length:0;if("number"!=typeof o){var s;return ur(e,function(e,t,r){return n(e,t,r)?(s=e,!1):void 0}),s}for(;++i<o;){var a=e[i];if(n(a,i,e))return a}}function Qe(e,n,r){var i;return n=t.createCallback(n,r,3),He(e,function(e,t,r){return n(e,t,r)?(i=e,!1):void 0}),i}function Pe(e,t,n){var r=-1,i=e?e.length:0;if(t=t&&"undefined"==typeof n?t:x(t,n,3),"number"==typeof i)for(;++r<i&&t(e[r],r,e)!==!1;);else ur(e,t);return e}function He(e,t,n){var r=e?e.length:0;if(t=t&&"undefined"==typeof n?t:x(t,n,3),"number"==typeof r)for(;r--&&t(e[r],r,e)!==!1;);else{var i=er(e);r=i.length,ur(e,function(e,n,o){return n=i?i[--r]:--r,t(o[n],n,o)})}return e}function Ke(e,t){var n=p(arguments,2),r=-1,i="function"==typeof t,o=e?e.length:0,s=pn("number"==typeof o?o:0);return Pe(e,function(e){s[++r]=(i?t:e[t]).apply(e,n)}),s}function $e(e,n,r){var i=-1,o=e?e.length:0;if(n=t.createCallback(n,r,3),"number"==typeof o)for(var s=pn(o);++i<o;)s[i]=n(e[i],i,e);else s=[],ur(e,function(e,t,r){s[++i]=n(e,t,r)});return s}function et(e,n,r){var i=-(1/0),o=i;if("function"!=typeof n&&r&&r[n]===e&&(n=null),null==n&&Kn(e))for(var a=-1,u=e.length;++a<u;){var c=e[a];c>o&&(o=c)}else n=null==n&&Ie(e)?s:t.createCallback(n,r,3),Pe(e,function(e,t,r){var s=n(e,t,r);s>i&&(i=s,o=e)});return o}function tt(e,n,r){var i=1/0,o=i;if("function"!=typeof n&&r&&r[n]===e&&(n=null),null==n&&Kn(e))for(var a=-1,u=e.length;++a<u;){var c=e[a];o>c&&(o=c)}else n=null==n&&Ie(e)?s:t.createCallback(n,r,3),Pe(e,function(e,t,r){var s=n(e,t,r);i>s&&(i=s,o=e)});return o}function nt(e,n,r,i){if(!e)return r;var o=arguments.length<3;n=t.createCallback(n,i,4);var s=-1,a=e.length;if("number"==typeof a)for(o&&(r=e[++s]);++s<a;)r=n(r,e[s],s,e);else ur(e,function(e,t,i){r=o?(o=!1,e):n(r,e,t,i)});return r}function rt(e,n,r,i){var o=arguments.length<3;return n=t.createCallback(n,i,4),He(e,function(e,t,i){r=o?(o=!1,e):n(r,e,t,i)}),r}function it(e,n,r){return n=t.createCallback(n,r,3),Je(e,function(e,t,r){return!n(e,t,r)})}function ot(e,t,n){if(e&&"number"!=typeof e.length&&(e=ze(e)),null==t||n)return e?e[re(0,e.length-1)]:v;var r=st(e);return r.length=Yn(Xn(0,t),r.length),r}function st(e){var t=-1,n=e?e.length:0,r=pn("number"==typeof n?n:0);return Pe(e,function(e){var n=re(0,++t);r[t]=r[n],r[n]=e}),r}function at(e){var t=e?e.length:0;return"number"==typeof t?t:er(e).length}function ut(e,n,r){var i;n=t.createCallback(n,r,3);var o=-1,s=e?e.length:0;if("number"==typeof s)for(;++o<s&&!(i=n(e[o],o,e)););else ur(e,function(e,t,r){return!(i=n(e,t,r))});return!!i}function ct(e,n,r){var i=-1,o=Kn(n),s=e?e.length:0,u=pn("number"==typeof s?s:0);for(o||(n=t.createCallback(n,r,3)),Pe(e,function(e,t,r){var s=u[++i]=d();o?s.criteria=$e(n,function(t){return e[t]}):(s.criteria=l())[0]=n(e,t,r),s.index=i,s.value=e}),s=u.length,u.sort(a);s--;){var c=u[s];u[s]=c.value,o||f(c.criteria),h(c)}return u}function lt(e){return e&&"number"==typeof e.length?p(e):ze(e)}function dt(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r}function ft(e){return K(e,$(arguments,!0,!0,1))}function ht(e,n,r){var i=-1,o=e?e.length:0;for(n=t.createCallback(n,r,3);++i<o;)if(n(e[i],i,e))return i;return-1}function pt(e,n,r){var i=e?e.length:0;for(n=t.createCallback(n,r,3);i--;)if(n(e[i],i,e))return i;return-1}function mt(e,n,r){var i=0,o=e?e.length:0;if("number"!=typeof n&&null!=n){var s=-1;for(n=t.createCallback(n,r,3);++s<o&&n(e[s],s,e);)i++}else if(i=n,null==i||r)return e?e[0]:v;return p(e,0,Yn(Xn(0,i),o))}function vt(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(e=$e(e,n,r)),$(e,t)}function bt(e,t,n){if("number"==typeof n){var i=e?e.length:0;n=0>n?Xn(0,i+n):n||0}else if(n){var o=Et(e,t);return e[o]===t?o:-1}return r(e,t,n)}function gt(e,n,r){var i=0,o=e?e.length:0;if("number"!=typeof n&&null!=n){var s=o;for(n=t.createCallback(n,r,3);s--&&n(e[s],s,e);)i++}else i=null==n||r?1:n||i;return p(e,0,Yn(Xn(0,o-i),o))}function yt(){for(var e=[],t=-1,n=arguments.length,o=l(),s=ue(),a=s===r,c=l();++t<n;){var d=arguments[t];(Kn(d)||fe(d))&&(e.push(d),o.push(a&&d.length>=_&&u(t?e[t]:c)))}var p=e[0],m=-1,v=p?p.length:0,b=[];e:for(;++m<v;){var g=o[0];if(d=p[m],(g?i(g,d):s(c,d))<0){for(t=n,(g||c).push(d);--t;)if(g=o[t],(g?i(g,d):s(e[t],d))<0)continue e;b.push(d)}}for(;n--;)g=o[n],g&&h(g);return f(o),f(c),b}function wt(e,n,r){var i=0,o=e?e.length:0;if("number"!=typeof n&&null!=n){var s=o;for(n=t.createCallback(n,r,3);s--&&n(e[s],s,e);)i++}else if(i=n,null==i||r)return e?e[o-1]:v;return p(e,Xn(0,o-i))}function _t(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(0>n?Xn(0,r+n):Yn(n,r-1))+1);r--;)if(e[r]===t)return r;return-1}function xt(e){for(var t=arguments,n=0,r=t.length,i=e?e.length:0;++n<r;)for(var o=-1,s=t[n];++o<i;)e[o]===s&&(Mn.call(e,o--,1),i--);return e}function kt(e,t,n){e=+e||0,n="number"==typeof n?n:+n||1,null==t&&(t=e,e=0);for(var r=-1,i=Xn(0,Rn((t-e)/(n||1))),o=pn(i);++r<i;)o[r]=e,e+=n;return o}function St(e,n,r){var i=-1,o=e?e.length:0,s=[];for(n=t.createCallback(n,r,3);++i<o;){var a=e[i];n(a,i,e)&&(s.push(a),Mn.call(e,i--,1),o--)}return s}function Ct(e,n,r){if("number"!=typeof n&&null!=n){var i=0,o=-1,s=e?e.length:0;for(n=t.createCallback(n,r,3);++o<s&&n(e[o],o,e);)i++}else i=null==n||r?1:Xn(0,n);return p(e,i)}function Et(e,n,r,i){var o=0,s=e?e.length:o;for(r=r?t.createCallback(r,i,1):Ht,n=r(n);s>o;){var a=o+s>>>1;r(e[a])<n?o=a+1:s=a}return o}function jt(){return ie($(arguments,!0,!0))}function Nt(e,n,r,i){return"boolean"!=typeof n&&null!=n&&(i=r,r="function"!=typeof n&&i&&i[n]===e?null:n,n=!1),null!=r&&(r=t.createCallback(r,i,3)),ie(e,n,r)}function Rt(e){return K(e,p(arguments,1))}function Tt(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Kn(n)||fe(n))var r=r?ie(K(r,n).concat(K(n,r))):n}return r||[]}function Ut(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?et(hr(e,"length")):0,r=pn(0>n?0:n);++t<n;)r[t]=hr(e,t);return r}function Dt(e,t){var n=-1,r=e?e.length:0,i={};for(t||!r||Kn(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function At(e,t){if(!Re(t))throw new kn;return function(){return--e<1?t.apply(this,arguments):void 0}}function Ot(e,t){return arguments.length>2?se(e,17,p(arguments,2),null,t):se(e,1,null,null,t)}function It(e){for(var t=arguments.length>1?$(arguments,!0,!1,1):we(e),n=-1,r=t.length;++n<r;){var i=t[n];e[i]=se(e[i],1,null,null,e)}return e}function Wt(e,t){return arguments.length>2?se(t,19,p(arguments,2),null,e):se(t,3,null,null,e)}function Mt(){for(var e=arguments,t=e.length;t--;)if(!Re(e[t]))throw new kn;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function Zt(e,t){return t="number"==typeof t?t:+t||e.length,se(e,4,null,null,null,t)}function Bt(e,t,n){var r,i,o,s,a,u,c,l=0,d=!1,f=!0;if(!Re(e))throw new kn;if(t=Xn(0,t)||0,n===!0){var h=!0;f=!1}else Te(n)&&(h=n.leading,d="maxWait"in n&&(Xn(t,n.maxWait)||0),f="trailing"in n?n.trailing:f);var p=function(){var n=t-(mr()-s);if(0>=n){i&&Tn(i);var d=c;i=u=c=v,d&&(l=mr(),o=e.apply(a,r),u||i||(r=a=null))}else u=Wn(p,n)},m=function(){u&&Tn(u),i=u=c=v,(f||d!==t)&&(l=mr(),o=e.apply(a,r),u||i||(r=a=null))};return function(){if(r=arguments,s=mr(),a=this,c=f&&(u||!h),d===!1)var n=h&&!u;else{i||h||(l=s);var v=d-(s-l),b=0>=v;b?(i&&(i=Tn(i)),l=s,o=e.apply(a,r)):i||(i=Wn(m,v))}return b&&u?u=Tn(u):u||t===d||(u=Wn(p,t)),n&&(b=!0,o=e.apply(a,r)),!b||u||i||(r=a=null),o}}function Lt(e){if(!Re(e))throw new kn;var t=p(arguments,1);return Wn(function(){e.apply(v,t)},1)}function Vt(e,t){if(!Re(e))throw new kn;var n=p(arguments,2);return Wn(function(){e.apply(v,n)},t)}function Gt(e,t){if(!Re(e))throw new kn;var n=function(){var r=n.cache,i=t?t.apply(this,arguments):w+arguments[0];return On.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};return n.cache={},n}function zt(e){var t,n;if(!Re(e))throw new kn;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function Ft(e){return se(e,16,p(arguments,1))}function Xt(e){return se(e,32,null,p(arguments,1))}function Yt(e,t,n){var r=!0,i=!0;if(!Re(e))throw new kn;return n===!1?r=!1:Te(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),J.leading=r,J.maxWait=t,J.trailing=i,Bt(e,t,J)}function Jt(e,t){return se(t,16,[e])}function qt(e){return function(){return e}}function Qt(e,t,n){var r=typeof e;if(null==e||"function"==r)return x(e,t,n);if("object"!=r)return tn(e);var i=er(e),o=i[0],s=e[o];return 1!=i.length||s!==s||Te(s)?function(t){for(var n=i.length,r=!1;n--&&(r=ee(t[i[n]],e[i[n]],null,!0)););return r}:function(e){var t=e[o];return s===t&&(0!==s||1/s==1/t)}}function Pt(e){return null==e?"":xn(e).replace(ir,ae)}function Ht(e){return e}function Kt(e,r,i){var o=!0,s=r&&we(r);r&&(i||s.length)||(null==i&&(i=r),a=n,r=e,e=t,s=we(r)),i===!1?o=!1:Te(i)&&"chain"in i&&(o=i.chain);var a=e,u=Re(a);Pe(s,function(t){var n=e[t]=r[t];u&&(a.prototype[t]=function(){var t=this.__chain__,r=this.__wrapped__,i=[r];In.apply(i,arguments);var s=n.apply(e,i);if(o||t){if(r===s&&Te(s))return this;s=new a(s),s.__chain__=t}return s})})}function $t(){return e._=En,this}function en(){}function tn(e){return function(t){return t[e]}}function nn(e,t,n){var r=null==e,i=null==t;if(null==n&&("boolean"==typeof e&&i?(n=e,e=1):i||"boolean"!=typeof t||(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=qn();return Yn(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t)}return re(e,t)}function rn(e,t){if(e){var n=e[t];return Re(n)?e[t]():n}}function on(e,n,r){var i=t.templateSettings;e=xn(e||""),r=sr({},r,i);var o,s=sr({},r.imports,i.imports),a=er(s),u=ze(s),l=0,d=r.interpolate||D,f="__p += '",h=_n((r.escape||D).source+"|"+d.source+"|"+(d===T?j:D).source+"|"+(r.evaluate||D).source+"|$","g");e.replace(h,function(t,n,r,i,s,a){return r||(r=i),f+=e.slice(l,a).replace(O,c),n&&(f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=a+t.length,t}),f+="';\n";var p=r.variable,m=p;m||(p="obj",f="with ("+p+") {\n"+f+"\n}\n"),f=(o?f.replace(S,""):f).replace(C,"$1").replace(E,"$1;"),f="function("+p+") {\n"+(m?"":p+" || ("+p+" = {});\n")+"var __t, __p = '', __e = _.escape"+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var b="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+W++ +"]")+"\n*/";try{var g=bn(a,"return "+f+b).apply(v,u)}catch(y){throw y.source=f,y}return n?g(n):(g.source=f,g)}function sn(e,t,n){e=(e=+e)>-1?e:0;var r=-1,i=pn(e);for(t=x(t,n,1);++r<e;)i[r]=t(r);return i}function an(e){return null==e?"":xn(e).replace(rr,de)}function un(e){var t=++y;return xn(null==e?"":e)+t}function cn(e){return e=new n(e),e.__chain__=!0,e}function ln(e,t){return t(e),e}function dn(){return this.__chain__=!0,this}function fn(){return xn(this.__wrapped__)}function hn(){return this.__wrapped__}e=e?ne.defaults(H.Object(),e,ne.pick(H,I)):H;var pn=e.Array,mn=e.Boolean,vn=e.Date,bn=e.Function,gn=e.Math,yn=e.Number,wn=e.Object,_n=e.RegExp,xn=e.String,kn=e.TypeError,Sn=[],Cn=wn.prototype,En=e._,jn=Cn.toString,Nn=_n("^"+xn(jn).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Rn=gn.ceil,Tn=e.clearTimeout,Un=gn.floor,Dn=bn.prototype.toString,An=ce(An=wn.getPrototypeOf)&&An,On=Cn.hasOwnProperty,In=Sn.push,Wn=e.setTimeout,Mn=Sn.splice,Zn=Sn.unshift,Bn=function(){try{var e={},t=ce(t=wn.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}(),Ln=ce(Ln=wn.create)&&Ln,Vn=ce(Vn=pn.isArray)&&Vn,Gn=e.isFinite,zn=e.isNaN,Fn=ce(Fn=wn.keys)&&Fn,Xn=gn.max,Yn=gn.min,Jn=e.parseInt,qn=gn.random,Qn={};Qn[Z]=pn,Qn[B]=mn,Qn[L]=vn,Qn[V]=bn,Qn[z]=wn,Qn[G]=yn,Qn[F]=_n,Qn[X]=xn,n.prototype=t.prototype;var Pn=t.support={};Pn.funcDecomp=!ce(e.WinRTError)&&A.test(m),Pn.funcNames="string"==typeof bn.name,t.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:T,variable:"",imports:{_:t}},Ln||(g=function(){function t(){}return function(n){if(Te(n)){t.prototype=n;var r=new t;t.prototype=null}return r||e.Object()}}());var Hn=Bn?function(e,t){q.value=t,Bn(e,"__bindData__",q),q.value=null}:en,Kn=Vn||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&jn.call(e)==Z||!1},$n=function(e){var t,n=e,r=[];if(!n)return r;if(!Q[typeof e])return r;for(t in n)On.call(n,t)&&r.push(t);return r},er=Fn?function(e){return Te(e)?Fn(e):[]}:$n,tr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nr=xe(tr),rr=_n("("+er(nr).join("|")+")","g"),ir=_n("["+er(tr).join("")+"]","g"),or=function(e,t,n){var r,i=e,o=i;if(!i)return o;var s=arguments,a=0,u="number"==typeof n?2:s.length;if(u>3&&"function"==typeof s[u-2])var c=x(s[--u-1],s[u--],2);else u>2&&"function"==typeof s[u-1]&&(c=s[--u]);for(;++a<u;)if(i=s[a],i&&Q[typeof i])for(var l=-1,d=Q[typeof i]&&er(i),f=d?d.length:0;++l<f;)r=d[l],o[r]=c?c(o[r],i[r]):i[r];return o},sr=function(e,t,n){var r,i=e,o=i;if(!i)return o;for(var s=arguments,a=0,u="number"==typeof n?2:s.length;++a<u;)if(i=s[a],i&&Q[typeof i])for(var c=-1,l=Q[typeof i]&&er(i),d=l?l.length:0;++c<d;)r=l[c],"undefined"==typeof o[r]&&(o[r]=i[r]);return o},ar=function(e,t,n){var r,i=e,o=i;if(!i)return o;if(!Q[typeof i])return o;t=t&&"undefined"==typeof n?t:x(t,n,3);for(r in i)if(t(i[r],r,e)===!1)return o;return o},ur=function(e,t,n){var r,i=e,o=i;if(!i)return o;if(!Q[typeof i])return o;t=t&&"undefined"==typeof n?t:x(t,n,3);for(var s=-1,a=Q[typeof i]&&er(i),u=a?a.length:0;++s<u;)if(r=a[s],t(i[r],r,e)===!1)return o;return o},cr=An?function(e){if(!e||jn.call(e)!=z)return!1;var t=e.valueOf,n=ce(t)&&(n=An(t))&&An(n);return n?e==n||An(e)==n:le(e)}:le,lr=oe(function(e,t,n){On.call(e,n)?e[n]++:e[n]=1}),dr=oe(function(e,t,n){(On.call(e,n)?e[n]:e[n]=[]).push(t)}),fr=oe(function(e,t,n){e[n]=t}),hr=$e,pr=Je,mr=ce(mr=vn.now)&&mr||function(){return(new vn).getTime()},vr=8==Jn(k+"08")?Jn:function(e,t){return Jn(Ie(e)?e.replace(U,""):e,t||0)};return t.after=At,t.assign=or,t.at=Fe,t.bind=Ot,t.bindAll=It,t.bindKey=Wt,t.chain=cn,t.compact=dt,t.compose=Mt,t.constant=qt,t.countBy=lr,t.create=me,t.createCallback=Qt,t.curry=Zt,t.debounce=Bt,t.defaults=sr,t.defer=Lt,t.delay=Vt,t.difference=ft,t.filter=Je,t.flatten=vt,t.forEach=Pe,t.forEachRight=He,t.forIn=ar,t.forInRight=ge,t.forOwn=ur,t.forOwnRight=ye,t.functions=we,t.groupBy=dr,t.indexBy=fr,t.initial=gt,t.intersection=yt,t.invert=xe,t.invoke=Ke,t.keys=er,t.map=$e,t.mapValues=Me,t.max=et,t.memoize=Gt,t.merge=Ze,t.min=tt,t.omit=Be,t.once=zt,t.pairs=Le,t.partial=Ft,t.partialRight=Xt,t.pick=Ve,t.pluck=hr,t.property=tn,t.pull=xt,t.range=kt,t.reject=it,t.remove=St,t.rest=Ct,t.shuffle=st,t.sortBy=ct,t.tap=ln,t.throttle=Yt,t.times=sn,t.toArray=lt,t.transform=Ge,t.union=jt,t.uniq=Nt,t.values=ze,t.where=pr,t.without=Rt,t.wrap=Jt,t.xor=Tt,t.zip=Ut,t.zipObject=Dt,t.collect=$e,t.drop=Ct,t.each=Pe,t.eachRight=He,t.extend=or,t.methods=we,t.object=Dt,t.select=Je,t.tail=Ct,t.unique=Nt,t.unzip=Ut,Kt(t),t.clone=he,t.cloneDeep=pe,t.contains=Xe,t.escape=Pt,t.every=Ye,t.find=qe,t.findIndex=ht,t.findKey=ve,t.findLast=Qe,t.findLastIndex=pt,t.findLastKey=be,t.has=_e,t.identity=Ht,t.indexOf=bt,t.isArguments=fe,t.isArray=Kn,t.isBoolean=ke,t.isDate=Se,t.isElement=Ce,t.isEmpty=Ee,t.isEqual=je,t.isFinite=Ne,t.isFunction=Re,t.isNaN=Ue,t.isNull=De,t.isNumber=Ae,t.isObject=Te,t.isPlainObject=cr,t.isRegExp=Oe,t.isString=Ie,t.isUndefined=We,t.lastIndexOf=_t,t.mixin=Kt,t.noConflict=$t,t.noop=en,t.now=mr,t.parseInt=vr,t.random=nn,t.reduce=nt,t.reduceRight=rt,t.result=rn,t.runInContext=m,t.size=at,t.some=ut,t.sortedIndex=Et,t.template=on,t.unescape=an,t.uniqueId=un,t.all=Ye,t.any=ut,t.detect=qe,t.findWhere=qe,t.foldl=nt,t.foldr=rt,t.include=Xe,t.inject=nt,Kt(function(){var e={};return ur(t,function(n,r){t.prototype[r]||(e[r]=n)}),e}(),!1),t.first=mt,t.last=wt,t.sample=ot,t.take=mt,t.head=mt,ur(t,function(e,r){var i="sample"!==r;t.prototype[r]||(t.prototype[r]=function(t,r){var o=this.__chain__,s=e(this.__wrapped__,t,r);return o||null!=t&&(!r||i&&"function"==typeof t)?new n(s,o):s})}),t.VERSION="2.4.2",t.prototype.chain=dn,t.prototype.toString=fn,t.prototype.value=hn,t.prototype.valueOf=hn,Pe(["join","pop","shift"],function(e){var r=Sn[e];t.prototype[e]=function(){var e=this.__chain__,t=r.apply(this.__wrapped__,arguments);return e?new n(t,e):t}}),Pe(["push","reverse","sort","unshift"],function(e){var n=Sn[e];t.prototype[e]=function(){return n.apply(this.__wrapped__,arguments),this}}),Pe(["concat","slice","splice"],function(e){var r=Sn[e];t.prototype[e]=function(){return new n(r.apply(this.__wrapped__,arguments),this.__chain__)}}),t}var v,b=[],g=[],y=0,w=+new Date+"",_=75,x=40,k=" 	\f\ufeff\n\r\u2028\u2029",S=/\b__p \+= '';/g,C=/\b(__p \+=) '' \+/g,E=/(__e\(.*?\)|\b__t\)) \+\n'';/g,j=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,N=/\w*$/,R=/^\s*function[ \n\r\t]+\w/,T=/<%=([\s\S]+?)%>/g,U=RegExp("^["+k+"]*0+(?=.$)"),D=/($^)/,A=/\bthis\b/,O=/['\n\r\t\u2028\u2029\\]/g,I=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],W=0,M="[object Arguments]",Z="[object Array]",B="[object Boolean]",L="[object Date]",V="[object Function]",G="[object Number]",z="[object Object]",F="[object RegExp]",X="[object String]",Y={};Y[V]=!1,Y[M]=Y[Z]=Y[B]=Y[L]=Y[G]=Y[z]=Y[F]=Y[X]=!0;var J={leading:!1,maxWait:0,trailing:!1},q={configurable:!1,enumerable:!1,value:null,writable:!1},Q={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},P={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},H=Q[typeof window]&&window||this,K=Q[typeof n]&&n&&!n.nodeType&&n,$=Q[typeof t]&&t&&!t.nodeType&&t,ee=$&&$.exports===K&&K,te=Q[typeof e]&&e;!te||te.global!==te&&te.window!==te||(H=te);var ne=m();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(H._=ne,define(function(){return ne})):K&&$?ee?($.exports=ne)._=ne:K._=ne:H._=ne}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-text/index.js":[function(e,t,n){!function(n){var r=e("./lib/cross-platform-text");t&&t.exports&&(t.exports=r),n&&(n.crossPlatformText=r)}(window)},{"./lib/cross-platform-text":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-text/lib/cross-platform-text.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-text/lib/canvas.js":[function(e,t,n){var r={};t.exports=r},{}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-text/lib/cross-platform-text.js":[function(e,t,n){var r={canvas:e("./canvas"),svg:e("./svg"),getInstance:function(e){var t,n,r=e.targetSelector,i=document.querySelector(r),o=i.tagName,s=["div","section","p"];o&&s.indexOf(o.toLowerCase())>-1?(t=e.format,n=this[t].createTargetImage(a,i)):(t=o,n=i);var a=(this[t].getOrCreateViewport(this,n),Object.create(this));return a.targetImage=n,Object.keys(this[t]).forEach(function(e){a[e]||(a[e]="object"==typeof a[e]?Object.create(a[t][e]):a[t][e])}),a}};t.exports=r},{"./canvas":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-text/lib/canvas.js","./svg":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-text/lib/svg.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-text/lib/svg.js":[function(e,t,n){var r=e("./utils"),i={xmlNS:"http://www.w3.org/XML/1998/namespace",svgNS:"http://www.w3.org/2000/svg",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",createTargetImage:function(e,t){var n="svg-"+(new Date).toISOString().replace(/\D/g,""),r=document.createElementNS(this.svgNS,"svg");return r.setAttribute("xmlns",this.svgNS),r.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),r.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),r.setAttribute("id",n),r.setAttribute("version","1.1"),r.setAttribute("baseProfile","full"),r.setAttribute("preserveAspectRatio","xMidYMid"),r.setAttribute("width","100%"),r.setAttribute("height","100%"),t.appendChild(r),this.targetImage=r,r},getOrCreateViewport:function(e,t){var n=t.querySelector("g.viewport");if(!n){var r="viewport-"+(new Date).toISOString().replace(/\D/g,"");n=document.createElementNS(this.svgNS,"g"),n.setAttribute("id",r),n.setAttribute("class","viewport");var i=t.childNodes||t.children;if(i&&i.length>0)do n.appendChild(i[0]);while(i.length>0);t.appendChild(n)}return n},render:function(e,t){e.color=e.color||"black",e.fontSize=e.fontSize||12,e.padding=e.padding||0;var n=(this.crossPlatformTextInstance,["fontSize"]),i=e.textContent.split(/\r\n|\r|\n|&#xA;/g),o=i.length,s=e.padding,a=e.width,u=e.height,c=e.fontSize,l=r.convertToPx(s,c);c=r.convertToPx(c,c);var d,f;"left"===e.textAlign?(d="start",f=l):"right"===e.textAlign?(d="end",f=a-l):(d="middle",f=a/2);var h,p=e.x+f,m=1.1*(o-1)*c;h="top"===e.verticalAlign?l+m/2+c*(2/3):"bottom"===e.verticalAlign?u-l-m/2-c*(2/3):u/2;
var v=e.y+h,b="translate("+p+" "+v+")",g=document.createElementNS(this.svgNS,"g");g.setAttribute("transform",b),e.containerSelector?this.targetImage.querySelector(e.containerSelector).appendChild(g):this.targetImage.appendChild(g);var y=d3.select(g),w=(y.selectAll("text").data(i).enter().append("text").attr("id",function(e,t){return"text-line"+t}).attr("x",0).attr("y",function(e,t){return 1.1*(t-(o-1)/2)+"em"}).attr("dominant-baseline","central").attr("text-anchor",d).text(function(e){return e}),[]),_=e.backgroundColor||"transparent";w.push({name:"fill",value:_});var x,k,S={color:function(e){y.attr("fill",e)},id:function(e){y.attr("id","text-for-"+e)},fill:function(e){y.attr("fill",e)},fillOpacity:function(e){y.attr("fill-opacity",e)},fontFamily:function(e){y.attr("font-family",e)},fontSize:function(e){y.attr("font-size",e)},fontStyle:function(e){y.attr("font-style",e)},fontWeight:function(e){y.attr("font-weight",e)},rotation:function(e){b+=" rotate("+e+","+(a/2-f)+","+(u/2-h)+")",y.attr("transform",b)}},C=d3.map(e).entries().sort(function(e,t){return n.indexOf(e.key)-n.indexOf(t.key)});return C.forEach(function(e){x=e.key,k=e.value,S.hasOwnProperty(x)&&S[x](k)}),t?t(y[0][0]):y[0][0]}};t.exports=i},{"./utils":"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-text/lib/utils.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/cross-platform-text/lib/utils.js":[function(e,t,n){var r={isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},convertToPx:function(e,t){var n,r;return this.isNumber(e)?r=e:(n=e.toLowerCase(),r=n.indexOf("em")>-1?n.slice(0,n.length-2)*t:n.indexOf("px")>-1?n.slice(0,n.length-2):n.indexOf("pt")>-1?n.slice(0,n.length-2)*(4/3):n.indexOf("%")>-1?n.slice(0,n.length-1)/100*t:e),r}};t.exports=r},{}],"/Users/andersriutta/Sites/kaavio/node_modules/highland/lib/index.js":[function(e,t,n){(function(r,i){function o(e,t,n){if(e&&f.isStream(e))return e;l.call(this);var r=this;if(r.__HighlandStream__=!0,r.id=(""+Math.random()).substr(2,6),this.paused=!0,this._incoming=[],this._outgoing=[],this._consumers=[],this._observers=[],this._destructors=[],this._send_events=!1,this._delegate=null,this.source=null,this.writable=!0,r.on("newListener",function(e){"data"===e?(r._send_events=!0,f.setImmediate(r.resume.bind(r))):"end"===e&&(r._send_events=!0)}),r.on("removeListener",function(e){if("end"===e||"data"===e){var t=r.listeners("end").length,n=r.listeners("data").length;t+n===0&&(r._send_events=!1)}}),void 0===e)return this;if(f.isArray(e))r._incoming=e.concat([m]);else if("function"==typeof e)this._generator=e,this._generator_push=function(e,t){r.write(e?new a(e):t)},this._generator_next=function(e){if(e){var t=r.paused;t||r.pause(),r.write(new u(e)),t||r.resume()}else r._generator_running=!1;r.paused||r.resume()};else if(f.isObject(e)){if(f.isFunction(e.then))return f(function(t){e.then(function(e){return t(null,e),t(null,m)},function(e){return t(e),t(null,m)})});e.on("error",function(e){r.write(new a(e))}),e.pipe(r)}else{if("string"!=typeof e)throw new Error("Unexpected argument type to Stream(): "+typeof e);var i,o=typeof n;i="function"===o?n:"number"===o?function(){return h.call(arguments,0,n)}:f.isArray(n)?function(){var e=arguments;return n.reduce(function(t,n,r){return t[n]=e[r],t},{})}:function(e){return e},t.on(e,function(){var e=i.apply(this,arguments);r.write(e)})}}function s(e){var t=o.prototype[e],n=t.length;f[e]=f.ncurry(n+1,function(){var e=h.call(arguments),n=f(e.pop());return t.apply(n,e)})}function a(e){this.__HighlandStreamError__=!0,this.error=e}function u(e){this.__HighlandStreamRedirect__=!0,this.to=e}var c=e("util").inherits,l=e("events").EventEmitter,d=e("string_decoder").StringDecoder;n=t.exports=function(e,t,n){return new o(e,t,n)};var f=n,h=Array.prototype.slice;f.isFunction=function(e){return"function"==typeof e},f.isObject=function(e){return"object"==typeof e&&null!==e},f.isString=function(e){return"string"==typeof e},f.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},f.setImmediate="undefined"==typeof setImmediate?"undefined"!=typeof r&&r.nextTick?r.nextTick:function(e){setTimeout(e,0)}:"undefined"!=typeof r&&r.stdout?setImmediate:function(e){setImmediate(e)};var p=this;"undefined"!=typeof i?p=i:"undefined"!=typeof window&&(p=window),p.nil||(p.nil={});var m=f.nil=p.nil;f.curry=function(e){var t=h.call(arguments);return f.ncurry.apply(this,[e.length].concat(t))},f.ncurry=function(e,t){var n=h.call(arguments,2);return n.length>=e?t.apply(this,n.slice(0,e)):f.partial.apply(this,[f.ncurry,e,t].concat(n))},f.partial=function(e){var t=h.call(arguments,1);return function(){return e.apply(this,t.concat(h.call(arguments)))}},f.flip=f.curry(function(e,t,n){return e(n,t)}),f.compose=function(){var e=h.call(arguments).reverse();return f.seq.apply(null,e)},f.seq=function(){var e=h.call(arguments);return function(){if(!e.length)return null;for(var t=e[0].apply(this,arguments),n=1;n<e.length;n++)t=e[n].call(this,t);return t}},c(o,l),f.isStream=function(e){return f.isObject(e)&&e.__HighlandStream__},f._isStreamError=function(e){return f.isObject(e)&&e.__HighlandStreamError__},f._isStreamRedirect=function(e){return f.isObject(e)&&e.__HighlandStreamRedirect__},o.prototype._send=function(e,t){if(t===m&&(this.ended=!0),this._consumers.length)for(var n=0,r=this._consumers.length;r>n;n++){var i=this._consumers[n];i.write(e?new a(e):t)}if(this._observers.length)for(var o=0,s=this._observers.length;s>o;o++)this._observers[o].write(t);this._send_events&&(t===m?this.emit("end"):this.emit("data",t))},o.prototype.pause=function(){this.paused=!0,this.source&&this.source._checkBackPressure()},o.prototype._checkBackPressure=function(){if(!this._consumers.length)return this.pause();for(var e=0,t=this._consumers.length;t>e;e++)if(this._consumers[e].paused)return this.pause();return this.resume()},o.prototype._readFromBuffer=function(){for(var e=this._incoming.length,t=0;e>t&&!this.paused;){var n=this._incoming[t];f._isStreamError(n)?this._send(n.error):f._isStreamRedirect(n)?this._redirect(n.to):this._send(null,n),t++}this._incoming.splice(0,t)},o.prototype._sendOutgoing=function(){for(var e=this._outgoing.length,t=0;e>t&&!this.paused;){var n=this._outgoing[t];f._isStreamError(n)?o.prototype._send.call(this,n.error):f._isStreamRedirect(n)?this._redirect(n.to):o.prototype._send.call(this,null,n),t++}this._outgoing.splice(0,t)},o.prototype.resume=function(){if(this._resume_running)return void(this._repeat_resume=!0);this._resume_running=!0;do this._repeat_resume=!1,this.paused=!1,this._sendOutgoing(),this._readFromBuffer(),this.paused||(this.source?this.source._checkBackPressure():this._generator?this._runGenerator():this.emit("drain"));while(this._repeat_resume);this._resume_running=!1},o.prototype.end=function(){this.write(m)},o.prototype.pipe=function(e){function t(){o.resume()}var n=this,i=e!==r.stdout&&e!==r.stderr,o=n.consume(function(t,r,o,s){return t?void n.emit("error",t):void(r===m?i&&e.end():e.write(r)!==!1&&s())});return e.on("drain",t),this._destructors.push(function(){e.removeListener("drain",t)}),o.resume(),e},o.prototype.destroy=function(){var e=this;this.end(),f(this._consumers).each(function(t){e._removeConsumer(t)}),this.source&&this.source._removeConsumer(this),f(this._destructors).each(function(e){e()})},o.prototype._runGenerator=function(){this._generator_running||(this._generator_running=!0,this._generator(this._generator_push,this._generator_next))},o.prototype._redirect=function(e){for(e=f(e);e._delegate;)e=e._delegate;e._consumers=this._consumers.map(function(t){return t.source=e,t}),this._consumers=[],e._delegate_source=this._delegate_source||this,e._delegate_source._delegate=e,this.paused?e.pause():(this.pause(),e._checkBackPressure())},o.prototype._addConsumer=function(e){if(this._consumers.length)throw new Error("Stream already being consumed, you must either fork() or observe()");e.source=this,this._consumers.push(e),this._checkBackPressure()},o.prototype._removeConsumer=function(e){for(var t=this;t._delegate;)t=t._delegate;t._consumers=t._consumers.filter(function(t){return t!==e}),e.source===t&&(e.source=null),t._checkBackPressure()},o.prototype.consume=function(e){for(var t=this;t._delegate;)t=t._delegate;var n,r,i=new o,s=i._send,c=function(e,n){n===m&&t._removeConsumer(i),i.paused?i._outgoing.push(e?new a(e):n):s.call(i,e,n)},l=function(e){if(e){var t=i.paused;t||i.pause(),i.write(new u(e)),t||i.resume()}else n?i.resume():r=!0};return i._send=function(t,o){n=!1,r=!1,e(t,o,c,l),n=!0,r||i.pause()},t._addConsumer(i),i},s("consume"),o.prototype.pull=function(e){var t=this.consume(function(n,r){t.source._removeConsumer(t),e(n,r)});t.id="pull:"+t.id,t.resume()},o.prototype.write=function(e){return this.paused?this._incoming.push(e):f._isStreamError(e)?this._send(e.error):this._send(null,e),!this.paused},o.prototype.fork=function(){var e=new o;return e.id="fork:"+e.id,e.source=this,this._consumers.push(e),this._checkBackPressure(),e},o.prototype.observe=function(){var e=new o;return e.id="observe:"+e.id,e.source=this,this._observers.push(e),e},o.prototype.errors=function(e){return this.consume(function(t,n,r,i){t?(e(t,r),i()):n===m?r(null,m):(r(null,n),i())})},s("errors"),o.prototype.stopOnError=function(e){return this.consume(function(t,n,r,i){t?(e(t,r),r(null,m)):n===m?r(null,m):(r(null,n),i())})},s("stopOnError"),o.prototype.each=function(e){var t=this;return this.consume(function(n,r,i,o){n?t.emit("error",n):r!==m&&(e(r),o())}).resume()},s("each"),o.prototype.apply=function(e){return this.toArray(function(t){e.apply(null,t)})},s("apply"),o.prototype.toArray=function(e){var t=this;return this.collect().pull(function(n,r){n?t.emit("error",n):e(r)})},o.prototype.map=function(e){if(!f.isFunction(e)){var t=e;e=function(){return t}}return this.consume(function(t,n,r,i){if(t)r(t),i();else if(n===m)r(t,n);else{var o,s;try{o=e(n)}catch(a){s=a}r(s,o),i()}})},s("map"),o.prototype.doto=function(e){return this.map(function(t){return e(t),t})},s("doto"),o.prototype.ratelimit=function(e,t){if(1>e)throw new Error("Invalid number of operations per ms: "+e);var n=0;return this.consume(function(r,i,o,s){r?(o(r),s()):i===m?o(null,m):e>n?(n++,o(null,i),s()):setTimeout(function(){n=1,o(null,i),s()},t)})},s("ratelimit"),o.prototype.flatMap=function(e){return this.map(e).sequence()},s("flatMap"),o.prototype.pluck=function(e){return this.consume(function(t,n,r,i){t?(r(t),i()):n===m?r(t,n):f.isObject(n)?(r(null,n[e]),i()):(r(new Error("Expected Object, got "+typeof n)),i())})},s("pluck"),o.prototype.pick=function(e){return this.consume(function(t,n,r,i){var o,s={},a=0;if(t)r(t),i();else if(n===m)r(t,n);else if(f.isObject(n)){for(;o=e[a++];)s[o]=n[o];r(null,s),i()}else r(new Error("Expected Object, got "+typeof n)),i()})},s("pick"),o.prototype.filter=function(e){return this.consume(function(t,n,r,i){if(t)r(t),i();else if(n===m)r(t,n);else{var o,s;try{o=e(n)}catch(a){s=a}s?r(s):o&&r(null,n),i()}})},s("filter"),o.prototype.flatFilter=function(e){function t(){return f(function(e){e(new Error("Stream returned by function was empty.")),e(null,f.nil)})}return this.flatMap(function(n){return e(n).take(1).otherwise(t()).flatMap(function(e){return f(e?[n]:[])})})},s("flatFilter"),o.prototype.reject=function(e){return this.filter(f.compose(f.not,e))},s("reject"),o.prototype.find=function(e){return this.filter(e).take(1)},s("find"),o.prototype.findWhere=function(e){return this.where(e).take(1)},s("findWhere"),o.prototype.group=function(e){var t=f.isString(e)?f.get(e):e;return this.reduce({},function(e,n){var r=t(n);return e.hasOwnProperty(r)||(e[r]=[]),e[r].push(n),e})},s("group"),o.prototype.compact=function(){return this.filter(function(e){return e})},s("compact"),o.prototype.where=function(e){return this.filter(function(t){for(var n in e)if(t[n]!==e[n])return!1;return!0})},s("where"),o.prototype.uniqBy=function(e){var t=[];return this.consume(function(n,r,i,o){if(n)i(n),o();else if(r===m)i(n,r);else{for(var s,a=!1,u=0,c=t.length;c>u;u++){try{a=e(r,t[u])}catch(l){s=l,a=!0}if(a)break}a||(t.push(r),i(null,r)),s&&i(s),o()}})},s("uniqBy"),o.prototype.uniq=function(){return this.uniqBy(function(e,t){return e===t})},s("uniq"),o.prototype.zipAll=function(e){function t(e,n,o,s,a){o.pull(function(u,c){u?(s(u),t(e,n,o,s,a)):c===f.nil?s(null,m):(r++,i[e]=c,r===n&&(s(null,i),a()))})}var n=this;e=f(e).map(f);var r=0,i=[];return e.collect().flatMap(function(e){return e.unshift(n),f(function(n,o){r=0,i=[];for(var s=0,a=e.length;a>s;s++)t(s,a,e[s],n,o)})})},s("zipAll"),o.prototype.zip=function(e){return this.zipAll([e])},s("zip"),o.prototype.batch=function(e){var t=[];return this.consume(function(n,r,i,o){n?(i(n),o()):r===m?(t.length>0&&i(null,t),i(null,m)):(t.push(r),t.length===e&&(i(null,t),t=[]),o())})},s("batch"),o.prototype.intersperse=function(e){var t=!1;return this.consume(function(n,r,i,o){n?(i(n),o()):r===m?i(null,m):(t?i(null,e):t=!0,i(null,r),o())})},s("intersperse"),o.prototype.splitBy=function(e){function t(t,i){r=(r||"")+n.write(t);var o=r.split(e);r=o.pop(),o.forEach(function(e){i(null,e)})}var n=new d,r=!1;return this.consume(function(e,i,o,s){e?(o(e),s()):i===m?("string"==typeof r&&(t(n.end(),o),o(null,r)),o(null,m)):(t(i,o),s())})},s("splitBy"),o.prototype.split=function(){return this.splitBy(/\r?\n/)},s("split"),o.prototype.take=function(e){if(0===e)return f([]);var t=this.consume(function(t,n,r,i){t?(r(t),e>0?i():r(null,m)):n===m?r(null,m):(e--,r(null,n),e>0?i():r(null,m))});return t.id="take:"+t.id,t},s("take"),o.prototype.head=function(){return this.take(1)},s("head"),o.prototype.last=function(){var e={},t=e;return this.consume(function(n,r,i,o){n?(i(n),o()):r===m?(t!==e&&i(null,t),i(null,m)):(t=r,o())})},s("last"),o.prototype.through=function(e){if(f.isFunction(e))return e(this);var t=f();return e.pause(),this.pipe(e).pipe(t),t},s("through"),f.pipeline=function(){if(!arguments.length)return f();var e,t=arguments[0];f.isStream(t)||f.isFunction(t.resume)?(t=f(t),e=h.call(arguments,1)):(t=f(),e=h.call(arguments));var n=e.reduce(function(e,t){return e.through(t)},t),r=f(function(e,t){n.pull(function(e,n){e?(r._send(e),t()):n===m?r._send(null,m):(r._send(null,n),t())})});return r.write=function(e){t.write(e)},r},o.prototype.sequence=function(){function e(){return n===t}var t=this,n=this;return f(function(r,i){n.pull(function(o,s){return o?(r(o),i()):f.isArray(s)?(e()?s.forEach(function(e){r(null,e)}):r(null,s),i()):f.isStream(s)?e()?(n=s,i()):(r(null,s),i()):s!==m?e()?(r(new Error("Expected Stream, got "+typeof s)),i()):(r(null,s),i()):e()?void r(null,m):(n=t,i())})})},s("sequence"),o.prototype.series=o.prototype.sequence,f.series=f.sequence,o.prototype.flatten=function(){var e=this,t=[];return f(function(n,r){e.pull(function(i,o){return i?(n(i),r()):(f.isArray(o)&&(o=f(o)),void(f.isStream(o)?(t.push(e),e=o,r()):o===m?t.length?(e=t.pop(),r()):n(null,m):(n(null,o),r())))})})},s("flatten"),o.prototype.parallel=function(e){var t=this,n=[],r=!1,i=!1;return f(function(o,s){if(n.length&&n[0].buffer.length)for(var a=n[0].buffer,u=0;u<a.length;u++){if(a[u][1]===m)return n.shift(),s();o.apply(null,a[u])}else n.length<e&&!r&&!i?(i=!0,t.pull(function(e,t){if(i=!1,e)o(e);else if(t===m)r=!0;else{var a={stream:t,buffer:[]};n.push(a),t.consume(function(e,t,r,i){n[0]===a?t===m?(n.shift(),s()):o(e,t):a.buffer.push([e,t]),t!==m&&i()}).resume()}return s()})):!n.length&&r&&o(null,m)})},s("parallel"),o.prototype.otherwise=function(e){var t=this;return t.consume(function(n,r,i,o){n?(i(n),o()):r===m?o(f.isFunction(e)?e():e):(i(null,r),o(t))})},s("otherwise"),o.prototype.append=function(e){return this.consume(function(t,n,r,i){n===m?(r(null,e),r(null,f.nil)):(r(t,n),i())})},s("append"),o.prototype.reduce=function(e,t){return this.consume(function(n,r,i,o){if(r===m)i(null,e),i(null,f.nil);else if(n)i(n),o();else{try{e=t(e,r)}catch(s){return i(s),void i(null,f.nil)}o()}})},s("reduce"),o.prototype.reduce1=function(e){var t=this;return f(function(n,r){t.pull(function(i,o){i?(n(i),r()):o===m?n(null,m):r(t.reduce(o,e))})})},s("reduce1"),o.prototype.collect=function(){var e=[];return this.consume(function(t,n,r,i){t?(r(t),i()):n===m?(r(null,e),r(null,m)):(e.push(n),i())})},s("collect"),o.prototype.scan=function(e,t){var n=this;return f([e]).concat(n.consume(function(n,r,i,o){if(r===m)i(null,f.nil);else if(n)i(n),o();else{try{e=t(e,r)}catch(s){return i(s),void i(null,f.nil)}i(null,e),o()}}))},s("scan"),o.prototype.scan1=function(e){var t=this;return f(function(n,r){t.pull(function(i,o){i?(n(i),r()):o===m?n(null,m):r(t.scan(o,e))})})},s("scan1"),o.prototype.concat=function(e){return e=f(e),this.consume(function(t,n,r,i){n===m?i(e):(r(t,n),i())})},s("concat"),o.prototype.merge=function(){function e(e,t,n){return function(s,u){s?(e(s),o.push(n)):u===m?i=i.filter(function(e){return e!==n}):n===r?(i.push(u),o.push(u),o.unshift(r)):(e(null,u),o.push(n)),a&&(a=!1,t())}}function t(t,n){var r=o;o=[],r.forEach(function(r){r.pull(e(t,n,r))})}function n(t,n){for(var s,a=!1,u=function(u,c){s=!1,a?e(t,n,r)(u,c):u?t(u):c===m?a=!0:(i.push(c),o.push(c))};!a;)s=!0,r.pull(u),s&&(a=!0,i.unshift(r))}var r=this,i=[],o=[],s=!0,a=!1;return f(function(e,r){s&&(s=!1,n(e,r)),0===i.length?e(null,m):o.length?(t(e,r),r()):a=!0})},s("merge"),o.prototype.invoke=function(e,t){return this.map(function(n){return n[e].apply(n,t)})},s("invoke"),o.prototype.nfcall=function(e){return this.map(function(t){return f.wrapCallback(t).apply(t,e)})},s("nfcall"),o.prototype.throttle=function(e){var t=0-e;return this.consume(function(n,r,i,o){var s=(new Date).getTime();n?(i(n),o()):r===m?i(null,m):s-e>=t?(t=s,i(null,r),o()):o()})},s("throttle"),o.prototype.debounce=function(e){var t=null,n={},r=n;return this.consume(function(i,o,s,a){i?(s(i),a()):o===m?(t&&clearTimeout(t),r!==n&&s(null,r),s(null,m)):(r=o,t&&clearTimeout(t),t=setTimeout(s.bind(this,null,o),e),a())})},s("debounce"),o.prototype.latest=function(){var e={},t=e,n=[],r=!1,i=null;return this.consume(function(e,o,s,a){if(null!=i){var u=i;i=null,u(e,o)}e?(n.push(e),a()):o===m?r=!0:(t=o,a())}).resume(),f(function(o,s){var a=n;n=[],a.length||t!==e||r?(a.forEach(o),t!==e&&o(null,t),r?o(null,m):s()):i=function(e,t){o(e,t),t!==m&&s()}})},s("latest"),f.values=function(e){return f.keys(e).map(function(t){return e[t]})},f.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return f(t)},f.pairs=function(e){return f.keys(e).map(function(t){return[t,e[t]]})},f.extend=f.curry(function(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}),f.get=f.curry(function(e,t){return t[e]}),f.set=f.curry(function(e,t,n){return n[e]=t,n}),f.log=function(){console.log.apply(console,arguments)},f.wrapCallback=function(e){return function(){var t=h.call(arguments);return f(function(n){var r=function(e,t){e?n(e):n(null,t),n(null,m)};e.apply(null,t.concat([r]))})}},f.add=f.curry(function(e,t){return e+t}),f.not=function(e){return!e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",events:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/events/events.js",string_decoder:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/string_decoder/index.js",util:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/util/util.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/index.js":[function(e,t,n){(function(n,r){function i(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){var r=n.concat(Array.prototype.slice.call(arguments));return t.apply(e,r)}}function o(e,t,r,o){"object"==typeof e&&(r=t,t=e,e=void 0),"function"==typeof t&&(r=t,t=void 0),t||(t={}),void 0!==e&&(t.uri=e),o&&(t.method=o.method);var a=new s(t),u=a.duplex&&l(),c=l(),f=a.duplex?d(u,c):c;a.duplex||(c.writable=!1),f.request=a,f.setHeader=i(a,a.setHeader),f.setLocation=i(a,a.setLocation);var h=!1;return f.on("close",function(){h=!0}),n.nextTick(function(){if(!h){f.on("close",function(){e.destroy()});var e=a._send();e.on("error",i(f,f.emit,"error")),f.emit("request",e),e.on("response",function(e){f.response=e,f.emit("response",e),a.duplex?e.pipe(c):(e.on("data",function(e){c.push(e)}),e.on("end",function(){c.push(null)}))}),a.duplex?u.pipe(e):e.end()}}),r&&(f.on("error",r),f.on("response",i(f,r,null))),f}function s(e){this.headers=e.headers||{};var t=(e.method||"GET").toUpperCase();this.method=t,this.duplex=!("GET"===t||"DELETE"===t||"HEAD"===t),this.auth=e.auth,this.options=e,e.uri&&this.setLocation(e.uri)}var a=e("url"),u=e("http"),c=e("https"),l=e("through2"),d=e("duplexer2");t.exports=o,o.get=o,o.post=function(e,t,n){return o(e,t,n,{method:"POST"})},o.put=function(e,t,n){return o(e,t,n,{method:"PUT"})},o["delete"]=function(e,t,n){return o(e,t,n,{method:"DELETE"})},s.prototype._send=function(){this._sent=!0;var e=this.headers||{},t=a.parse(this.uri),n=t.auth||this.auth;n&&(e.authorization="Basic "+r(n).toString("base64"));var i=t.protocol||"",o="https:"===i?c:u,s={scheme:i.replace(/:$/,""),method:this.method,host:t.hostname,port:Number(t.port)||("https:"===i?443:80),path:t.path,agent:this.options.agent||!1,headers:e,withCredentials:this.options.withCredentials};"https:"===i&&(s.pfx=this.options.pfx,s.key=this.options.key,s.cert=this.options.cert,s.ca=this.options.ca,s.ciphers=this.options.ciphers,s.rejectUnauthorized=this.options.rejectUnauthorized,s.secureProtocol=this.options.secureProtocol);var l=o.request(s);return l.setTimeout&&l.setTimeout(1e3*Math.pow(2,32)),l},s.prototype.setHeader=function(e,t){if(this._sent)throw new Error("request already sent");return this.headers[e]=t,this},s.prototype.setLocation=function(e){return this.uri=e,this}}).call(this,e("_process"),e("buffer").Buffer)},{_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js",duplexer2:"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/index.js",http:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/http-browserify/index.js",https:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/https-browserify/index.js",through2:"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/through2.js",url:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/url/url.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/index.js":[function(e,t,n){var r=e("readable-stream"),i=(t.exports=function(e,t,n){return new i(e,t,n)},n.DuplexWrapper=function(e,t,n){"undefined"==typeof n&&(n=t,t=e,e=null),e=e||{},e.objectMode=!0,r.Duplex.call(this,e),this._bubbleErrors="undefined"==typeof e.bubbleErrors||!!e.bubbleErrors,this._writable=t,this._readable=n;var i=this;t.once("finish",function(){i.end()}),this.once("finish",function(){t.end()}),n.on("data",function(e){i.push(e)||n.pause()}),n.once("end",function(){return i.push(null)}),this._bubbleErrors&&(t.on("error",function(e){return i.emit("error",e)}),n.on("error",function(e){return i.emit("error",e)}))});i.prototype=Object.create(r.Duplex.prototype,{constructor:{value:i}}),i.prototype._write=function(e,t,n){this._writable.write(e,t,n)},i.prototype._read=function(e){this._readable.resume()}},{"readable-stream":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/readable.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/lib/_stream_duplex.js":[function(e,t,n){(function(n){function r(e){return this instanceof r?(u.call(this,e),c.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(e)}function i(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}function o(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}t.exports=r;var s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},a=e("core-util-is");a.inherits=e("inherits");var u=e("./_stream_readable"),c=e("./_stream_writable");a.inherits(r,u),o(s(c.prototype),function(e){r.prototype[e]||(r.prototype[e]=c.prototype[e])})}).call(this,e("_process"))},{"./_stream_readable":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/lib/_stream_readable.js","./_stream_writable":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/lib/_stream_writable.js",_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/node_modules/core-util-is/lib/util.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/node_modules/inherits/inherits_browser.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/lib/_stream_passthrough.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_passthrough.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_passthrough.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_passthrough.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/lib/_stream_readable.js":[function(e,t,n){(function(n){function r(t,n){var r=e("./_stream_duplex");t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(N||(N=e("string_decoder/").StringDecoder),this.decoder=new N(t.encoding),this.encoding=t.encoding)}function i(t){e("./_stream_duplex");return this instanceof i?(this._readableState=new r(t,this),this.readable=!0,void E.call(this)):new i(t)}function o(e,t,n,r,i){var o=c(t,n);if(o)e.emit("error",o);else if(j.isNullOrUndefined(n))t.reading=!1,t.ended||l(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else!t.decoder||i||r||(n=t.decoder.write(n)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&d(e)),h(e,t);else i||(t.reading=!1);return s(t)}function s(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function a(e){if(e>=T)e=T;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function u(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||j.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=a(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e,t){var n=null;return j.isBuffer(t)||j.isString(t)||j.isNullOrUndefined(t)||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,d(e)}function d(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(R("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(function(){f(e)}):f(e))}function f(e){R("emit readable"),e.emit("readable"),g(e)}function h(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(function(){p(e,t)}))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(R("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function m(e){return function(){var t=e._readableState;R("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&C.listenerCount(e,"data")&&(t.flowing=!0,g(e))}}function v(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(function(){b(e,t)}))}function b(e,t){t.resumeScheduled=!1,e.emit("resume"),g(e),t.flowing&&!t.reading&&e.read(0)}function g(e){var t=e._readableState;if(R("flow",t.flowing),t.flowing)do var n=e.read();while(null!==n&&t.flowing)}function y(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,s=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!e||e>=i)n=o?r.join(""):S.concat(r,i),r.length=0;else if(e<r[0].length){var a=r[0];n=a.slice(0,e),r[0]=a.slice(e)}else if(e===r[0].length)n=r.shift();else{n=o?"":new S(e);for(var u=0,c=0,l=r.length;l>c&&e>u;c++){var a=r[0],d=Math.min(e-u,a.length);o?n+=a.slice(0,d):a.copy(n,u,0,d),d<a.length?r[0]=a.slice(d):r.shift(),u+=d}}return n}function w(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,n.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function _(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}function x(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}t.exports=i;var k=e("isarray"),S=e("buffer").Buffer;i.ReadableState=r;var C=e("events").EventEmitter;C.listenerCount||(C.listenerCount=function(e,t){return e.listeners(t).length});var E=e("stream"),j=e("core-util-is");j.inherits=e("inherits");var N,R=e("util");R=R&&R.debuglog?R.debuglog("stream"):function(){},j.inherits(i,E),i.prototype.push=function(e,t){var n=this._readableState;return j.isString(e)&&!n.objectMode&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=new S(e,t),t="")),o(this,n,e,t,!1)},i.prototype.unshift=function(e){var t=this._readableState;return o(this,t,e,"",!0)},i.prototype.setEncoding=function(t){return N||(N=e("string_decoder/").StringDecoder),this._readableState.decoder=new N(t),this._readableState.encoding=t,this};var T=8388608;i.prototype.read=function(e){R("read",e);var t=this._readableState,n=e;if((!j.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return R("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?w(this):d(this),null;if(e=u(e,t),0===e&&t.ended)return 0===t.length&&w(this),null;var r=t.needReadable;R("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,R("length less than watermark",r)),(t.ended||t.reading)&&(r=!1,R("reading or ended",r)),r&&(R("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=u(n,t));var i;return i=e>0?y(e,t):null,j.isNull(i)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&w(this),j.isNull(i)||this.emit("data",i),i},i.prototype._read=function(e){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,t){function r(e){R("onunpipe"),e===d&&o()}function i(){
R("onend"),e.end()}function o(){R("cleanup"),e.removeListener("close",u),e.removeListener("finish",c),e.removeListener("drain",v),e.removeListener("error",a),e.removeListener("unpipe",r),d.removeListener("end",i),d.removeListener("end",o),d.removeListener("data",s),!f.awaitDrain||e._writableState&&!e._writableState.needDrain||v()}function s(t){R("ondata");var n=e.write(t);!1===n&&(R("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,d.pause())}function a(t){R("onerror",t),l(),e.removeListener("error",a),0===C.listenerCount(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",c),l()}function c(){R("onfinish"),e.removeListener("close",u),l()}function l(){R("unpipe"),d.unpipe(e)}var d=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=e;break;case 1:f.pipes=[f.pipes,e];break;default:f.pipes.push(e)}f.pipesCount+=1,R("pipe count=%d opts=%j",f.pipesCount,t);var h=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,p=h?i:o;f.endEmitted?n.nextTick(p):d.once("end",p),e.on("unpipe",r);var v=m(d);return e.on("drain",v),d.on("data",s),e._events&&e._events.error?k(e._events.error)?e._events.error.unshift(a):e._events.error=[a,e._events.error]:e.on("error",a),e.once("close",u),e.once("finish",c),e.emit("pipe",d),f.flowing||(R("pipe resume"),d.resume()),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;r>i;i++)n[i].emit("unpipe",this);return this}var i=x(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,t){var r=E.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&d(this,i);else{var o=this;n.nextTick(function(){R("readable nexttick read 0"),o.read(0)})}}return r},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var e=this._readableState;return e.flowing||(R("resume"),e.flowing=!0,e.reading||(R("resume read 0"),this.read(0)),v(this,e)),this},i.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(R("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(R("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)){var o=r.push(i);o||(n=!0,e.pause())}});for(var i in e)j.isFunction(e[i])&&j.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return _(o,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){R("wrapped _read",t),n&&(n=!1,e.resume())},r},i._fromList=y}).call(this,e("_process"))},{"./_stream_duplex":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/lib/_stream_duplex.js",_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/node_modules/core-util-is/lib/util.js",events:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/events/events.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/node_modules/inherits/inherits_browser.js",isarray:"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/node_modules/isarray/index.js",stream:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/stream-browserify/index.js","string_decoder/":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/node_modules/string_decoder/index.js",util:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/browser-resolve/empty.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/lib/_stream_transform.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_transform.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_transform.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_transform.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/lib/_stream_writable.js":[function(e,t,n){(function(n){function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function i(t,n){var r=e("./_stream_duplex");t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){h(n,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(t){var n=e("./_stream_duplex");return this instanceof o||this instanceof n?(this._writableState=new i(t,this),this.writable=!0,void k.call(this)):new o(t)}function s(e,t,r){var i=new Error("write after end");e.emit("error",i),n.nextTick(function(){r(i)})}function a(e,t,r,i){var o=!0;if(!(x.isBuffer(r)||x.isString(r)||x.isNullOrUndefined(r)||t.objectMode)){var s=new TypeError("Invalid non-string/buffer chunk");e.emit("error",s),n.nextTick(function(){i(s)}),o=!1}return o}function u(e,t,n){return!e.objectMode&&e.decodeStrings!==!1&&x.isString(t)&&(t=new _(t,n)),t}function c(e,t,n,i,o){n=u(t,n,i),x.isBuffer(n)&&(i="buffer");var s=t.objectMode?1:n.length;t.length+=s;var a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new r(n,i,o)):l(e,t,!1,s,n,i,o),a}function l(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function d(e,t,r,i,o){r?n.nextTick(function(){t.pendingcb--,o(i)}):(t.pendingcb--,o(i)),e._writableState.errorEmitted=!0,e.emit("error",i)}function f(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function h(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(f(r),t)d(e,r,i,t,o);else{var s=b(e,r);s||r.corked||r.bufferProcessing||!r.buffer.length||v(e,r),i?n.nextTick(function(){p(e,r,s,o)}):p(e,r,s,o)}}function p(e,t,n,r){n||m(e,t),t.pendingcb--,r(),y(e,t)}function m(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function v(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var n=[],r=0;r<t.buffer.length;r++)n.push(t.buffer[r].callback);t.pendingcb++,l(e,t,!0,t.length,t.buffer,"",function(e){for(var r=0;r<n.length;r++)t.pendingcb--,n[r](e)}),t.buffer=[]}else{for(var r=0;r<t.buffer.length;r++){var i=t.buffer[r],o=i.chunk,s=i.encoding,a=i.callback,u=t.objectMode?1:o.length;if(l(e,t,!1,u,o,s,a),t.writing){r++;break}}r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}t.bufferProcessing=!1}function b(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function g(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function y(e,t){var n=b(e,t);return n&&(0===t.pendingcb?(g(e,t),t.finished=!0,e.emit("finish")):g(e,t)),n}function w(e,t,r){t.ending=!0,y(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0}t.exports=o;var _=e("buffer").Buffer;o.WritableState=i;var x=e("core-util-is");x.inherits=e("inherits");var k=e("stream");x.inherits(o,k),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return x.isFunction(t)&&(n=t,t=null),x.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),x.isFunction(n)||(n=function(){}),r.ended?s(this,r,n):a(this,r,e,n)&&(r.pendingcb++,i=c(this,r,e,t,n)),i},o.prototype.cork=function(){var e=this._writableState;e.corked++},o.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||v(this,e))},o.prototype._write=function(e,t,n){n(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(e,t,n){var r=this._writableState;x.isFunction(e)?(n=e,e=null,t=null):x.isFunction(t)&&(n=t,t=null),x.isNullOrUndefined(e)||this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||w(this,r,n)}}).call(this,e("_process"))},{"./_stream_duplex":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/lib/_stream_duplex.js",_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/node_modules/core-util-is/lib/util.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/node_modules/inherits/inherits_browser.js",stream:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/stream-browserify/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/node_modules/core-util-is/lib/util.js":[function(e,t,n){(function(e){function t(e){return Array.isArray(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function s(e){return"number"==typeof e}function a(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function c(e){return void 0===e}function l(e){return d(e)&&"[object RegExp]"===b(e)}function d(e){return"object"==typeof e&&null!==e}function f(e){return d(e)&&"[object Date]"===b(e)}function h(e){return d(e)&&("[object Error]"===b(e)||e instanceof Error)}function p(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function v(t){return e.isBuffer(t)}function b(e){return Object.prototype.toString.call(e)}n.isArray=t,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=s,n.isString=a,n.isSymbol=u,n.isUndefined=c,n.isRegExp=l,n.isObject=d,n.isDate=f,n.isError=h,n.isFunction=p,n.isPrimitive=m,n.isBuffer=v}).call(this,e("buffer").Buffer)},{buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/node_modules/inherits/inherits_browser.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/node_modules/isarray/index.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/isarray/index.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/isarray/index.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/isarray/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/node_modules/string_decoder/index.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/string_decoder/index.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/string_decoder/index.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/string_decoder/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/node_modules/readable-stream/readable.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/readable.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/readable.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/readable.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/lib/_stream_duplex.js":[function(e,t,n){(function(n){function r(e){return this instanceof r?(u.call(this,e),c.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(e)}function i(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}function o(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}t.exports=r;var s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},a=e("core-util-is");a.inherits=e("inherits");var u=e("./_stream_readable"),c=e("./_stream_writable");a.inherits(r,u),o(s(c.prototype),function(e){r.prototype[e]||(r.prototype[e]=c.prototype[e])})}).call(this,e("_process"))},{"./_stream_readable":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/lib/_stream_readable.js","./_stream_writable":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/lib/_stream_writable.js",_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/node_modules/core-util-is/lib/util.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/node_modules/inherits/inherits_browser.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/lib/_stream_readable.js":[function(e,t,n){(function(n){function r(t,n){t=t||{};var r=t.highWaterMark;this.highWaterMark=r||0===r?r:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(N||(N=e("string_decoder/").StringDecoder),this.decoder=new N(t.encoding),this.encoding=t.encoding)}function i(e){return this instanceof i?(this._readableState=new r(e,this),this.readable=!0,void E.call(this)):new i(e)}function o(e,t,n,r,i){var o=c(t,n);if(o)e.emit("error",o);else if(null===n||void 0===n)t.reading=!1,t.ended||l(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else!t.decoder||i||r||(n=t.decoder.write(n)),t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):(t.reading=!1,t.buffer.push(n)),t.needReadable&&d(e),h(e,t);else i||(t.reading=!1);return s(t)}function s(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function a(e){if(e>=R)e=R;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function u(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=a(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e,t){var n=null;return S.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.length>0?d(e):w(e)}function d(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?n.nextTick(function(){f(e)}):f(e))}function f(e){e.emit("readable")}function h(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(function(){p(e,t)}))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function m(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&v(e)}}function v(e){function t(e,t,i){var o=e.write(n);!1===o&&r.awaitDrain++}var n,r=e._readableState;for(r.awaitDrain=0;r.pipesCount&&null!==(n=e.read());)if(1===r.pipesCount?t(r.pipes,0,null):_(r.pipes,t),e.emit("data",n),r.awaitDrain>0)return;return 0===r.pipesCount?(r.flowing=!1,void(C.listenerCount(e,"data")>0&&g(e))):void(r.ranOut=!0)}function b(){this._readableState.ranOut&&(this._readableState.ranOut=!1,v(this))}function g(e,t){var r=e._readableState;if(r.flowing)throw new Error("Cannot switch to old mode now.");var i=t||!1,o=!1;e.readable=!0,e.pipe=E.prototype.pipe,e.on=e.addListener=E.prototype.on,e.on("readable",function(){o=!0;for(var t;!i&&null!==(t=e.read());)e.emit("data",t);null===t&&(o=!1,e._readableState.needReadable=!0)}),e.pause=function(){i=!0,this.emit("pause")},e.resume=function(){i=!1,o?n.nextTick(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}function y(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,s=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!e||e>=i)n=o?r.join(""):S.concat(r,i),r.length=0;else if(e<r[0].length){var a=r[0];n=a.slice(0,e),r[0]=a.slice(e)}else if(e===r[0].length)n=r.shift();else{n=o?"":new S(e);for(var u=0,c=0,l=r.length;l>c&&e>u;c++){var a=r[0],d=Math.min(e-u,a.length);o?n+=a.slice(0,d):a.copy(n,u,0,d),d<a.length?r[0]=a.slice(d):r.shift(),u+=d}}return n}function w(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,n.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function _(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}function x(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}t.exports=i;var k=e("isarray"),S=e("buffer").Buffer;i.ReadableState=r;var C=e("events").EventEmitter;C.listenerCount||(C.listenerCount=function(e,t){return e.listeners(t).length});var E=e("stream"),j=e("core-util-is");j.inherits=e("inherits");var N;j.inherits(i,E),i.prototype.push=function(e,t){var n=this._readableState;return"string"!=typeof e||n.objectMode||(t=t||n.defaultEncoding,t!==n.encoding&&(e=new S(e,t),t="")),o(this,n,e,t,!1)},i.prototype.unshift=function(e){var t=this._readableState;return o(this,t,e,"",!0)},i.prototype.setEncoding=function(t){N||(N=e("string_decoder/").StringDecoder),this._readableState.decoder=new N(t),this._readableState.encoding=t};var R=8388608;i.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var n,r=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d(this),null;if(e=u(e,t),0===e&&t.ended)return n=null,t.length>0&&t.decoder&&(n=y(e,t),t.length-=n.length),0===t.length&&w(this),n;var i=t.needReadable;return t.length-e<=t.highWaterMark&&(i=!0),(t.ended||t.reading)&&(i=!1),i&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=u(r,t)),n=e>0?y(e,t):null,null===n&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&w(this),n},i.prototype._read=function(e){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,t){function r(e){e===l&&o()}function i(){e.end()}function o(){e.removeListener("close",a),e.removeListener("finish",u),e.removeListener("drain",p),e.removeListener("error",s),e.removeListener("unpipe",r),l.removeListener("end",i),l.removeListener("end",o),(!e._writableState||e._writableState.needDrain)&&p()}function s(t){c(),e.removeListener("error",s),0===C.listenerCount(e,"error")&&e.emit("error",t)}function a(){e.removeListener("finish",u),c()}function u(){e.removeListener("close",a),c()}function c(){l.unpipe(e)}var l=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=e;break;case 1:d.pipes=[d.pipes,e];break;default:d.pipes.push(e)}d.pipesCount+=1;var f=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,h=f?i:o;d.endEmitted?n.nextTick(h):l.once("end",h),e.on("unpipe",r);var p=m(l);return e.on("drain",p),e._events&&e._events.error?k(e._events.error)?e._events.error.unshift(s):e._events.error=[s,e._events.error]:e.on("error",s),e.once("close",a),e.once("finish",u),e.emit("pipe",l),d.flowing||(this.on("readable",b),d.flowing=!0,n.nextTick(function(){v(l)})),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",b),t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",b),t.flowing=!1;for(var i=0;r>i;i++)n[i].emit("unpipe",this);return this}var i=x(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,t){var n=E.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||g(this),"readable"===e&&this.readable){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&d(this,r):this.read(0))}return n},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){g(this),this.read(0),this.emit("resume")},i.prototype.pause=function(){g(this,!0),this.emit("pause")},i.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)){var o=r.push(i);o||(n=!0,e.pause())}});for(var i in e)"function"==typeof e[i]&&"undefined"==typeof this[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return _(o,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){n&&(n=!1,e.resume())},r},i._fromList=y}).call(this,e("_process"))},{_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/node_modules/core-util-is/lib/util.js",events:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/events/events.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/node_modules/inherits/inherits_browser.js",isarray:"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/node_modules/isarray/index.js",stream:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/stream-browserify/index.js","string_decoder/":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/node_modules/string_decoder/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/lib/_stream_transform.js":[function(e,t,n){function r(e,t){this.afterTransform=function(e,n){return i(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n),i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);a.call(this,e);var t=(this._transformState=new r(e,this),this);this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(e){s(t,e)}):s(t)})}function s(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=(e._readableState,e._transformState);if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}t.exports=o;var a=e("./_stream_duplex"),u=e("core-util-is");u.inherits=e("inherits"),u.inherits(o,a),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},{"./_stream_duplex":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/lib/_stream_duplex.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/node_modules/core-util-is/lib/util.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/node_modules/inherits/inherits_browser.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/lib/_stream_writable.js":[function(e,t,n){(function(n){function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function i(e,t){e=e||{};var n=e.highWaterMark;this.highWaterMark=n||0===n?n:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var r=e.decodeStrings===!1;this.decodeStrings=!r,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){h(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function o(t){var n=e("./_stream_duplex");return this instanceof o||this instanceof n?(this._writableState=new i(t,this),this.writable=!0,void x.call(this)):new o(t)}function s(e,t,r){var i=new Error("write after end");e.emit("error",i),n.nextTick(function(){r(i)})}function a(e,t,r,i){var o=!0;if(!w.isBuffer(r)&&"string"!=typeof r&&null!==r&&void 0!==r&&!t.objectMode){var s=new TypeError("Invalid non-string/buffer chunk");e.emit("error",s),n.nextTick(function(){i(s)}),o=!1}return o}function u(e,t,n){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=new w(t,n)),t}function c(e,t,n,i,o){n=u(t,n,i),w.isBuffer(n)&&(i="buffer");var s=t.objectMode?1:n.length;t.length+=s;var a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing?t.buffer.push(new r(n,i,o)):l(e,t,s,n,i,o),a}function l(e,t,n,r,i,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,e._write(r,i,t.onwrite),t.sync=!1}function d(e,t,r,i,o){r?n.nextTick(function(){o(i)}):o(i),e._writableState.errorEmitted=!0,e.emit("error",i)}function f(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function h(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(f(r),t)d(e,r,i,t,o);else{var s=b(e,r);s||r.bufferProcessing||!r.buffer.length||v(e,r),i?n.nextTick(function(){p(e,r,s,o)}):p(e,r,s,o)}}function p(e,t,n,r){n||m(e,t),r(),n&&g(e,t)}function m(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function v(e,t){t.bufferProcessing=!0;for(var n=0;n<t.buffer.length;n++){var r=t.buffer[n],i=r.chunk,o=r.encoding,s=r.callback,a=t.objectMode?1:i.length;if(l(e,t,a,i,o,s),t.writing){n++;break}}t.bufferProcessing=!1,n<t.buffer.length?t.buffer=t.buffer.slice(n):t.buffer.length=0}function b(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function g(e,t){var n=b(e,t);return n&&(t.finished=!0,e.emit("finish")),n}function y(e,t,r){t.ending=!0,g(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0}t.exports=o;var w=e("buffer").Buffer;o.WritableState=i;var _=e("core-util-is");_.inherits=e("inherits");var x=e("stream");_.inherits(o,x),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return"function"==typeof t&&(n=t,t=null),w.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=function(){}),r.ended?s(this,r,n):a(this,r,e,n)&&(i=c(this,r,e,t,n)),i},o.prototype._write=function(e,t,n){n(new Error("not implemented"))},o.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),"undefined"!=typeof e&&null!==e&&this.write(e,t),r.ending||r.finished||y(this,r,n)}}).call(this,e("_process"))},{"./_stream_duplex":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/lib/_stream_duplex.js",_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/node_modules/core-util-is/lib/util.js",
inherits:"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/node_modules/inherits/inherits_browser.js",stream:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/stream-browserify/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/node_modules/core-util-is/lib/util.js":[function(e,t,n){(function(e){function t(e){return Array.isArray(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function s(e){return"number"==typeof e}function a(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function c(e){return void 0===e}function l(e){return d(e)&&"[object RegExp]"===b(e)}function d(e){return"object"==typeof e&&null!==e}function f(e){return d(e)&&"[object Date]"===b(e)}function h(e){return d(e)&&("[object Error]"===b(e)||e instanceof Error)}function p(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function v(t){return e.isBuffer(t)}function b(e){return Object.prototype.toString.call(e)}n.isArray=t,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=s,n.isString=a,n.isSymbol=u,n.isUndefined=c,n.isRegExp=l,n.isObject=d,n.isDate=f,n.isError=h,n.isFunction=p,n.isPrimitive=m,n.isBuffer=v}).call(this,e("buffer").Buffer)},{buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/node_modules/inherits/inherits_browser.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/node_modules/isarray/index.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/isarray/index.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/isarray/index.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/isarray/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/node_modules/string_decoder/index.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/string_decoder/index.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/string_decoder/index.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/string_decoder/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/transform.js":[function(e,t,n){t.exports=e("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/lib/_stream_transform.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/xtend/immutable.js":[function(e,t,n){function r(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}t.exports=r},{}],"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/through2.js":[function(e,t,n){(function(n){function r(e){s.call(this,e),this._destroyed=!1}function i(e,t,n){n(null,e)}function o(e){return function(t,n,r){return"function"==typeof t&&(r=n,n=t,t={}),"function"!=typeof n&&(n=i),"function"!=typeof r&&(r=null),e(t,n,r)}}var s=e("readable-stream/transform"),a=e("util").inherits,u=e("xtend");a(r,s),r.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var t=this;n.nextTick(function(){e&&t.emit("error",e),t.emit("close")})}},t.exports=o(function(e,t,n){var i=new r(e);return i._transform=t,n&&(i._flush=n),i}),t.exports.ctor=o(function(e,t,n){function i(t){return this instanceof i?(this.options=u(e,t),void r.call(this,this.options)):new i(t)}return a(i,r),i.prototype._transform=t,n&&(i.prototype._flush=n),i}),t.exports.obj=o(function(e,t,n){var i=new r(u({objectMode:!0,highWaterMark:16},e));return i._transform=t,n&&(i._flush=n),i})}).call(this,e("_process"))},{_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js","readable-stream/transform":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/transform.js",util:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/util/util.js",xtend:"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/xtend/immutable.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/dbcs-codec.js":[function(e,t,n){(function(e){function t(e){if(this.options=e,!e)throw new Error("DBCS codec is called without the data.");if(!e.table)throw new Error("Encoding '"+e.encodingName+"' has no data.");var t=e.table();this.decodeTables=[],this.decodeTables[0]=f.slice(0),this.decodeTableSeq=[];for(var n=0;n<t.length;n++)this._addDecodeChunk(t[n]);this.defaultCharUnicode=e.iconv.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var r={};if(e.encodeSkipVals)for(var n=0;n<e.encodeSkipVals.length;n++)for(var i=e.encodeSkipVals[n],o=i.from;o<=i.to;o++)r[o]=!0;if(this._fillEncodeTable(0,0,r),e.encodeAdd)for(var s in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,s)&&this._setEncodeChar(s.charCodeAt(0),e.encodeAdd[s]);if(this.defCharSB=this.encodeTable[0][e.iconv.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===u&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===u&&(this.defCharSB="?".charCodeAt(0)),"function"==typeof e.gb18030){this.gb18030=e.gb18030();for(var a=this.decodeTables.length,l=this.decodeTables[a]=f.slice(0),h=this.decodeTables.length,p=this.decodeTables[h]=f.slice(0),n=129;254>=n;n++)for(var m=d-this.decodeTables[0][n],v=this.decodeTables[m],o=48;57>=o;o++)v[o]=d-a;for(var n=129;254>=n;n++)l[n]=d-h;for(var n=48;57>=n;n++)p[n]=c}}function r(t){for(var n=new e(t.length*(this.gb18030?4:3)),r=this.leadSurrogate,i=this.seqObj,o=-1,s=0,c=0;;){if(-1===o){if(s==t.length)break;var d=t.charCodeAt(s++)}else{var d=o;o=-1}if(d>=55296&&57344>d)if(56320>d){if(-1===r){r=d;continue}r=d,d=u}else-1!==r?(d=65536+1024*(r-55296)+(d-56320),r=-1):d=u;else-1!==r&&(o=d,d=u,r=-1);var f=u;if(void 0!==i&&d!=u){var p=i[d];if("object"==typeof p){i=p;continue}"number"==typeof p?f=p:void 0==p&&(p=i[h],void 0!==p&&(f=p,o=d)),i=void 0}else if(d>=0){var m=this.encodeTable[d>>8];if(void 0!==m&&(f=m[255&d]),l>=f){i=this.encodeTableSeq[l-f];continue}if(f==u&&this.gb18030){var v=a(this.gb18030.uChars,d);if(-1!=v){var f=this.gb18030.gbChars[v]+(d-this.gb18030.uChars[v]);n[c++]=129+Math.floor(f/12600),f%=12600,n[c++]=48+Math.floor(f/1260),f%=1260,n[c++]=129+Math.floor(f/10),f%=10,n[c++]=48+f;continue}}}f===u&&(f=this.defaultCharSingleByte),256>f?n[c++]=f:65536>f?(n[c++]=f>>8,n[c++]=255&f):(n[c++]=f>>16,n[c++]=f>>8&255,n[c++]=255&f)}return this.seqObj=i,this.leadSurrogate=r,n.slice(0,c)}function i(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var t=new e(10),n=0;if(this.seqObj){var r=this.seqObj[h];void 0!==r&&(256>r?t[n++]=r:(t[n++]=r>>8,t[n++]=255&r)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(t[n++]=this.defaultCharSingleByte,this.leadSurrogate=-1),t.slice(0,n)}}function o(t){var n,r=new e(2*t.length),i=this.nodeIdx,o=this.prevBuf,s=this.prevBuf.length,f=-this.prevBuf.length;s>0&&(o=e.concat([o,t.slice(0,10)]));for(var h=0,p=0;h<t.length;h++){var m=h>=0?t[h]:o[h+s],n=this.decodeTables[i][m];if(n>=0);else if(n===u)h=f,n=this.defaultCharUnicode.charCodeAt(0);else if(n===c){var v=f>=0?t.slice(f,h+1):o.slice(f+s,h+1+s),b=12600*(v[0]-129)+1260*(v[1]-48)+10*(v[2]-129)+(v[3]-48),g=a(this.gb18030.gbChars,b);n=this.gb18030.uChars[g]+b-this.gb18030.gbChars[g]}else{if(d>=n){i=d-n;continue}if(!(l>=n))throw new Error("iconv-lite internal error: invalid decoding table value "+n+" at "+i+"/"+m);for(var y=this.decodeTableSeq[l-n],w=0;w<y.length-1;w++)n=y[w],r[p++]=255&n,r[p++]=n>>8;n=y[y.length-1]}if(n>65535){n-=65536;var _=55296+Math.floor(n/1024);r[p++]=255&_,r[p++]=_>>8,n=56320+n%1024}r[p++]=255&n,r[p++]=n>>8,i=0,f=h+1}return this.nodeIdx=i,this.prevBuf=f>=0?t.slice(f):o.slice(f+s),r.slice(0,p).toString("ucs2")}function s(){for(var t="";this.prevBuf.length>0;){t+=this.defaultCharUnicode;var n=this.prevBuf.slice(1);this.prevBuf=new e(0),this.nodeIdx=0,n.length>0&&(t+=o.call(this,n))}return this.nodeIdx=0,t}function a(e,t){if(e[0]>t)return-1;for(var n=0,r=e.length;r-1>n;){var i=n+Math.floor((r-n+1)/2);e[i]<=t?n=i:r=i}return n}n._dbcs=function(e){return new t(e)};for(var u=-1,c=-2,l=-10,d=-1e3,f=new Array(256),h=-1,p=0;256>p;p++)f[p]=u;t.prototype.encoder=function(e){return{write:r,end:i,leadSurrogate:-1,seqObj:void 0,encodeTable:this.encodeTable,encodeTableSeq:this.encodeTableSeq,defaultCharSingleByte:this.defCharSB,gb18030:this.gb18030,findIdx:a}},t.prototype.decoder=function(t){return{write:o,end:s,nodeIdx:0,prevBuf:new e(0),decodeTables:this.decodeTables,decodeTableSeq:this.decodeTableSeq,defaultCharUnicode:this.defaultCharUnicode,gb18030:this.gb18030}},t.prototype._getDecodeTrieNode=function(e){for(var t=[];e>0;e>>=8)t.push(255&e);0==t.length&&t.push(0);for(var n=this.decodeTables[0],r=t.length-1;r>0;r--){var i=n[t[r]];if(i==u)n[t[r]]=d-this.decodeTables.length,this.decodeTables.push(n=f.slice(0));else{if(!(d>=i))throw new Error("Overwrite byte in "+this.options.encodingName+", addr: "+e.toString(16));n=this.decodeTables[d-i]}}return n},t.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),n=this._getDecodeTrieNode(t);t=255&t;for(var r=1;r<e.length;r++){var i=e[r];if("string"==typeof i)for(var o=0;o<i.length;){var s=i.charCodeAt(o++);if(s>=55296&&56320>s){var a=i.charCodeAt(o++);if(!(a>=56320&&57344>a))throw new Error("Incorrect surrogate pair in "+this.options.encodingName+" at chunk "+e[0]);n[t++]=65536+1024*(s-55296)+(a-56320)}else if(s>4080&&4095>=s){for(var u=4095-s+2,c=[],d=0;u>d;d++)c.push(i.charCodeAt(o++));n[t++]=l-this.decodeTableSeq.length,this.decodeTableSeq.push(c)}else n[t++]=s}else{if("number"!=typeof i)throw new Error("Incorrect type '"+typeof i+"' given in "+this.options.encodingName+" at chunk "+e[0]);for(var f=n[t-1]+1,o=0;i>o;o++)n[t++]=f++}}if(t>255)throw new Error("Incorrect chunk in "+this.options.encodingName+" at addr "+e[0]+": too long"+t)},t.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=f.slice(0)),this.encodeTable[t]},t.prototype._setEncodeChar=function(e,t){var n=this._getEncodeBucket(e),r=255&e;n[r]<=l?this.encodeTableSeq[l-n[r]][h]=t:n[r]==u&&(n[r]=t)},t.prototype._setEncodeSequence=function(e,t){var n,r=e[0],i=this._getEncodeBucket(r),o=255&r;i[o]<=l?n=this.encodeTableSeq[l-i[o]]:(n={},i[o]!==u&&(n[h]=i[o]),i[o]=l-this.encodeTableSeq.length,this.encodeTableSeq.push(n));for(var s=1;s<e.length-1;s++){var a=n[r];"object"==typeof a?n=a:(n=n[r]={},void 0!==a&&(n[h]=a))}r=e[e.length-1],n[r]=t},t.prototype._fillEncodeTable=function(e,t,n){for(var r=this.decodeTables[e],i=0;256>i;i++){var o=r[i],s=t+i;n[s]||(o>=0?this._setEncodeChar(o,s):d>=o?this._fillEncodeTable(d-o,s<<8,n):l>=o&&this._setEncodeSequence(this.decodeTableSeq[l-o],s))}}}).call(this,e("buffer").Buffer)},{buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/dbcs-data.js":[function(e,t,n){t.exports={shiftjis:{type:"_dbcs",table:function(){return e("./tables/shiftjis.json")},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return e("./tables/eucjp.json")},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",isoir58:"gbk",windows936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return e("./tables/cp936.json")}},gbk:{type:"_dbcs",table:function(){return e("./tables/cp936.json").concat(e("./tables/gbk-added.json"))}},xgbk:"gbk",gb18030:{type:"_dbcs",table:function(){return e("./tables/cp936.json").concat(e("./tables/gbk-added.json"))},gb18030:function(){return e("./tables/gb18030-ranges.json")}},chinese:"gb18030",windows949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return e("./tables/cp949.json")}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return e("./tables/cp950.json")}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return e("./tables/cp950.json").concat(e("./tables/big5-added.json"))}},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},{"./tables/big5-added.json":"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/tables/big5-added.json","./tables/cp936.json":"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/tables/cp936.json","./tables/cp949.json":"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/tables/cp949.json","./tables/cp950.json":"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/tables/cp950.json","./tables/eucjp.json":"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/tables/eucjp.json","./tables/gb18030-ranges.json":"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/tables/gb18030-ranges.json","./tables/gbk-added.json":"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/tables/gbk-added.json","./tables/shiftjis.json":"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/tables/shiftjis.json"}],"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/index.js":[function(e,t,n){for(var r=[e("./internal"),e("./utf16"),e("./utf7"),e("./sbcs-codec"),e("./sbcs-data"),e("./sbcs-data-generated"),e("./dbcs-codec"),e("./dbcs-data")],i=0;i<r.length;i++){var t=r[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}},{"./dbcs-codec":"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/dbcs-codec.js","./dbcs-data":"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/dbcs-data.js","./internal":"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/internal.js","./sbcs-codec":"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/sbcs-codec.js","./sbcs-data":"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/sbcs-data.js","./sbcs-data-generated":"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/sbcs-data-generated.js","./utf16":"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/utf16.js","./utf7":"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/utf7.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/internal.js":[function(e,t,n){(function(n){function r(){return new l(this.enc)}function i(){return{write:o,end:function(){},enc:this.enc}}function o(e){return new n(e,this.enc)}function s(){return{write:a,end:u,prevStr:""}}function a(e){e=this.prevStr+e;var t=e.length-e.length%4;return this.prevStr=e.slice(t),e=e.slice(0,t),new n(e,"base64")}function u(){return new n(this.prevStr,"base64")}var c=new n([255,254]);t.exports={utf8:{type:"_internal",enc:"utf8"},cesu8:{type:"_internal",enc:"utf8"},unicode11utf8:{type:"_internal",enc:"utf8"},ucs2:{type:"_internal",enc:"ucs2",bom:c},utf16le:{type:"_internal",enc:"ucs2",bom:c},binary:{type:"_internal",enc:"binary"},base64:{type:"_internal",enc:"base64"},hex:{type:"_internal",enc:"hex"},_internal:function(e){if(!e||!e.enc)throw new Error("Internal codec is called without encoding type.");return{encoder:"base64"==e.enc?s:i,decoder:r,enc:e.enc,bom:e.bom}}};var l=e("string_decoder").StringDecoder;l.prototype.end||(l.prototype.end=function(){})}).call(this,e("buffer").Buffer)},{buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js",string_decoder:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/string_decoder/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/sbcs-codec.js":[function(e,t,n){(function(e){function t(e){return{write:r,end:function(){},encodeBuf:this.encodeBuf}}function r(t){for(var n=new e(t.length),r=0;r<t.length;r++)n[r]=this.encodeBuf[t.charCodeAt(r)];return n}function i(e){return{write:o,end:function(){},decodeBuf:this.decodeBuf}}function o(t){for(var n=this.decodeBuf,r=new e(2*t.length),i=0,o=0,s=0,a=t.length;a>s;s++)i=2*t[s],o=2*s,r[o]=n[i],r[o+1]=n[i+1];return r.toString("ucs2")}n._sbcs=function(n){if(!n)throw new Error("SBCS codec is called without the data.");if(!n.chars||128!==n.chars.length&&256!==n.chars.length)throw new Error("Encoding '"+n.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===n.chars.length){for(var r="",o=0;128>o;o++)r+=String.fromCharCode(o);n.chars=r+n.chars}var s=new e(n.chars,"ucs2"),a=new e(65536);a.fill(n.iconv.defaultCharSingleByte.charCodeAt(0));for(var o=0;o<n.chars.length;o++)a[n.chars.charCodeAt(o)]=o;return{encoder:t,decoder:i,encodeBuf:a,decodeBuf:s}}}).call(this,e("buffer").Buffer)},{buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/sbcs-data-generated.js":[function(e,t,n){t.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\x00\b	\n\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:""},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\x00\b	\n\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"
},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\x00\b	\n\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\x00\b	\n\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\x00\b	\n\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},{}],"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/sbcs-data.js":[function(e,t,n){t.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",10000:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},{}],"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/tables/big5-added.json":[function(e,t,n){t.exports=[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]]},{}],"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/tables/cp936.json":[function(e,t,n){t.exports=[["0","\x00",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]];

},{}],"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/tables/cp949.json":[function(e,t,n){t.exports=[["0","\x00",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]},{}],"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/tables/cp950.json":[function(e,t,n){t.exports=[["0","\x00",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]];

},{}],"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/tables/eucjp.json":[function(e,t,n){t.exports=[["0","\x00",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]},{}],"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/tables/gb18030-ranges.json":[function(e,t,n){t.exports={uChars:[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],gbChars:[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189e3]}},{}],"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/tables/gbk-added.json":[function(e,t,n){t.exports=[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93]]},{}],"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/tables/shiftjis.json":[function(e,t,n){t.exports=[["0","\x00",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]},{}],"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/utf16.js":[function(e,t,n){(function(e){function t(e){return{write:r,end:function(){}}}function r(t){for(var n=new e(t,"ucs2"),r=0;r<n.length;r+=2){var i=n[r];n[r]=n[r+1],n[r+1]=i}return n}function i(e){return{write:o,end:function(){},overflowByte:-1}}function o(t){if(0==t.length)return"";var n=new e(t.length+1),r=0,i=0;for(-1!==this.overflowByte&&(n[0]=t[0],n[1]=this.overflowByte,r=1,i=2);r<t.length-1;r+=2,i+=2)n[i]=t[r+1],n[i+1]=t[r];return this.overflowByte=r==t.length-1?t[t.length-1]:-1,n.slice(0,i).toString("ucs2")}function s(e){e=e||{};var t=this.getCodec(e.use||"utf-16be");if(!t.bom)throw new Error("iconv-lite: in UTF-16 encoder, 'use' parameter should be either UTF-16BE or UTF16-LE.");return{write:a,end:u,bom:t.bom,internalEncoder:t.encoder(e)}}function a(t){var n=this.internalEncoder.write(t);return this.bom&&(n=e.concat([this.bom,n]),this.bom=null),n}function u(){return this.internalEncoder.end()}function c(e){return{write:l,end:d,internalDecoder:null,initialBytes:[],initialBytesLen:0,options:e||{},getCodec:this.getCodec}}function l(e){return this.internalDecoder?this.internalDecoder.write(e):(this.initialBytes.push(e),this.initialBytesLen+=e.length,this.initialBytesLen<16?"":f.call(this))}function d(){if(this.internalDecoder)return this.internalDecoder.end();var e,t=f.call(this);return this.internalDecoder&&(e=this.internalDecoder.end()),e&&e.length>0?t+e:t}function f(){var t=e.concat(this.initialBytes);if(this.initialBytes.length=this.initialBytesLen=0,t.length<2)return"";var n=this.options["default"]||"utf-16be";if(254==t[0]&&255==t[1])n="utf-16be",t=t.slice(2);else if(255==t[0]&&254==t[1])n="utf-16le",t=t.slice(2);else{for(var r=[0,0],i=Math.min(t.length-t.length%2,64),o=0;i>o;o+=2)0==t[o]&&32==t[o+1]&&r[0]++,32==t[o]&&0==t[o+1]&&r[1]++;r[0]>0&&0==r[1]?n="utf-16be":0==r[0]&&r[1]>0&&(n="utf-16le")}return this.internalDecoder=this.getCodec(n).decoder(this.options),this.internalDecoder.write(t)}n.utf16be=function(n){return{encoder:t,decoder:i,bom:new e([254,255])}},n.utf16=function(e){return{encoder:s,decoder:c,getCodec:e.iconv.getCodec}}}).call(this,e("buffer").Buffer)},{buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/utf7.js":[function(e,t,n){(function(e){function t(t){return new e(t.replace(c,function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))}function r(t){for(var n="",r=0,i=this.inBase64,o=this.base64Accum,s=0;s<t.length;s++)if(i){if(!d[t[s]]){if(s==r&&t[s]==p)n+="+";else{var a=o+t.slice(r,s).toString();n+=this.iconv.decode(new e(a,"base64"),"utf16-be")}t[s]!=p&&s--,r=s+1,i=!1,o=""}}else t[s]==h&&(n+=this.iconv.decode(t.slice(r,s),"ascii"),r=s+1,i=!0);if(i){var a=o+t.slice(r).toString(),u=a.length-a.length%8;o=a.slice(u),a=a.slice(0,u),n+=this.iconv.decode(new e(a,"base64"),"utf16-be")}else n+=this.iconv.decode(t.slice(r),"ascii");return this.inBase64=i,this.base64Accum=o,n}function i(){var t="";return this.inBase64&&this.base64Accum.length>0&&(t=this.iconv.decode(new e(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",t}function o(t){for(var n=this.inBase64,r=this.base64Accum,i=this.base64AccumIdx,o=new e(5*t.length+10),s=0,a=0;a<t.length;a++){var u=t.charCodeAt(a);u>=32&&126>=u?(n&&(i>0&&(s+=o.write(r.slice(0,i).toString("base64").replace(/\//g,",").replace(/=+$/,""),s),i=0),o[s++]=p,n=!1),n||(o[s++]=u,u===m&&(o[s++]=p))):(n||(o[s++]=m,n=!0),n&&(r[i++]=u>>8,r[i++]=255&u,i==r.length&&(s+=o.write(r.toString("base64").replace(/\//g,","),s),i=0)))}return this.inBase64=n,this.base64AccumIdx=i,o.slice(0,s)}function s(){var t=new e(10),n=0;return this.inBase64&&(this.base64AccumIdx>0&&(n+=t.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),n),
this.base64AccumIdx=0),t[n++]=p,this.inBase64=!1),t.slice(0,n)}function a(t){for(var n="",r=0,i=this.inBase64,o=this.base64Accum,s=0;s<t.length;s++)if(i){if(!v[t[s]]){if(s==r&&t[s]==p)n+="&";else{var a=o+t.slice(r,s).toString().replace(/,/g,"/");n+=this.iconv.decode(new e(a,"base64"),"utf16-be")}t[s]!=p&&s--,r=s+1,i=!1,o=""}}else t[s]==m&&(n+=this.iconv.decode(t.slice(r,s),"ascii"),r=s+1,i=!0);if(i){var a=o+t.slice(r).toString().replace(/,/g,"/"),u=a.length-a.length%8;o=a.slice(u),a=a.slice(0,u),n+=this.iconv.decode(new e(a,"base64"),"utf16-be")}else n+=this.iconv.decode(t.slice(r),"ascii");return this.inBase64=i,this.base64Accum=o,n}function u(){var t="";return this.inBase64&&this.base64Accum.length>0&&(t=this.iconv.decode(new e(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",t}n.utf7=function(e){return{encoder:function(){return{write:t,end:function(){},iconv:e.iconv}},decoder:function(){return{write:r,end:i,iconv:e.iconv,inBase64:!1,base64Accum:""}}}};for(var c=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g,l=/[A-Za-z0-9\/+]/,d=[],f=0;256>f;f++)d[f]=l.test(String.fromCharCode(f));var h="+".charCodeAt(0),p="-".charCodeAt(0),m="&".charCodeAt(0);n.utf7imap=function(t){return{encoder:function(){return{write:o,end:s,iconv:t.iconv,inBase64:!1,base64Accum:new e(6),base64AccumIdx:0}},decoder:function(){return{write:a,end:u,iconv:t.iconv,inBase64:!1,base64Accum:""}}}};var v=d.slice();v[",".charCodeAt(0)]=!0}).call(this,e("buffer").Buffer)},{buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/lib/index.js":[function(e,t,n){(function(n,r){var i=t.exports;i.encodings=null,i.defaultCharUnicode="",i.defaultCharSingleByte="?",i.encode=function(e,t,n){e=""+(e||"");var o=i.getCodec(t).encoder(n),s=o.write(e),a=o.end();return a&&a.length>0?r.concat([s,a]):s},i.decode=function(e,t,n){"string"==typeof e&&(i.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),i.skipDecodeWarning=!0),e=new r(""+(e||""),"binary"));var o=i.getCodec(t).decoder(n),s=o.write(e),a=o.end();return a&&a.length>0?s+a:s},i.encodingExists=function(e){try{return i.getCodec(e),!0}catch(t){return!1}},i.toEncoding=i.encode,i.fromEncoding=i.decode,i._codecDataCache={},i.getCodec=function(t){i.encodings||(i.encodings=e("../encodings"));for(var n,r,o=(""+t).toLowerCase().replace(/[^0-9a-z]|:\d{4}$/g,"");;){if(n=i._codecDataCache[o])return n;var s=i.encodings[o];switch(typeof s){case"string":o=s;break;case"object":if(r)for(var a in s)r[a]=s[a];else r=s,r.encodingName=o;o=s.type;break;case"function":return r||(r={encodingName:o}),r.iconv=i,n=s.call(i.encodings,r),i._codecDataCache[r.encodingName]=n,n;default:throw new Error("Encoding not recognized: '"+t+"' (searched as: '"+o+"')")}}};var o="undefined"!=typeof n&&n.versions&&n.versions.node;if(o){var s=o.split(".").map(Number);(s[0]>0||s[1]>=10)&&e("./streams")(i),e("./extend-node")(i)}}).call(this,e("_process"),e("buffer").Buffer)},{"../encodings":"/Users/andersriutta/Sites/kaavio/node_modules/iconv-lite/encodings/index.js","./extend-node":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/browser-resolve/empty.js","./streams":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/browser-resolve/empty.js",_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/insert-css/index.js":[function(e,t,n){var r={};t.exports=function(e,t){if(!r[e]){r[e]=!0;var n=document.createElement("style");n.setAttribute("type","text/css"),"textContent"in n?n.textContent=e:n.styleSheet.cssText=e;var i=document.getElementsByTagName("head")[0];t&&t.prepend?i.insertBefore(n,i.childNodes[0]):i.appendChild(n)}}},{}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/index.js":[function(e,t,n){t.exports=e("./index.js")},{"./index.js":"./index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/lib/main.js":[function(e,t,n){var r=e("lodash"),i=e("hyperquest"),o=e("jsonld"),s=e("JSONStream"),a=e("lru-cache"),u=e("rx"),c=e("rx-node"),l=e("./utils.js");u.Observable.prototype.toNodeCallback=function(e){var t=this;return function(){var n,r=!1;t.subscribe(function(e){r=!0,n=e},function(t){e(t)},function(){r&&e(null,n)})}};var d=function(e){function t(e,t){return t=t||b.defaultContext,r.isPlainObject(e)?e["@context"]=e["@context"]||t:r.isArray(e)&&(e=e.map(function(e){return e["@context"]=e["@context"]||t,e})),e}function n(e){var t=y.get(e);if(t)return t;var n=c.fromReadableStream(i(e,{withCredentials:!1}).pipe(s.parse()));return t=new u.ReplaySubject(1),y.set(e,t),n.subscribe(function(e){t.onNext(e)},function(e){throw e},function(){t.onCompleted()}),t}function d(e){if(!e)throw new Error("No context provided in jsonldRx.dereferenceContext");var t=l.arrayifyClean(e);return u.Observable.from(t).flatMap(function(e){return r.isString(e)?n(e).map(function(e){return e["@context"]}):u.Observable["return"](e)}).toArray()}function f(e){return d(e).map(function(e){return e[0]})}function h(e){return r.pairs(e).reduce(function(e,t){var n,i=t[0],o=t[1];if(r.isString(o))n=o;else{if(!o["@id"]){if(o["@reverse"])return;throw console.warn(o),new Error("Cannot handle this context value.")}n=o["@id"]}return n&&(e[n]=i),e},{})}function p(e){return r.pairs(e).reduce(function(e,t){var n,r=t[0],i=t[1];if(!i["@id"])throw console.warn(i),new Error("Cannot handle this context value.");return n=i["@id"],e[n]=r,e},{})}e=e||{};var m=["compact","expand","flatten","frame","fromRDF","normalize","toRDF"],v=r.keys(o).filter(function(e){return"function"==typeof o[e]}),b=v.reduce(function(e,t){var n=o[t];return e[t]=m.indexOf(t)>-1?u.Observable.fromNodeCallback(n):n,e},{});b.defaultContext=e.defaultContext,b._runOnceGlobal=e._runOnceGlobal;var g={max:500,length:function(e){return 2*e},dispose:function(e,t){t.close()},maxAge:36e5},y=b._cache=a(g);return o.documentLoader=function(e,t){n(e).subscribe(function(n){var r={contextUrl:null,documentUrl:e,document:n||null};t(null,r)},function(e){t(e)})},b.defaultNormalize=function(e,n){t(e),n=n||{};var i={format:"application/nquads"};return r.defaults(n,i),b.normalize(e,n)},b.replaceContext=function(e,n){return t(e,b.defaultContext||n),n=n||e["@context"],b.expand(e,{keepFreeFloatingNodes:!0}).flatMap(function(e){return b.compact(e,n,{skipExpansion:!0})}).map(function(e){return e[0]})},b.mergeContexts=function(e){if(r.isPlainObject(e))return u.Observable["return"](e);if(r.isString(e))return d(e);var t=JSON.stringify(e),n=y.get(t);if(n)return n;var i=u.Observable.from(e).reduce(function(e,t){var n=JSON.stringify(t);return e[n]={context:t,index:e.index},e.index+=1,e},{index:0}).flatMap(function(e){return delete e.index,u.Observable.pairs(e).reduce(function(e,t){var n=t[1];return e[n.index]=n.context,e},[]).flatMap(function(e){return u.Observable.from(e).filter(function(e){return e})})}).concatMap(function(e){return u.Observable["return"](e).flatMap(f).flatMap(function(e){var t={"@context":e,"@id":"http://example.org/placeholder","@type":"gpml:GeneProduct"};return b.compact(t,e).map(function(e){{var t=e[1];t.inverse}return t})})}).reduce(function(e,t){var n=t["@base"].href;n&&(e["@base"]=n);var i=t["@vocab"];i&&(e["@vocab"]=i);var o=t.mappings,s=h(e),a=p(o),u=r.intersection(r.keys(s),r.keys(a));u.map(function(t){var n=s[t],r=a[t];n!==r&&(console.warn("Colliding @id's: \""+t+'" is referred to by both "'+n+'" and "'+r+'".'),console.warn('  Resolving collision by deleting term "'+n+'".'),delete e[n])});var c=r.intersection(r.keys(e),r.keys(o));return c.forEach(function(t){var n=e[t]["@id"],r=o[t]["@id"];n!==r&&(console.warn('Colliding Terms (Keywords): "'+t+'" is ambiguous, referring to both "'+n+'" and "'+r+'".'),console.warn('  Resolving collision by specifying that "'+t+'" refers only to "'+r+'"'))}),r.assign(e,o),e},{});return n=new u.ReplaySubject(1),i.subscribe(function(e){n.onNext(e)},function(e){throw e},function(){n.onCompleted()}),y.set(t,n),n},b.arrayify=l.arrayify,b.arrayifyClean=l.arrayifyClean,b.defaultsDeep=l.defaultsDeep,b.hierarchicalPartition=l.hierarchicalPartition,b};t.exports=d},{"./utils.js":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/lib/utils.js",JSONStream:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/JSONStream/index.js",hyperquest:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/hyperquest/index.js",jsonld:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/jsonld/js/jsonld.js",lodash:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/lodash/index.js","lru-cache":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/lru-cache/lib/lru-cache.js",rx:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/rx/dist/rx.all.js","rx-node":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/rx-node/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/lib/utils.js":[function(e,t,n){function r(e){return s.isArray(e)?e:[e]}function i(e){return e||e===!1||0===e?r(e):[]}function o(e,t,n){var r,i,o=new a.Subject,s=a.Observable.merge(e.map(function(e){return r=e,e}),o).partition(t),u=s[0],c=s[1];return i=n?n.merge(c):c,{mainSource:u,resetSource:i,loopback:function(){o.onNext(r)}}}var s=e("lodash"),a=e("rx"),u=s.partialRight(s.merge,function c(e,t){return s.merge(e,t,c)});t.exports={arrayify:r,arrayifyClean:i,defaultsDeep:u,hierarchicalPartition:o}},{lodash:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/lodash/index.js",rx:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/rx/dist/rx.all.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/JSONStream/index.js":[function(e,t,n){(function(r,i){function o(e,t){return"string"==typeof e?t==e:e&&"function"==typeof e.exec?e.exec(t):"boolean"==typeof e?e:"function"==typeof e?e(t):!1}var s=e("jsonparse"),a=e("through");n.parse=function(e,t){var n=new s,r=a(function(e){"string"==typeof e&&(e=new i(e)),n.write(e)},function(e){e&&r.write(e),r.queue(null)});"string"==typeof e&&(e=e.split(".").map(function(e){return"*"===e?!0:""===e?{recurse:!0}:e}));var u=0;return e&&e.length||(e=null),n.onValue=function(n){if(this.root||(r.root=n),e){for(var i=0,s=0;i<e.length;){var a,c=e[i];if(s++,c&&!c.recurse){if(a=s===this.stack.length?this:this.stack[s],!a)return;if(!o(c,a.key))return;i++}else{i++;var l=e[i];if(!l)return;for(;;){if(a=s===this.stack.length?this:this.stack[s],!a)return;if(o(l,a.key)){i++,this.stack[s].value=null;break}s++}}}if(s===this.stack.length){u++;var d=this.stack.slice(1).map(function(e){return e.key}).concat([this.key]),f=this.value[this.key];null!=f&&null!=(f=t?t(f,d):f)&&r.queue(f),delete this.value[this.key];for(var h in this.stack)this.stack[h].value=null}}},n._onToken=n.onToken,n.onToken=function(t,i){n._onToken(t,i),0===this.stack.length&&r.root&&(e||r.queue(r.root),u=0,r.root=null)},n.onError=function(e){e.message.indexOf("at position")>-1&&(e.message="Invalid JSON ("+e.message+")"),r.emit("error",e)},r},n.stringify=function(e,t,n,r){r=r||0,e===!1?(e="",t="\n",n=""):null==e&&(e="[\n",t="\n,\n",n="\n]\n");var i,o=!0,s=!1;return i=a(function(n){s=!0;var a=JSON.stringify(n,null,r);o?(o=!1,i.queue(e+a)):i.queue(t+a)},function(t){s||i.queue(e),i.queue(n),i.queue(null)})},n.stringifyObject=function(e,t,n,r){r=r||0,e===!1?(e="",t="\n",n=""):null==e&&(e="{\n",t="\n,\n",n="\n}\n");var i=!0,o=!1;return stream=a(function(n){o=!0;var s=JSON.stringify(n[0])+":"+JSON.stringify(n[1],null,r);i?(i=!1,this.queue(e+s)):this.queue(t+s)},function(t){o||this.queue(e),this.queue(n),this.queue(null)}),stream},t.parent||"browser"===r.title||r.stdin.pipe(n.parse(r.argv[2])).pipe(n.stringify("[",",\n","]\n",2)).pipe(r.stdout)}).call(this,e("_process"),e("buffer").Buffer)},{_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js",jsonparse:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/JSONStream/node_modules/jsonparse/jsonparse.js",through:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/through/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/JSONStream/node_modules/jsonparse/jsonparse.js":[function(e,t,n){(function(e){function n(e){for(var t=Object.keys(i),n=0,r=t.length;r>n;n++){var o=t[n];if(i[o]===e)return o}return e&&"0x"+e.toString(16)}function r(){this.tState=v,this.value=void 0,this.string=void 0,this.unicode=void 0,this.negative=void 0,this.magnatude=void 0,this.position=void 0,this.exponent=void 0,this.negativeExponent=void 0,this.numberLength=0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=V,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new e(2),3:new e(3),4:new e(4)},this.offset=-1}var i={},o=i.LEFT_BRACE=1,s=i.RIGHT_BRACE=2,a=i.LEFT_BRACKET=3,u=i.RIGHT_BRACKET=4,c=i.COLON=5,l=i.COMMA=6,d=i.TRUE=7,f=i.FALSE=8,h=i.NULL=9,p=i.STRING=10,m=i.NUMBER=11,v=i.START=17,b=i.TRUE1=33,g=i.TRUE2=34,y=i.TRUE3=35,w=i.FALSE1=49,_=i.FALSE2=50,x=i.FALSE3=51,k=i.FALSE4=52,S=i.NULL1=65,C=i.NULL2=66,E=i.NULL3=67,j=i.NUMBER1=81,N=i.NUMBER2=82,R=i.NUMBER3=83,T=i.NUMBER4=84,U=i.NUMBER5=85,D=i.NUMBER6=86,A=i.NUMBER7=87,O=i.NUMBER8=88,I=i.STRING1=97,W=i.STRING2=98,M=i.STRING3=99,Z=i.STRING4=100,B=i.STRING5=101,L=i.STRING6=102,V=i.VALUE=113,G=i.KEY=114,z=i.OBJECT=129,F=i.ARRAY=130,X=r.prototype;X.charError=function(e,t){this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(e[t]))+" at position "+t+" in state "+n(this.tState)))},X.onError=function(e){throw e},X.write=function(t){"string"==typeof t&&(t=new e(t));for(var r,i=0,V=t.length;V>i;i++)if(this.tState===v)r=t[i],this.offset++,123===r?this.onToken(o,"{"):125===r?this.onToken(s,"}"):91===r?this.onToken(a,"["):93===r?this.onToken(u,"]"):58===r?this.onToken(c,":"):44===r?this.onToken(l,","):116===r?this.tState=b:102===r?this.tState=w:110===r?this.tState=S:34===r?(this.string="",this.tState=I):45===r?(this.negative=!0,this.tState=j):48===r?(this.magnatude=0,this.tState=N):r>48&&64>r?(this.magnatude=r-48,this.tState=R):32===r||9===r||10===r||13===r||this.charError(t,i);else if(this.tState===I)if(r=t[i],this.bytes_remaining>0){for(var G=0;G<this.bytes_remaining;G++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+G]=t[G];this.string+=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,i=i+G-1}else if(0===this.bytes_remaining&&r>=128){if(193>=r)return void this.onError(new Error("Invalid UTF-8 character at position "+i+" in state "+n(this.tState)));if(r>=194&&223>=r&&(this.bytes_in_sequence=2),r>=224&&239>=r&&(this.bytes_in_sequence=3),r>=240&&244>=r&&(this.bytes_in_sequence=4),this.bytes_in_sequence+i>t.length){for(var z=0;z<=t.length-1-i;z++)this.temp_buffs[this.bytes_in_sequence][z]=t[i+z];this.bytes_remaining=i+this.bytes_in_sequence-t.length,i=t.length-1}else this.string+=t.slice(i,i+this.bytes_in_sequence).toString(),i=i+this.bytes_in_sequence-1}else 34===r?(this.tState=v,this.onToken(p,this.string),this.offset+=e.byteLength(this.string,"utf8")+1,this.string=void 0):92===r?this.tState=W:r>=32?this.string+=String.fromCharCode(r):this.charError(t,i);else this.tState===W?(r=t[i],34===r?(this.string+='"',this.tState=I):92===r?(this.string+="\\",this.tState=I):47===r?(this.string+="/",this.tState=I):98===r?(this.string+="\b",this.tState=I):102===r?(this.string+="\f",this.tState=I):110===r?(this.string+="\n",this.tState=I):114===r?(this.string+="\r",this.tState=I):116===r?(this.string+="	",this.tState=I):117===r?(this.unicode="",this.tState=M):this.charError(t,i)):this.tState===M||this.tState===Z||this.tState===B||this.tState===L?(r=t[i],r>=48&&64>r||r>64&&70>=r||r>96&&102>=r?(this.unicode+=String.fromCharCode(r),this.tState++===L&&(this.string+=String.fromCharCode(parseInt(this.unicode,16)),this.unicode=void 0,this.tState=I)):this.charError(t,i)):this.tState===j?(r=t[i],this.numberLength++,48===r?(this.magnatude=0,this.tState=N):r>48&&64>r?(this.magnatude=r-48,this.tState=R):this.charError(t,i)):this.tState===N?(r=t[i],this.numberLength++,46===r?(this.position=.1,this.tState=T):101===r||69===r?(this.exponent=0,this.tState=D):(this.tState=v,this.onToken(m,0),this.offset+=this.numberLength-1,this.numberLength=0,this.magnatude=void 0,this.negative=void 0,i--)):this.tState===R?(r=t[i],this.numberLength++,46===r?(this.position=.1,this.tState=T):101===r||69===r?(this.exponent=0,this.tState=D):r>=48&&64>r?this.magnatude=10*this.magnatude+r-48:(this.tState=v,this.negative&&(this.magnatude=-this.magnatude,this.negative=void 0),this.onToken(m,this.magnatude),this.offset+=this.numberLength-1,this.numberLength=0,this.magnatude=void 0,i--)):this.tState===T?(r=t[i],this.numberLength++,r>=48&&64>r?(this.magnatude+=this.position*(r-48),this.position/=10,this.tState=U):this.charError(t,i)):this.tState===U?(r=t[i],this.numberLength++,r>=48&&64>r?(this.magnatude+=this.position*(r-48),this.position/=10):101===r||69===r?(this.exponent=0,this.tState=D):(this.tState=v,this.negative&&(this.magnatude=-this.magnatude,this.negative=void 0),this.onToken(m,this.negative?-this.magnatude:this.magnatude),this.offset+=this.numberLength-1,this.numberLength=0,this.magnatude=void 0,this.position=void 0,i--)):this.tState===D?(r=t[i],this.numberLength++,43===r||45===r?(45===r&&(this.negativeExponent=!0),this.tState=A):r>=48&&64>r?(this.exponent=10*this.exponent+(r-48),this.tState=O):this.charError(t,i)):this.tState===A?(r=t[i],this.numberLength++,r>=48&&64>r?(this.exponent=10*this.exponent+(r-48),this.tState=O):this.charError(t,i)):this.tState===O?(r=t[i],this.numberLength++,r>=48&&64>r?this.exponent=10*this.exponent+(r-48):(this.negativeExponent&&(this.exponent=-this.exponent,this.negativeExponent=void 0),this.magnatude*=Math.pow(10,this.exponent),this.exponent=void 0,this.negative&&(this.magnatude=-this.magnatude,this.negative=void 0),this.tState=v,this.onToken(m,this.magnatude),this.offset+=this.numberLength-1,this.numberLength=0,this.magnatude=void 0,i--)):this.tState===b?114===t[i]?this.tState=g:this.charError(t,i):this.tState===g?117===t[i]?this.tState=y:this.charError(t,i):this.tState===y?101===t[i]?(this.tState=v,this.onToken(d,!0),this.offset+=3):this.charError(t,i):this.tState===w?97===t[i]?this.tState=_:this.charError(t,i):this.tState===_?108===t[i]?this.tState=x:this.charError(t,i):this.tState===x?115===t[i]?this.tState=k:this.charError(t,i):this.tState===k?101===t[i]?(this.tState=v,this.onToken(f,!1),this.offset+=4):this.charError(t,i):this.tState===S?117===t[i]?this.tState=C:this.charError(t,i):this.tState===C?108===t[i]?this.tState=E:this.charError(t,i):this.tState===E&&(108===t[i]?(this.tState=v,this.onToken(h,null),this.offset+=3):this.charError(t,i))},X.onToken=function(e,t){},X.parseError=function(e,t){this.onError(new Error("Unexpected "+n(e)+(t?"("+JSON.stringify(t)+")":"")+" in state "+n(this.state)))},X.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},X.pop=function(){var e=this.value,t=this.stack.pop();this.value=t.value,this.key=t.key,this.mode=t.mode,this.emit(e),this.mode||(this.state=V)},X.emit=function(e){this.mode&&(this.state=l),this.onValue(e)},X.onValue=function(e){},X.onToken=function(e,t){this.state===V?e===p||e===m||e===d||e===f||e===h?(this.value&&(this.value[this.key]=t),this.emit(t)):e===o?(this.push(),this.value=this.value?this.value[this.key]={}:{},this.key=void 0,this.state=G,this.mode=z):e===a?(this.push(),this.value=this.value?this.value[this.key]=[]:[],this.key=0,this.mode=F,this.state=V):e===s?this.mode===z?this.pop():this.parseError(e,t):e===u&&this.mode===F?this.pop():this.parseError(e,t):this.state===G?e===p?(this.key=t,this.state=c):e===s?this.pop():this.parseError(e,t):this.state===c?e===c?this.state=V:this.parseError(e,t):this.state===l?e===l?this.mode===F?(this.key++,this.state=V):this.mode===z&&(this.state=G):e===u&&this.mode===F||e===s&&this.mode===z?this.pop():this.parseError(e,t):this.parseError(e,t)},r.C=i,t.exports=r}).call(this,e("buffer").Buffer)},{buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/core-util-is/lib/util.js":[function(e,t,n){(function(e){function t(e){return Array.isArray(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function s(e){return"number"==typeof e}function a(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function c(e){return void 0===e}function l(e){return d(e)&&"[object RegExp]"===b(e)}function d(e){return"object"==typeof e&&null!==e}function f(e){return d(e)&&"[object Date]"===b(e)}function h(e){return d(e)&&("[object Error]"===b(e)||e instanceof Error)}function p(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function v(t){return e.isBuffer(t)}function b(e){return Object.prototype.toString.call(e)}n.isArray=t,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=s,n.isString=a,n.isSymbol=u,n.isUndefined=c,n.isRegExp=l,n.isObject=d,n.isDate=f,n.isError=h,n.isFunction=p,n.isPrimitive=m,n.isBuffer=v}).call(this,e("buffer").Buffer)},{buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/es6-promise/dist/es6-promise.js":[function(e,t,n){(function(e,n){(function(){"use strict";function r(e){return"function"==typeof e||"object"==typeof e&&null!==e}function i(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(){}function a(){return function(){e.nextTick(d)}}function u(){var e=0,t=new L(d),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function c(){var e=new MessageChannel;return e.port1.onmessage=d,function(){e.port2.postMessage(0)}}function l(){return function(){setTimeout(d,1)}}function d(){for(var e=0;M>e;e+=2){var t=G[e],n=G[e+1];t(n),G[e]=void 0,G[e+1]=void 0}M=0}function f(){}function h(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function m(e){try{return e.then}catch(t){return Y.error=t,Y}}function v(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function b(e,t,n){Z(function(e){var r=!1,i=v(n,t,function(n){r||(r=!0,t!==n?w(e,n):x(e,n))},function(t){r||(r=!0,k(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,k(e,i))},e)}function g(e,t){t._state===F?x(e,t._result):e._state===X?k(e,t._result):S(t,void 0,function(t){w(e,t)},function(t){k(e,t)})}function y(e,t){if(t.constructor===e.constructor)g(e,t);else{var n=m(t);n===Y?k(e,Y.error):void 0===n?x(e,t):i(n)?b(e,t,n):x(e,t)}}function w(e,t){e===t?k(e,h()):r(t)?y(e,t):x(e,t)}function _(e){e._onerror&&e._onerror(e._result),C(e)}function x(e,t){e._state===z&&(e._result=t,e._state=F,0===e._subscribers.length||Z(C,e))}function k(e,t){e._state===z&&(e._state=X,e._result=t,Z(_,e))}function S(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+F]=n,i[o+X]=r,0===o&&e._state&&Z(C,e)}function C(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,i,o=e._result,s=0;s<t.length;s+=3)r=t[s],i=t[s+n],r?N(n,r,i,o):i(o);e._subscribers.length=0}}function E(){this.error=null}function j(e,t){try{return e(t)}catch(n){return J.error=n,J}}function N(e,t,n,r){var o,s,a,u,c=i(n);if(c){if(o=j(n,r),o===J?(u=!0,s=o.error,o=null):a=!0,t===o)return void k(t,p())}else o=r,a=!0;t._state!==z||(c&&a?w(t,o):u?k(t,s):e===F?x(t,o):e===X&&k(t,o))}function R(e,t){try{t(function(t){w(e,t)},function(t){k(e,t)})}catch(n){k(e,n)}}function T(e,t,n,r){this._instanceConstructor=e,this.promise=new e(f,r),this._abortOnReject=n,this._validateInput(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._init(),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&x(this.promise,this._result))):k(this.promise,this._validationError())}function U(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function D(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function A(e){this._id=$++,this._state=void 0,this._result=void 0,this._subscribers=[],f!==e&&(i(e)||U(),this instanceof A||D(),R(this,e))}var O;O=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var I,W=O,M=(Date.now||function(){return(new Date).getTime()},Object.create||function(e){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof e)throw new TypeError("Argument must be an object");return s.prototype=e,new s},0),Z=function(e,t){G[M]=e,G[M+1]=t,M+=2,2===M&&I()},B="undefined"!=typeof window?window:{},L=B.MutationObserver||B.WebKitMutationObserver,V="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,G=new Array(1e3);I="undefined"!=typeof e&&"[object process]"==={}.toString.call(e)?a():L?u():V?c():l();var z=void 0,F=1,X=2,Y=new E,J=new E;T.prototype._validateInput=function(e){return W(e)},T.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},T.prototype._init=function(){this._result=new Array(this.length)};var q=T;T.prototype._enumerate=function(){for(var e=this.length,t=this.promise,n=this._input,r=0;t._state===z&&e>r;r++)this._eachEntry(n[r],r)},T.prototype._eachEntry=function(e,t){var n=this._instanceConstructor;o(e)?e.constructor===n&&e._state!==z?(e._onerror=null,this._settledAt(e._state,t,e._result)):this._willSettleAt(n.resolve(e),t):(this._remaining--,this._result[t]=this._makeResult(F,t,e))},T.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===z&&(this._remaining--,this._abortOnReject&&e===X?k(r,n):this._result[t]=this._makeResult(e,t,n)),0===this._remaining&&x(r,this._result)},T.prototype._makeResult=function(e,t,n){return n},T.prototype._willSettleAt=function(e,t){var n=this;S(e,void 0,function(e){n._settledAt(F,t,e)},function(e){n._settledAt(X,t,e)})};var Q=function(e,t){return new q(this,e,!0,t).promise},P=function(e,t){function n(e){w(o,e)}function r(e){k(o,e)}var i=this,o=new i(f,t);if(!W(e))return k(o,new TypeError("You must pass an array to race.")),o;for(var s=e.length,a=0;o._state===z&&s>a;a++)S(i.resolve(e[a]),void 0,n,r);return o},H=function(e,t){var n=this;if(e&&"object"==typeof e&&e.constructor===n)return e;var r=new n(f,t);return w(r,e),r},K=function(e,t){var n=this,r=new n(f,t);return k(r,e),r},$=0,ee=A;A.all=Q,A.race=P,A.resolve=H,A.reject=K,A.prototype={constructor:A,then:function(e,t){var n=this,r=n._state;if(r===F&&!e||r===X&&!t)return this;var i=new this.constructor(f),o=n._result;if(r){var s=arguments[r-1];Z(function(){N(r,i,s,o)})}else S(n,i,e,t);return i},"catch":function(e){return this.then(null,e)}};var te=function(){var e;e="undefined"!=typeof n?n:"undefined"!=typeof window&&window.document?window:self;var t="Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var t;return new e.Promise(function(e){t=e}),i(t)}();t||(e.Promise=ee)},ne={Promise:ee,polyfill:te};"function"==typeof define&&define.amd?define(function(){return ne}):"undefined"!=typeof t&&t.exports?t.exports=ne:"undefined"!=typeof this&&(this.ES6Promise=ne)}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/hyperquest/index.js":[function(e,t,n){(function(n,r){function i(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){var r=n.concat(Array.prototype.slice.call(arguments));return t.apply(e,r)}}function o(e,t,r,o){"object"==typeof e&&(r=t,t=e,e=void 0),"function"==typeof t&&(r=t,t=void 0),t||(t={}),void 0!==e&&(t.uri=e),o&&(t.method=o.method);var a=new s(t),u=a.duplex&&l(),c=l(),f=a.duplex?d(u,c):c;a.duplex||(c.writable=!1),f.request=a,f.setHeader=i(a,a.setHeader),f.setLocation=i(a,a.setLocation);var h=!1;return f.on("close",function(){h=!0}),n.nextTick(function(){if(!h){f.on("close",function(){e.destroy()});var e=a._send();e.on("error",i(f,f.emit,"error")),f.emit("request",e),e.on("response",function(e){f.response=e,f.emit("response",e),a.duplex?e.pipe(c):(e.on("data",function(e){c.push(e)}),e.on("end",function(){c.push(null)}))}),a.duplex?u.pipe(e):e.end()}}),r&&(f.on("error",r),f.on("response",i(f,r,null))),f}function s(e){this.headers=e.headers||{};var t=(e.method||"GET").toUpperCase();this.method=t,this.duplex=!("GET"===t||"DELETE"===t||"HEAD"===t),this.auth=e.auth,this.options=e,e.uri&&this.setLocation(e.uri)}var a=e("url"),u=e("http"),c=e("https"),l=e("through2"),d=e("duplexer2");t.exports=o,o.get=o,o.post=function(e,t,n){return o(e,t,n,{method:"POST"})},o.put=function(e,t,n){return o(e,t,n,{method:"PUT"})},o["delete"]=function(e,t,n){return o(e,t,n,{method:"DELETE"})},s.prototype._send=function(){this._sent=!0;var e=this.headers||{},t=a.parse(this.uri),n=t.auth||this.auth;n&&(e.authorization="Basic "+r(n).toString("base64"));var i=t.protocol||"",o="https:"===i?c:u,s={scheme:i.replace(/:$/,""),method:this.method,host:t.hostname,port:Number(t.port)||("https:"===i?443:80),path:t.path,agent:this.options.agent||!1,headers:e,withCredentials:this.options.withCredentials};"https:"===i&&(s.pfx=this.options.pfx,s.key=this.options.key,s.cert=this.options.cert,s.ca=this.options.ca,s.ciphers=this.options.ciphers,s.rejectUnauthorized=this.options.rejectUnauthorized,s.secureProtocol=this.options.secureProtocol);var l=o.request(s);return l.setTimeout&&l.setTimeout(1e3*Math.pow(2,32)),l},s.prototype.setHeader=function(e,t){if(this._sent)throw new Error("request already sent");return this.headers[e]=t,this},s.prototype.setLocation=function(e){return this.uri=e,this}}).call(this,e("_process"),e("buffer").Buffer)},{_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js",duplexer2:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/hyperquest/node_modules/duplexer2/index.js",http:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/http-browserify/index.js",https:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/https-browserify/index.js",through2:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/through2/through2.js",url:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/url/url.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/hyperquest/node_modules/duplexer2/index.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/index.js");

},{"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/index.js":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/duplexer2/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/inherits/inherits_browser.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/isarray/index.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/isarray/index.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/isarray/index.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/isarray/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/jsonld/browser/ignore.js":[function(e,t,n){},{}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/jsonld/js/jsonld.js":[function(e,t,n){(function(n,r,i){!function(){var o="undefined"!=typeof n&&n.versions&&n.versions.node,s=!o&&("undefined"!=typeof window||"undefined"!=typeof self);s&&"undefined"==typeof r&&("undefined"!=typeof window?r=window:"undefined"!=typeof self?r=self:"undefined"!=typeof $&&(r=$));var a=function(t){function a(){}function u(e){for(var t=[],n=Object.keys(e).sort(),r=0;r<n.length;++r){var i=n[r],o=e[i];z(o)||(o=[o]);for(var s=0;s<o.length;++s){var a=o[s];if(!X(a))throw new Ie("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:e});t.push({"@value":a,"@language":i.toLowerCase()})}}return t}function c(e,t){if(z(t))for(var n=0;n<t.length;++n)t[n]=c(e,t[n]);else if(ee(t))t["@list"]=c(e,t["@list"]);else if(V(t)){te(t)&&(t["@id"]=e.getName(t["@id"]));for(var r=Object.keys(t).sort(),i=0;i<r.length;++i){var o=r[i];"@id"!==o&&(t[o]=c(e,t[o]))}}return t}function l(e,n,r){if(null===r||void 0===r)return null;var i=W(e,n,{vocab:!0});if("@id"===i)return W(e,r,{base:!0});if("@type"===i)return W(e,r,{vocab:!0,base:!0});var o=t.getContextValue(e,n,"@type");if("@id"===o||"@graph"===i&&X(r))return{"@id":W(e,r,{base:!0})};if("@vocab"===o)return{"@id":W(e,r,{vocab:!0,base:!0})};if(L(i))return r;var s={};if(null!==o)s["@type"]=o;else if(X(r)){var a=t.getContextValue(e,n,"@language");null!==a&&(s["@language"]=a)}return-1===["boolean","number","string"].indexOf(typeof r)&&(r=r.toString()),s["@value"]=r,s}function d(e,t,n){for(var r=[],i=Object.keys(e).sort(),o=0;o<i.length;++o)for(var s=i[o],a=e[s],u=Object.keys(a).sort(),c=0;c<u.length;++c){var l=u[c],d=a[l];if("@type"===l)l=Ne;else if(L(l))continue;for(var p=0;p<d.length;++p){var m=d[p],v={};if(v.type=0===s.indexOf("_:")?"blank node":"IRI",v.value=s,ne(s)){var b={};if(b.type=0===l.indexOf("_:")?"blank node":"IRI",b.value=l,ne(l)&&("blank node"!==b.type||n.produceGeneralizedRdf))if(ee(m))f(m["@list"],t,v,b,r);else{var g=h(m);g&&r.push({subject:v,predicate:b,object:g})}}}}return r}function f(e,t,n,r,i){for(var o={type:"IRI",value:Ce},s={type:"IRI",value:Ee},a={type:"IRI",value:je},u=0;u<e.length;++u){var c=e[u],l={type:"blank node",value:t.getName()};i.push({subject:n,predicate:r,object:l}),n=l,r=o;var d=h(c);d&&i.push({subject:n,predicate:r,object:d}),r=s}i.push({subject:n,predicate:r,object:a})}function h(e){var t={};if($(e)){t.type="literal";var n=e["@value"],r=e["@type"]||null;Q(n)?(t.value=n.toString(),t.datatype=r||ye):J(n)||r===we?(J(n)||(n=parseFloat(n)),t.value=n.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),t.datatype=r||we):Y(n)?(t.value=n.toFixed(0),t.datatype=r||_e):"@language"in e?(t.value=n,t.datatype=r||De,t.language=e["@language"]):(t.value=n,t.datatype=r||xe)}else{var i=V(e)?e["@id"]:e;t.type=0===i.indexOf("_:")?"blank node":"IRI",t.value=i}return"IRI"!==t.type||ne(t.value)?t:null}function p(e,t){if("IRI"===e.type||"blank node"===e.type)return{"@id":e.value};var n={"@value":e.value};if(e.language)n["@language"]=e.language;else{var r=e.datatype;if(r||(r=xe),t){if(r===ye)"true"===n["@value"]?n["@value"]=!0:"false"===n["@value"]&&(n["@value"]=!1);else if(q(n["@value"]))if(r===_e){var i=parseInt(n["@value"],10);i.toFixed(0)===n["@value"]&&(n["@value"]=i)}else r===we&&(n["@value"]=parseFloat(n["@value"]));-1===[ye,_e,we,xe].indexOf(r)&&(n["@type"]=r)}else r!==xe&&(n["@type"]=r)}return n}function m(e,t){for(var n=["subject","predicate","object"],r=0;r<n.length;++r){var i=n[r];if(e[i].type!==t[i].type||e[i].value!==t[i].value)return!1}return e.object.language!==t.object.language?!1:e.object.datatype!==t.object.datatype?!1:!0}function v(e,t){if("hash"in t[e])return t[e].hash;for(var n=t[e].quads,r=[],i=0;i<n.length;++i)r.push(ue(n[i],n[i].name?n[i].name.value:null,e));r.sort();var o=t[e].hash=Ze.hash(r);return o}function b(e,n,r,i,o){function s(o){if(o===d.length)return u=Object.keys(l).sort(),a(0);var c=d[o],f=g(c.subject,e),h=null;if(null!==f?h="p":(f=g(c.object,e),null!==f&&(h="r")),null!==f){var p;p=r.isNamed(f)?r.getName(f):i.isNamed(f)?i.getName(f):v(f,n);var m=Ze.create();m.update(h),m.update(c.predicate.value),m.update(p);var b=m.digest();b in l?l[b].push(f):l[b]=[f]}t.setImmediate(function(){s(o+1)})}function a(e){function s(){function u(e){if(e===g.length)return l(!1);var t=g[e];b(t,n,r,m,function(n,r){return n?o(n):(v+=m.getName(t)+"<"+r.hash+">",m=r.pathNamer,null!==f&&v.length>=f.length&&v>f?l(!0):void u(e+1))})}function l(n){!n&&(null===f||f>v)&&(f=v,h=m),p.hasNext()?t.setImmediate(function(){s()}):(c.update(f),i=h,a(e+1))}var d=p.next(),m=i.clone(),v="",g=[];for(var y in d){var w=d[y];if(r.isNamed(w)?v+=r.getName(w):(m.isNamed(w)||g.push(w),v+=m.getName(w)),null!==f&&v.length>=f.length&&v>f)return l(!0)}u(0)}if(e===u.length)return o(null,{hash:c.digest(),pathNamer:i});var d=u[e];c.update(d);var f=null,h=null,p=new Me(l[d]);t.setImmediate(function(){s()})}var u,c=Ze.create(),l={},d=n[e].quads;t.setImmediate(function(){s(0)})}function g(e,t){return"blank node"===e.type&&e.value!==t?e.value:null}function y(e,n,r,i,o,s){if(z(e))for(var a=0;a<e.length;++a)y(e[a],n,r,i,void 0,s);else{if(!V(e))return void(s&&s.push(e));if($(e)){if("@type"in e){var u=e["@type"];0===u.indexOf("_:")&&(e["@type"]=u=i.getName(u))}return void(s&&s.push(e))}if("@type"in e)for(var c=e["@type"],a=0;a<c.length;++a){var u=c[a];0===u.indexOf("_:")&&i.getName(u)}P(o)&&(o=te(e)?i.getName(e["@id"]):e["@id"]),s&&s.push({"@id":o});var l=n[r],d=l[o]=l[o]||{};d["@id"]=o;for(var f=Object.keys(e).sort(),h=0;h<f.length;++h){var p=f[h];if("@id"!==p)if("@reverse"!==p)if("@graph"!==p)if("@type"!==p&&L(p)){if("@index"===p&&p in d&&(e[p]!==d[p]||e[p]["@id"]!==d[p]["@id"]))throw new Ie("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:d});d[p]=e[p]}else{var m=e[p];if(0===p.indexOf("_:")&&(p=i.getName(p)),0!==m.length)for(var v=0;v<m.length;++v){var b=m[v];if("@type"===p&&(b=0===b.indexOf("_:")?i.getName(b):b),H(b)||K(b)){var g=te(b)?i.getName(b["@id"]):b["@id"];t.addValue(d,p,{"@id":g},{propertyIsArray:!0,allowDuplicate:!1}),y(b,n,r,i,g)}else if(ee(b)){var w=[];y(b["@list"],n,r,i,o,w),b={"@list":w},t.addValue(d,p,b,{propertyIsArray:!0,allowDuplicate:!1})}else y(b,n,r,i,o),t.addValue(d,p,b,{propertyIsArray:!0,allowDuplicate:!1})}else t.addValue(d,p,[],{propertyIsArray:!0})}else{o in n||(n[o]={});var _="@merged"===r?r:o;y(e[p],n,_,i)}else{var x={"@id":o},k=e["@reverse"];for(var S in k)for(var C=k[S],E=0;E<C.length;++E){var j=C[E],N=j["@id"];te(j)&&(N=i.getName(N)),y(j,n,r,i,N),t.addValue(l[N],S,x,{propertyIsArray:!0,allowDuplicate:!1})}}}}}function w(e){for(var t=e["@default"],n=Object.keys(e).sort(),r=0;r<n.length;++r){var i=n[r];if("@default"!==i){var o=e[i],s=t[i];s?"@graph"in s||(s["@graph"]=[]):t[i]=s={"@id":i,"@graph":[]};for(var a=s["@graph"],u=Object.keys(o).sort(),c=0;c<u.length;++c){var l=o[u[c]];K(l)||a.push(l)}}}return t}function _(e,t,n,r,i){C(n),n=n[0];for(var o=e.options,s={embed:S(n,o,"embed"),explicit:S(n,o,"explicit"),requireAll:S(n,o,"requireAll")},a=E(e,t,n,s),u=Object.keys(a).sort(),c=0;c<u.length;++c){var l=u[c],d=a[l];if("@link"===s.embed&&l in e.link)R(r,i,e.link[l]);else{null===i&&(e.uniqueEmbeds={});var f={};if(f["@id"]=l,e.link[l]=f,"@never"===s.embed||k(d,e.subjectStack))R(r,i,f);else{"@last"===s.embed&&(l in e.uniqueEmbeds&&N(e,l),e.uniqueEmbeds[l]={parent:r,property:i}),e.subjectStack.push(d);for(var h=Object.keys(d).sort(),p=0;p<h.length;p++){var m=h[p];if(L(m))f[m]=re(d[m]);else if(!s.explicit||m in n)for(var v=d[m],b=0;b<v.length;++b){var g=v[b];if(ee(g)){var y={"@list":[]};R(f,m,y);var w=g["@list"];for(var j in w)if(g=w[j],K(g)){var T=m in n?n[m][0]["@list"]:x(s);_(e,[g["@id"]],T,y,"@list")}else R(y,"@list",re(g))}else if(K(g)){var T=m in n?n[m]:x(s);_(e,[g["@id"]],T,f,m)}else R(f,m,re(g))}}for(var h=Object.keys(n).sort(),p=0;p<h.length;++p){var m=h[p];if(!L(m)){var U=n[m][0],D=S(U,o,"omitDefault");if(!(D||m in f)){var A="@null";"@default"in U&&(A=re(U["@default"])),z(A)||(A=[A]),f[m]=[{"@preserve":A}]}}}R(r,i,f),e.subjectStack.pop()}}}}function x(e){var t={};for(var n in e)void 0!==e[n]&&(t["@"+n]=[e[n]]);return[t]}function k(e,t){for(var n=t.length-1;n>=0;--n)if(t[n]["@id"]===e["@id"])return!0;return!1}function S(e,t,n){var r="@"+n,i=r in e?e[r][0]:t[n];return"embed"===n&&(i===!0?i="@last":i===!1?i="@never":"@always"!==i&&"@never"!==i&&"@link"!==i&&(i="@last")),i}function C(e){if(!z(e)||1!==e.length||!V(e[0]))throw new Ie("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e})}function E(e,t,n,r){for(var i={},o=0;o<t.length;++o){var s=t[o],a=e.subjects[s];j(a,n,r)&&(i[s]=a)}return i}function j(e,n,r){if("@type"in n&&(1!==n["@type"].length||!V(n["@type"][0]))){for(var i=n["@type"],o=0;o<i.length;++o)if(t.hasValue(e,"@type",i[o]))return!0;return!1}var s=!0,a=!1;for(var u in n){if(L(u)){if("@id"!==u&&"@type"!==u)continue;if(s=!1,"@id"===u&&X(n[u])){if(e[u]!==n[u])return!1;a=!0;continue}}if(s=!1,u in e){if(z(n[u])&&0===n[u].length&&void 0!==e[u])return!1;a=!0}else{var c=z(n[u])&&V(n[u][0])&&"@default"in n[u][0];if(r.requireAll&&!c)return!1}}return s||a}function N(e,n){var r=e.uniqueEmbeds,i=r[n],o=i.parent,s=i.property,a={"@id":n};if(z(o)){for(var u=0;u<o.length;++u)if(t.compareValues(o[u],a)){o[u]=a;break}}else{var c=z(o[s]);t.removeValue(o,s,a,{propertyIsArray:c}),t.addValue(o,s,a,{propertyIsArray:c})}var l=function(e){for(var t=Object.keys(r),n=0;n<t.length;++n){var i=t[n];i in r&&V(r[i].parent)&&r[i].parent["@id"]===e&&(delete r[i],l(i))}};l(n)}function R(e,n,r){V(e)?t.addValue(e,n,r,{propertyIsArray:!0}):e.push(r)}function T(e,n,r){if(z(n)){for(var i=[],o=0;o<n.length;++o){var s=T(e,n[o],r);null!==s&&i.push(s)}n=i}else if(V(n)){if("@preserve"in n)return"@null"===n["@preserve"]?null:n["@preserve"];if($(n))return n;if(ee(n))return n["@list"]=T(e,n["@list"],r),n;var a=A(e,"@id");if(a in n){var u=n[a];if(u in r.link){var c=r.link[u].indexOf(n);if(-1!==c)return r.link[u][c];r.link[u].push(n)}else r.link[u]=[n]}for(var l in n){var s=T(e,n[l],r),d=t.getContextValue(e,l,"@container");r.compactArrays&&z(s)&&1===s.length&&null===d&&(s=s[0]),n[l]=s}}return n}function U(e,t){return e.length<t.length?-1:t.length<e.length?1:e===t?0:t>e?-1:1}function D(e,t,n,r,i,o){null===o&&(o="@null");var s=[];if("@id"!==o&&"@reverse"!==o||!K(n))s.push(o);else{"@reverse"===o&&s.push("@reverse");var a=A(e,n["@id"],null,{vocab:!0});a in e.mappings&&e.mappings[a]&&e.mappings[a]["@id"]===n["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}s.push("@none");for(var u=e.inverse[t],c=0;c<r.length;++c){var l=r[c];if(l in u)for(var d=u[l][i],f=0;f<s.length;++f){var h=s[f];if(h in d)return d[h]}}return null}function A(e,t,n,r,i){if(null===t)return t;if(P(n)&&(n=null),P(i)&&(i=!1),r=r||{},L(t)&&(r.vocab=!0),r.vocab&&t in e.getInverse()){var o=e["@language"]||"@none",s=[];V(n)&&"@index"in n&&s.push("@index");var a="@language",u="@null";if(i)a="@type",u="@reverse",s.push("@set");else if(ee(n)){"@index"in n||s.push("@list");for(var c=n["@list"],l=0===c.length?o:null,d=null,f=0;f<c.length;++f){var h=c[f],p="@none",m="@none";if($(h)?"@language"in h?p=h["@language"]:"@type"in h?m=h["@type"]:p="@null":m="@id",null===l?l=p:p!==l&&$(h)&&(l="@none"),null===d?d=m:m!==d&&(d="@none"),"@none"===l&&"@none"===d)break}l=l||"@none",d=d||"@none","@none"!==d?(a="@type",u=d):u=l}else $(n)?"@language"in n&&!("@index"in n)?(s.push("@language"),u=n["@language"]):"@type"in n&&(a="@type",u=n["@type"]):(a="@type",u="@id"),s.push("@set");s.push("@none");var v=D(e,t,n,s,a,u);if(null!==v)return v}if(r.vocab&&"@vocab"in e){var b=e["@vocab"];if(0===t.indexOf(b)&&t!==b){var g=t.substr(b.length);if(!(g in e.mappings))return g}}var y=null;for(var v in e.mappings)if(-1===v.indexOf(":")){var w=e.mappings[v];if(w&&w["@id"]!==t&&0===t.indexOf(w["@id"])){var _=v+":"+t.substr(w["@id"].length),x=!(_ in e.mappings)||null===n&&e.mappings[_]&&e.mappings[_]["@id"]===t;x&&(null===y||U(_,y)<0)&&(y=_)}}return null!==y?y:r.vocab?t:Z(e["@base"],t)}function O(e,n,r){if($(r)){var i=t.getContextValue(e,n,"@type"),o=t.getContextValue(e,n,"@language"),s=t.getContextValue(e,n,"@container"),a="@index"in r&&"@index"!==s;if(!a&&(r["@type"]===i||r["@language"]===o))return r["@value"];var u=Object.keys(r).length,c=1===u||2===u&&"@index"in r&&!a,l="@language"in e,d=X(r["@value"]),f=e.mappings[n]&&null===e.mappings[n]["@language"];if(c&&(!l||!d||f))return r["@value"];var h={};return a&&(h[A(e,"@index")]=r["@index"]),"@type"in r?h[A(e,"@type")]=A(e,r["@type"],null,{vocab:!0}):"@language"in r&&(h[A(e,"@language")]=r["@language"]),h[A(e,"@value")]=r["@value"],h}var p=W(e,n,{vocab:!0}),i=t.getContextValue(e,n,"@type"),m=A(e,r["@id"],null,{vocab:"@vocab"===i});if("@id"===i||"@vocab"===i||"@graph"===p)return m;var h={};return h[A(e,"@id")]=m,h}function I(e,t,n,r){if(n in r){if(r[n])return;throw new Ie("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}if(r[n]=!1,L(n))throw new Ie("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});if(""===n)throw new Ie("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t});e.mappings[n]&&delete e.mappings[n];var i=t[n];if(null===i||V(i)&&null===i["@id"])return e.mappings[n]=null,void(r[n]=!0);if(X(i)&&(i={"@id":i}),!V(i))throw new Ie("Invalid JSON-LD syntax; @context property values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});var o=e.mappings[n]={};if(o.reverse=!1,"@reverse"in i){if("@id"in i)throw new Ie("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});var s=i["@reverse"];if(!X(s))throw new Ie("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});var a=W(e,s,{vocab:!0,base:!1},t,r);if(!ne(a))throw new Ie("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});o["@id"]=a,o.reverse=!0}else if("@id"in i){var a=i["@id"];if(!X(a))throw new Ie("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(a!==n){if(a=W(e,a,{vocab:!0,base:!1},t,r),!ne(a)&&!L(a))throw new Ie("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});o["@id"]=a}}if(!("@id"in o)){var u=n.indexOf(":");if(-1!==u){var c=n.substr(0,u);if(c in t&&I(e,t,c,r),e.mappings[c]){var l=n.substr(u+1);o["@id"]=e.mappings[c]["@id"]+l}else o["@id"]=n}else{if(!("@vocab"in e))throw new Ie("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});o["@id"]=e["@vocab"]+n}}if(r[n]=!0,"@type"in i){var d=i["@type"];if(!X(d))throw new Ie("Invalid JSON-LD syntax; an @context @type values must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@id"!==d&&"@vocab"!==d){if(d=W(e,d,{vocab:!0,base:!1},t,r),!ne(d))throw new Ie("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===d.indexOf("_:"))throw new Ie("Invalid JSON-LD syntax; an @context @type values must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}o["@type"]=d}if("@container"in i){var f=i["@container"];if("@list"!==f&&"@set"!==f&&"@index"!==f&&"@language"!==f)throw new Ie("Invalid JSON-LD syntax; @context @container value must be one of the following: @list, @set, @index, or @language.","jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(o.reverse&&"@index"!==f&&"@set"!==f&&null!==f)throw new Ie("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});o["@container"]=f}if("@language"in i&&!("@type"in i)){var h=i["@language"];if(null!==h&&!X(h))throw new Ie("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==h&&(h=h.toLowerCase()),o["@language"]=h}var a=o["@id"];if("@context"===a||"@preserve"===a)throw new Ie("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t})}function W(e,n,r,i,o){if(null===n||L(n))return n;if(n=String(n),i&&n in i&&o[n]!==!0&&I(e,i,n,o),r=r||{},r.vocab){var s=e.mappings[n];if(null===s)return null;if(s)return s["@id"]}var a=n.indexOf(":");if(-1!==a){var u=n.substr(0,a),c=n.substr(a+1);if("_"===u||0===c.indexOf("//"))return n;i&&u in i&&I(e,i,u,o);var s=e.mappings[u];return s?s["@id"]+c:n}if(r.vocab&&"@vocab"in e)return e["@vocab"]+n;var l=n;return r.base&&(l=t.prependBase(e["@base"],l)),l}function M(e,n){if(null===e)return n;if(-1!==n.indexOf(":"))return n;X(e)&&(e=t.url.parse(e||""));var r=t.url.parse(n),i={protocol:e.protocol||""};if(null!==r.authority)i.authority=r.authority,i.path=r.path,i.query=r.query;else if(i.authority=e.authority,""===r.path)i.path=e.path,i.query=null!==r.query?r.query:e.query;else{if(0===r.path.indexOf("/"))i.path=r.path;else{var o=e.path;""!==r.path&&(o=o.substr(0,o.lastIndexOf("/")+1),o.length>0&&"/"!==o.substr(-1)&&(o+="/"),o+=r.path),i.path=o}i.query=r.query}i.path=de(i.path,!!i.authority);var s=i.protocol;return null!==i.authority&&(s+="//"+i.authority),s+=i.path,null!==i.query&&(s+="?"+i.query),null!==r.fragment&&(s+="#"+r.fragment),""===s&&(s="./"),s}function Z(e,n){if(null===e)return n;X(e)&&(e=t.url.parse(e||""));var r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):n.indexOf("//")&&(r+="//"),0!==n.indexOf(r))return n;for(var i=t.url.parse(n.substr(r.length)),o=e.normalizedPath.split("/"),s=i.normalizedPath.split("/"),a=i.fragment||i.query?0:1;o.length>0&&s.length>a&&o[0]===s[0];)o.shift(),s.shift();var u="";if(o.length>0){o.pop();for(var c=0;c<o.length;++c)u+="../"}return u+=s.join("/"),null!==i.query&&(u+="?"+i.query),null!==i.fragment&&(u+="#"+i.fragment),""===u&&(u="./"),u}function B(e){function n(){var e=this;if(e.inverse)return e.inverse;for(var t=e.inverse={},n=e["@language"]||"@none",i=e.mappings,o=Object.keys(i).sort(U),s=0;s<o.length;++s){var a=o[s],u=i[a];if(null!==u){var c=u["@container"]||"@none",l=u["@id"];z(l)||(l=[l]);for(var d=0;d<l.length;++d){var f=l[d],h=t[f];if(h||(t[f]=h={}),h[c]||(h[c]={"@language":{},"@type":{}}),h=h[c],u.reverse)r(u,a,h["@type"],"@reverse");else if("@type"in u)r(u,a,h["@type"],u["@type"]);else if("@language"in u){var p=u["@language"]||"@null";r(u,a,h["@language"],p)}else r(u,a,h["@language"],n),r(u,a,h["@type"],"@none"),r(u,a,h["@language"],"@none")}}}return t}function r(e,t,n,r){r in n||(n[r]=t)}function i(){var e={};return e["@base"]=this["@base"],e.mappings=re(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e}var o=t.url.parse(e.base||"");return{"@base":o,mappings:{},inverse:null,getInverse:n,clone:i}}function L(e){if(!X(e))return!1;switch(e){case"@base":case"@context":case"@container":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@language":case"@list":case"@omitDefault":case"@preserve":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@vocab":return!0}return!1}function V(e){return"[object Object]"===Object.prototype.toString.call(e)}function G(e){return V(e)&&0===Object.keys(e).length}function z(e){return Array.isArray(e)}function F(e){if(!X(e)&&!G(e)){var t=!1;if(z(e)){t=!0;for(var n=0;n<e.length;++n)if(!X(e[n])){t=!1;break}}if(!t)throw new Ie('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}}function X(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)}function Y(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function J(e){return Y(e)&&-1!==String(e).indexOf(".")}function q(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Q(e){return"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e)}function P(e){return"undefined"==typeof e}function H(e){var t=!1;if(V(e)&&!("@value"in e||"@set"in e||"@list"in e)){var n=Object.keys(e).length;t=n>1||!("@id"in e)}return t}function K(e){return V(e)&&1===Object.keys(e).length&&"@id"in e}function $(e){return V(e)&&"@value"in e}function ee(e){return V(e)&&"@list"in e}function te(e){var t=!1;return V(e)&&(t="@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e)),t}function ne(e){return X(e)&&-1!==e.indexOf(":")}function re(e){if(e&&"object"==typeof e){var t;if(z(e)){t=[];for(var n=0;n<e.length;++n)t[n]=re(e[n])}else if(V(e)){t={};for(var r in e)t[r]=re(e[r])}else t=e.toString();return t}return e}function ie(e,n,r,i){var o=Object.keys(n).length;if(z(e)){for(var s=0;s<e.length;++s)ie(e[s],n,r,i);return o<Object.keys(n).length}if(V(e)){for(var a in e)if("@context"===a){var u=e[a];if(z(u))for(var c=u.length,s=0;c>s;++s){var l=u[s];X(l)&&(l=t.prependBase(i,l),r?(l=n[l],z(l)?(Array.prototype.splice.apply(u,[s,1].concat(l)),s+=l.length-1,c=u.length):u[s]=l):l in n||(n[l]=!1))}else X(u)&&(u=t.prependBase(i,u),r?e[a]=n[u]:u in n||(n[u]=!1))}else ie(e[a],n,r,i);return o<Object.keys(n).length}return!1}function oe(e,t,n){var r=null,i=t.documentLoader,o=function(e,t,n,i,s){if(Object.keys(t).length>Oe)return r=new Ie("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:Oe}),s(r);var a={},u=function(){ie(e,a,!0,i),s(null,e)};ie(e,a,!1,i)||u();var c=[];for(var l in a)a[l]===!1&&c.push(l);for(var d=c.length,f=0;f<c.length;++f)!function(e){if(e in t)return r=new Ie("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:e}),s(r);var i=re(t);i[e]=!0;var c=function(t,c){if(!r){var l=c?c.document:null;if(!t&&X(l))try{l=JSON.parse(l)}catch(f){t=f}if(t?t=new Ie("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:e,cause:t}):V(l)||(t=new Ie("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:e,cause:t})),t)return r=t,s(r);l="@context"in l?{"@context":l["@context"]}:{"@context":{}},c.contextUrl&&(z(l["@context"])||(l["@context"]=[l["@context"]]),l["@context"].push(c.contextUrl)),o(l,i,n,e,function(t,n){return t?s(t):(a[e]=n["@context"],d-=1,void(0===d&&u()))})}},l=n(e,c);l&&"then"in l&&l.then(c.bind(null,null),c)}(c[f])};o(e,{},i,t.base,n)}function se(e){for(var t="(?:<([^:]+:[^>]*)>)",n="(_:(?:[A-Za-z0-9]+))",r='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',i="(?:\\^\\^"+t+")",o="(?:@([a-z]+(?:-[a-z0-9]+)*))",s="(?:"+r+"(?:"+i+"|"+o+")?)",a="[ \\t]+",u="[ \\t]*",c=/(?:\r\n)|(?:\n)|(?:\r)/g,l=new RegExp("^"+u+"$"),d="(?:"+t+"|"+n+")"+a,f=t+a,h="(?:"+t+"|"+n+"|"+s+")"+u,p="(?:\\.|(?:(?:"+t+"|"+n+")"+u+"\\.))",v=new RegExp("^"+u+d+f+h+p+u+"$"),b={},g=e.split(c),y=0,w=0;w<g.length;++w){var _=g[w];if(y++,!l.test(_)){var x=_.match(v);if(null===x)throw new Ie("Error while parsing N-Quads; invalid quad.","jsonld.ParseError",{line:y});var k={};if(k.subject=P(x[1])?{type:"blank node",value:x[2]}:{type:"IRI",value:x[1]},k.predicate={type:"IRI",value:x[3]},P(x[4]))if(P(x[5])){k.object={type:"literal"},P(x[7])?P(x[8])?k.object.datatype=xe:(k.object.datatype=De,k.object.language=x[8]):k.object.datatype=x[7];var S=x[6].replace(/\\"/g,'"').replace(/\\t/g,"	").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");k.object.value=S}else k.object={type:"blank node",value:x[5]};else k.object={type:"IRI",value:x[4]};var C="@default";if(P(x[9])?P(x[10])||(C=x[10]):C=x[9],C in b){for(var E=!0,j=b[C],N=0;E&&N<j.length;++N)m(j[N],k)&&(E=!1);E&&j.push(k)}else b[C]=[k]}}return b}function ae(e){var t=[];for(var n in e)for(var r=e[n],i=0;i<r.length;++i){var o=r[i];"@default"===n&&(n=null),t.push(ue(o,n))}return t.sort(),t.join("")}function ue(e,t,n){var r=e.subject,i=e.predicate,o=e.object,s=t,a="";if(a+="IRI"===r.type?"<"+r.value+">":n?r.value===n?"_:a":"_:z":r.value,a+=" ",a+="IRI"===i.type?"<"+i.value+">":n?"_:p":i.value,a+=" ","IRI"===o.type)a+="<"+o.value+">";else if("blank node"===o.type)a+=n?o.value===n?"_:a":"_:z":o.value;else{var u=o.value.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\"/g,'\\"');a+='"'+u+'"',o.datatype===De?o.language&&(a+="@"+o.language):o.datatype!==xe&&(a+="^^<"+o.datatype+">")}return null!==s&&(a+=0!==s.indexOf("_:")?" <"+s+">":n?" _:g":" "+s),a+=" .\n"}function ce(e){var t={};t["@default"]=[];for(var n=e.getSubjects(),r=0;r<n.length;++r){var i=n[r];if(null!==i){var o=e.getSubjectTriples(i);if(null!==o){var s=o.predicates;for(var a in s)for(var u=s[a].objects,c=0;c<u.length;++c){var l=u[c],d={};d.subject=0===i.indexOf("_:")?{type:"blank node",value:i}:{type:"IRI",value:i},d.predicate=0===a.indexOf("_:")?{type:"blank node",value:a}:{type:"IRI",value:a};var f=l.value;if(l.type===Te){be||Ve();var h=new be;f="";for(var p=0;p<l.value.length;p++)l.value[p].nodeType===ge.ELEMENT_NODE?f+=h.serializeToString(l.value[p]):l.value[p].nodeType===ge.TEXT_NODE&&(f+=l.value[p].nodeValue)}d.object={},l.type===Ue?d.object.type=0===l.value.indexOf("_:")?"blank node":"IRI":(d.object.type="literal",l.type===Re?l.language?(d.object.datatype=De,d.object.language=l.language):d.object.datatype=xe:d.object.datatype=l.type),d.object.value=f,t["@default"].push(d)}}}}return t}function le(e){this.prefix=e,this.counter=0,this.existing={}}function de(e,t){var n="";0===e.indexOf("/")&&(n="/");for(var r=e.split("/"),i=[];r.length>0;)"."===r[0]||""===r[0]&&r.length>1?r.shift():".."!==r[0]?i.push(r.shift()):(r.shift(),t||i.length>0&&".."!==i[i.length-1]?i.pop():i.push(".."));return n+i.join("/")}t.compact=function(e,n,r,i){function o(e,t,r,o){if(e)return i(e);o.compactArrays&&!o.graph&&z(t)?1===t.length?t=t[0]:0===t.length&&(t={}):o.graph&&V(t)&&(t=[t]),V(n)&&"@context"in n&&(n=n["@context"]),n=re(n),z(n)||(n=[n]);var s=n;n=[];for(var a=0;a<s.length;++a)(!V(s[a])||Object.keys(s[a]).length>0)&&n.push(s[a]);var u=n.length>0;if(1===n.length&&(n=n[0]),z(t)){var c=A(r,"@graph"),l=t;t={},u&&(t["@context"]=n),t[c]=l}else if(V(t)&&u){var l=t;t={"@context":n};for(var d in l)t[d]=l[d]}i(null,t,r)}if(arguments.length<2)return t.nextTick(function(){i(new TypeError("Could not compact, too few arguments."))});if("function"==typeof r&&(i=r,r={}),r=r||{},null===n)return t.nextTick(function(){i(new Ie("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"}))});if(null===e)return t.nextTick(function(){i(null,null)});"base"in r||(r.base="string"==typeof e?e:""),"compactArrays"in r||(r.compactArrays=!0),"graph"in r||(r.graph=!1),"skipExpansion"in r||(r.skipExpansion=!1),"documentLoader"in r||(r.documentLoader=t.loadDocument),"link"in r||(r.link=!1),r.link&&(r.skipExpansion=!0);var s=function(e,n,r){t.nextTick(function(){return n.skipExpansion?r(null,e):void t.expand(e,n,r)})};s(e,r,function(e,s){if(e)return i(new Ie("Could not expand input before compaction.","jsonld.CompactError",{cause:e}));var a=B(r);t.processContext(a,n,r,function(e,t){if(e)return i(new Ie("Could not process context before compaction.","jsonld.CompactError",{cause:e}));var n;try{n=(new We).compact(t,null,s,r)}catch(a){return i(a)}o(null,n,t,r)})})},t.expand=function(e,n,r){function i(e){"base"in n||(n.base=e.documentUrl||"");var t={document:re(e.document),remoteContext:{"@context":e.contextUrl}};if("expandContext"in n){var i=re(n.expandContext);t.expandContext="object"==typeof i&&"@context"in i?i:{"@context":i}}oe(t,n,function(e,t){if(e)return r(e);var i;try{var o=new We,s=B(n),a=t.document,u=t.remoteContext["@context"];t.expandContext&&(s=o.processContext(s,t.expandContext["@context"],n)),u&&(s=o.processContext(s,u,n)),i=o.expand(s,null,a,n,!1),V(i)&&"@graph"in i&&1===Object.keys(i).length?i=i["@graph"]:null===i&&(i=[]),z(i)||(i=[i])}catch(c){return r(c)}r(null,i)})}return arguments.length<1?t.nextTick(function(){r(new TypeError("Could not expand, too few arguments."))}):("function"==typeof n&&(r=n,n={}),n=n||{},"documentLoader"in n||(n.documentLoader=t.loadDocument),"keepFreeFloatingNodes"in n||(n.keepFreeFloatingNodes=!1),void t.nextTick(function(){if("string"==typeof e){var t=function(e,t){if(e)return r(e);try{if(!t.document)throw new Ie("No remote document found at the given URL.","jsonld.NullRemoteDocument");"string"==typeof t.document&&(t.document=JSON.parse(t.document))}catch(n){return r(new Ie("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:n,remoteDoc:t}))}i(t)},o=n.documentLoader(e,t);return void(o&&"then"in o&&o.then(t.bind(null,null),t))}i({contextUrl:null,documentUrl:null,document:e})}))},t.flatten=function(e,n,r,i){return arguments.length<1?t.nextTick(function(){i(new TypeError("Could not flatten, too few arguments."))}):("function"==typeof r?(i=r,r={}):"function"==typeof n&&(i=n,n=null,r={}),r=r||{},"base"in r||(r.base="string"==typeof e?e:""),"documentLoader"in r||(r.documentLoader=t.loadDocument),void t.expand(e,r,function(e,o){if(e)return i(new Ie("Could not expand input before flattening.","jsonld.FlattenError",{cause:e}));var s;try{s=(new We).flatten(o)}catch(a){return i(a)}return null===n?i(null,s):(r.graph=!0,r.skipExpansion=!0,void t.compact(s,n,r,function(e,t){return e?i(new Ie("Could not compact flattened output.","jsonld.FlattenError",{cause:e})):void i(null,t)}))}))},t.frame=function(e,n,r,i){function o(n){
var o,s=n.document;s?(o=s["@context"],n.contextUrl?(o?z(o)?o.push(n.contextUrl):o=[o,n.contextUrl]:o=n.contextUrl,s["@context"]=o):o=o||{}):o={},t.expand(e,r,function(e,n){if(e)return i(new Ie("Could not expand input before framing.","jsonld.FrameError",{cause:e}));var a=re(r);a.isFrame=!0,a.keepFreeFloatingNodes=!0,t.expand(s,a,function(e,r){if(e)return i(new Ie("Could not expand frame before framing.","jsonld.FrameError",{cause:e}));var s;try{s=(new We).frame(n,r,a)}catch(u){return i(u)}a.graph=!0,a.skipExpansion=!0,a.link={},t.compact(s,o,a,function(e,t,n){if(e)return i(new Ie("Could not compact framed output.","jsonld.FrameError",{cause:e}));var r=A(n,"@graph");a.link={},t[r]=T(n,t[r],a),i(null,t)})})})}return arguments.length<2?t.nextTick(function(){i(new TypeError("Could not frame, too few arguments."))}):("function"==typeof r&&(i=r,r={}),r=r||{},"base"in r||(r.base="string"==typeof e?e:""),"documentLoader"in r||(r.documentLoader=t.loadDocument),"embed"in r||(r.embed="@last"),r.explicit=r.explicit||!1,"requireAll"in r||(r.requireAll=!0),r.omitDefault=r.omitDefault||!1,void t.nextTick(function(){if("string"==typeof n){var e=function(e,t){if(e)return i(e);try{if(!t.document)throw new Ie("No remote document found at the given URL.","jsonld.NullRemoteDocument");"string"==typeof t.document&&(t.document=JSON.parse(t.document))}catch(n){return i(new Ie("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:n,remoteDoc:t}))}o(t)},t=r.documentLoader(n,e);return void(t&&"then"in t&&t.then(e.bind(null,null),e))}o({contextUrl:null,documentUrl:null,document:n})}))},t.link=function(e,n,r,i){var o={};n&&(o["@context"]=n),o["@embed"]="@link",t.frame(e,o,r,i)},t.objectify=function(e,n,r,i){"function"==typeof r&&(i=r,r={}),r=r||{},"base"in r||(r.base="string"==typeof e?e:""),"documentLoader"in r||(r.documentLoader=t.loadDocument),t.expand(e,r,function(e,o){if(e)return i(new Ie("Could not expand input before linking.","jsonld.LinkError",{cause:e}));var s;try{s=(new We).flatten(o)}catch(a){return i(a)}r.graph=!0,r.skipExpansion=!0,t.compact(s,n,r,function(e,n,r){if(e)return i(new Ie("Could not compact flattened output before linking.","jsonld.LinkError",{cause:e}));var o=A(r,"@graph"),s=n[o][0],a=function(e){if(V(e)||z(e)){if(V(e)){if(a.visited[e["@id"]])return;a.visited[e["@id"]]=!0}for(var n in e){var i=e[n],o="@id"===t.getContextValue(r,n,"@type");if(z(i)||V(i)||o)if(X(i)&&o)e[n]=i=s[i],a(i);else if(z(i))for(var u=0;u<i.length;++u)X(i[u])&&o?i[u]=s[i[u]]:V(i[u])&&"@id"in i[u]&&(i[u]=s[i[u]["@id"]]),a(i[u]);else if(V(i)){var c=i["@id"];e[n]=i=s[c],a(i)}}}};a.visited={},a(s),n.of_type={};for(var u in s)if("@type"in s[u]){var c=s[u]["@type"];z(c)||(c=[c]);for(var l=0;l<c.length;++l)c[l]in n.of_type||(n.of_type[c[l]]=[]),n.of_type[c[l]].push(s[u])}i(null,n)})})},t.normalize=function(e,n,r){if(arguments.length<1)return t.nextTick(function(){r(new TypeError("Could not normalize, too few arguments."))});"function"==typeof n&&(r=n,n={}),n=n||{},"base"in n||(n.base="string"==typeof e?e:""),"documentLoader"in n||(n.documentLoader=t.loadDocument);var i=re(n);delete i.format,i.produceGeneralizedRdf=!1,t.toRDF(e,i,function(e,t){return e?r(new Ie("Could not convert input to RDF dataset before normalization.","jsonld.NormalizeError",{cause:e})):void(new We).normalize(t,n,r)})},t.fromRDF=function(e,n,r){return arguments.length<1?t.nextTick(function(){r(new TypeError("Could not convert from RDF, too few arguments."))}):("function"==typeof n&&(r=n,n={}),n=n||{},"useRdfType"in n||(n.useRdfType=!1),"useNativeTypes"in n||(n.useNativeTypes=!1),"format"in n||!X(e)||"format"in n||(n.format="application/nquads"),void t.nextTick(function(){function t(e,t,n){(new We).fromRDF(e,t,n)}var i;if(n.format){if(i=n.rdfParser||ve[n.format],!i)return r(new Ie("Unknown input format.","jsonld.UnknownFormat",{format:n.format}))}else i=function(){return e};var o=!1;try{e=i(e,function(e,i){return o=!0,e?r(e):void t(i,n,r)})}catch(s){if(!o)return r(s);throw s}if(e){if("then"in e)return e.then(function(e){t(e,n,r)},r);t(e,n,r)}}))},t.toRDF=function(e,n,r){return arguments.length<1?t.nextTick(function(){r(new TypeError("Could not convert to RDF, too few arguments."))}):("function"==typeof n&&(r=n,n={}),n=n||{},"base"in n||(n.base="string"==typeof e?e:""),"documentLoader"in n||(n.documentLoader=t.loadDocument),void t.expand(e,n,function(e,t){if(e)return r(new Ie("Could not expand input before serialization to RDF.","jsonld.RdfError",{cause:e}));var i;try{if(i=We.prototype.toRDF(t,n),n.format){if("application/nquads"===n.format)return r(null,ae(i));throw new Ie("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}}catch(o){return r(o)}r(null,i)}))},t.createNodeMap=function(e,n,r){return arguments.length<1?t.nextTick(function(){r(new TypeError("Could not create node map, too few arguments."))}):("function"==typeof n&&(r=n,n={}),n=n||{},"base"in n||(n.base="string"==typeof e?e:""),"documentLoader"in n||(n.documentLoader=t.loadDocument),void t.expand(e,n,function(e,t){if(e)return r(new Ie("Could not expand input before creating node map.","jsonld.CreateNodeMapError",{cause:e}));var i;try{i=(new We).createNodeMap(t,n)}catch(o){return r(o)}r(null,i)}))},t.merge=function(e,n,r,i){function o(e,t){if(!u){if(e)return u=e,i(new Ie("Could not expand input before flattening.","jsonld.FlattenError",{cause:e}));a.push(t),0===--c&&s(a)}}function s(e){var o=!0;"mergeNodes"in r&&(o=r.mergeNodes);var s,a=r.namer||new le("_:b"),u={"@default":{}};try{for(var c=0;c<e.length;++c){var l=e[c];l=t.relabelBlankNodes(l,{namer:new le("_:b"+c+"-")});var d=o||0===c?u:{"@default":{}};if(y(l,d,"@default",a),d!==u)for(var f in d){var h=d[f];if(f in u){var p=u[f];for(var m in h)m in p||(p[m]=h[m])}else u[f]=h}}s=w(u)}catch(v){return i(v)}for(var b=[],g=Object.keys(s).sort(),_=0;_<g.length;++_){var x=s[g[_]];K(x)||b.push(x)}return null===n?i(null,b):(r.graph=!0,r.skipExpansion=!0,void t.compact(b,n,r,function(e,t){return e?i(new Ie("Could not compact merged output.","jsonld.MergeError",{cause:e})):void i(null,t)}))}if(arguments.length<1)return t.nextTick(function(){i(new TypeError("Could not merge, too few arguments."))});if(!z(e))return t.nextTick(function(){i(new TypeError('Could not merge, "docs" must be an array.'))});"function"==typeof r?(i=r,r={}):"function"==typeof n&&(i=n,n=null,r={}),r=r||{};for(var a=[],u=null,c=e.length,l=0;l<e.length;++l){var d={};for(var f in r)d[f]=r[f];t.expand(e[l],d,o)}},t.relabelBlankNodes=function(e,t){t=t||{};var n=t.namer||new le("_:b");return c(n,e)},t.prependBase=function(e,t){return M(e,t)},t.documentLoader=function(e,n){var r=new Ie("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed"});return o?n(r,{contextUrl:null,documentUrl:e,document:null}):t.promisify(function(e){e(r)})},t.loadDocument=function(e,n){var r=t.documentLoader(e,n);r&&"then"in r&&r.then(n.bind(null,null),n)},t.promises=function(n){n=n||{};var i=Array.prototype.slice,o=t.promisify,s=n.api||{},a=n.version||"jsonld.js";"string"==typeof n.api&&(n.version||(a=n.api),s={}),s.expand=function(e){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");return o.apply(null,[t.expand].concat(i.call(arguments)))},s.compact=function(e,n){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");var r=function(e,n,r,i){t.compact(e,n,r,function(e,t){i(e,t)})};return o.apply(null,[r].concat(i.call(arguments)))},s.flatten=function(e){if(arguments.length<1)throw new TypeError("Could not flatten, too few arguments.");return o.apply(null,[t.flatten].concat(i.call(arguments)))},s.frame=function(e,n){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");return o.apply(null,[t.frame].concat(i.call(arguments)))},s.fromRDF=function(e){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");return o.apply(null,[t.fromRDF].concat(i.call(arguments)))},s.toRDF=function(e){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");return o.apply(null,[t.toRDF].concat(i.call(arguments)))},s.normalize=function(e){if(arguments.length<1)throw new TypeError("Could not normalize, too few arguments.");return o.apply(null,[t.normalize].concat(i.call(arguments)))},"jsonld.js"===a&&(s.link=function(e,n){if(arguments.length<2)throw new TypeError("Could not link, too few arguments.");return o.apply(null,[t.link].concat(i.call(arguments)))},s.objectify=function(e){return o.apply(null,[t.objectify].concat(i.call(arguments)))},s.createNodeMap=function(e){return o.apply(null,[t.createNodeMap].concat(i.call(arguments)))},s.merge=function(e){return o.apply(null,[t.merge].concat(i.call(arguments)))});try{t.Promise=r.Promise||e("es6-promise").Promise}catch(u){var c=function(){throw new Error("Unable to find a Promise implementation.")};for(var l in s)s[l]=c}return s},t.promisify=function(n){if(!t.Promise)try{t.Promise=r.Promise||e("es6-promise").Promise}catch(i){throw new Error("Unable to find a Promise implementation.")}var o=Array.prototype.slice.call(arguments,1);return new t.Promise(function(e,t){n.apply(null,o.concat(function(n,r){n?t(n):e(r)}))})},t.promises({api:t.promises}),a.prototype=t.promises({version:"json-ld-1.0"}),a.prototype.toString=function(){return this instanceof a?"[object JsonLdProcessor]":"[object JsonLdProcessorPrototype]"},t.JsonLdProcessor=a;var fe=!!Object.defineProperty;if(fe)try{Object.defineProperty({},"x",{})}catch(he){fe=!1}fe&&(Object.defineProperty(a,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(a.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:a})),s&&"undefined"==typeof r.JsonLdProcessor&&(fe?Object.defineProperty(r,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:a}):r.JsonLdProcessor=a);var pe="function"==typeof setImmediate&&setImmediate,me=pe?function(e){pe(e)}:function(e){setTimeout(e,0)};t.nextTick="object"==typeof n&&"function"==typeof n.nextTick?n.nextTick:me,t.setImmediate=pe?me:t.nextTick,t.parseLinkHeader=function(e){for(var t={},n=e.match(/(?:<[^>]*?>|"[^"]*?"|[^,])+/g),r=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,i=0;i<n.length;++i){var o=n[i].match(r);if(o){for(var s={target:o[1]},a=o[2],u=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g;o=u.exec(a);)s[o[1]]=void 0===o[2]?o[3]:o[2];var c=s.rel||"";z(t[c])?t[c].push(s):t[c]=c in t?[t[c],s]:s}}return t},t.RequestQueue=function(){this._requests={}},t.RequestQueue.prototype.wrapLoader=function(e){return this._loader=e,this._usePromise=1===e.length,this.add.bind(this)},t.RequestQueue.prototype.add=function(e,n){var r=this;if(!n&&!r._usePromise)throw new Error("callback must be specified.");return r._usePromise?new t.Promise(function(t,n){var i=r._requests[e];i||(i=r._requests[e]=r._loader(e).then(function(t){return delete r._requests[e],t})["catch"](function(t){throw delete r._requests[e],t})),i.then(function(e){t(e)})["catch"](function(e){n(e)})}):void(e in r._requests?r._requests[e].push(n):(r._requests[e]=[n],r._loader(e,function(t,n){var i=r._requests[e];delete r._requests[e];for(var o=0;o<i.length;++o)i[o](t,n)})))},t.DocumentCache=function(e){this.order=[],this.cache={},this.size=e||50,this.expires=3e4},t.DocumentCache.prototype.get=function(e){if(e in this.cache){var t=this.cache[e];if(t.expires>=+new Date)return t.ctx;delete this.cache[e],this.order.splice(this.order.indexOf(e),1)}return null},t.DocumentCache.prototype.set=function(e,t){this.order.length===this.size&&delete this.cache[this.order.shift()],this.order.push(e),this.cache[e]={ctx:t,expires:+new Date+this.expires}},t.ActiveContextCache=function(e){this.order=[],this.cache={},this.size=e||100},t.ActiveContextCache.prototype.get=function(e,t){var n=JSON.stringify(e),r=JSON.stringify(t),i=this.cache[n];return i&&r in i?i[r]:null},t.ActiveContextCache.prototype.set=function(e,t,n){if(this.order.length===this.size){var r=this.order.shift();delete this.cache[r.activeCtx][r.localCtx]}var i=JSON.stringify(e),o=JSON.stringify(t);this.order.push({activeCtx:i,localCtx:o}),i in this.cache||(this.cache[i]={}),this.cache[i][o]=re(n)},t.cache={activeCtx:new t.ActiveContextCache},t.documentLoaders={},t.documentLoaders.jquery=function(e,n){function r(r,i){return 0!==r.indexOf("http:")&&0!==r.indexOf("https:")?i(new Ie('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:r}),{contextUrl:null,documentUrl:r,document:null}):n.secure&&0!==r.indexOf("https")?i(new Ie('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:r}),{contextUrl:null,documentUrl:r,document:null}):void e.ajax({url:r,accepts:{json:"application/ld+json, application/json"},headers:{Accept:"application/ld+json, application/json"},dataType:"json",crossDomain:!0,success:function(e,n,o){var s={contextUrl:null,documentUrl:r,document:e},a=o.getResponseHeader("Content-Type"),u=o.getResponseHeader("Link");if(u&&"application/ld+json"!==a){if(u=t.parseLinkHeader(u)[Ae],z(u))return i(new Ie("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:r}),s);u&&(s.contextUrl=u.target)}i(null,s)},error:function(e,t,n){i(new Ie("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:r,cause:n}),{contextUrl:null,documentUrl:r,document:null})}})}n=n||{};var i=new t.RequestQueue,o="usePromise"in n?n.usePromise:"undefined"!=typeof Promise;return i.wrapLoader(o?function(e){return t.promisify(r,e)}:r)},t.documentLoaders.node=function(n){function r(e,c,l){function d(n,i,s){if(f={contextUrl:null,documentUrl:e,document:s||null},n)return l(new Ie("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:e,cause:n}),f);var d=a.STATUS_CODES[i.statusCode];if(i.statusCode>=400)return l(new Ie("URL could not be dereferenced: "+d,"jsonld.InvalidUrl",{code:"loading document failed",url:e,httpStatusCode:i.statusCode}),f);if(i.headers.link&&"application/ld+json"!==i.headers["content-type"]){var h=t.parseLinkHeader(i.headers.link)[Ae];if(z(h))return l(new Ie("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:e}),f);h&&(f.contextUrl=h.target)}if(i.statusCode>=300&&i.statusCode<400&&i.headers.location)return c.length===o?l(new Ie("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:e,httpStatusCode:i.statusCode,redirects:c}),f):-1!==c.indexOf(e)?l(new Ie("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:e,httpStatusCode:i.statusCode,redirects:c}),f):(c.push(e),r(i.headers.location,c,l));c.push(e);for(var p=0;p<c.length;++p)u.set(c[p],{contextUrl:null,documentUrl:c[p],document:s});l(n,f)}if(0!==e.indexOf("http:")&&0!==e.indexOf("https:"))return l(new Ie('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:e}),{contextUrl:null,documentUrl:e,document:null});if(n.secure&&0!==e.indexOf("https"))return l(new Ie('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:e}),{contextUrl:null,documentUrl:e,document:null});var f=u.get(e);return null!==f?l(null,f):void s({url:e,headers:{Accept:"application/ld+json, application/json"},strictSSL:i,followRedirect:!1},d)}n=n||{};var i="strictSSL"in n?n.strictSSL:!0,o="maxRedirects"in n?n.maxRedirects:-1,s=e("request"),a=e("http"),u=new t.DocumentCache,c=new t.RequestQueue;return c.wrapLoader(n.usePromise?function(e){return t.promisify(r,e,[])}:function(e,t){r(e,[],t)})},t.documentLoaders.xhr=function(e){function n(n,i){if(0!==n.indexOf("http:")&&0!==n.indexOf("https:"))return i(new Ie('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null});if(e.secure&&0!==n.indexOf("https"))return i(new Ie('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null});var o=e.xhr||XMLHttpRequest,s=new o;s.onload=function(){if(s.status>=400)return i(new Ie("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:n,httpStatusCode:s.status}),{contextUrl:null,documentUrl:n,document:null});var e,o={contextUrl:null,documentUrl:n,document:s.response},a=s.getResponseHeader("Content-Type");if(r.test(s.getAllResponseHeaders())&&(e=s.getResponseHeader("Link")),e&&"application/ld+json"!==a){if(e=t.parseLinkHeader(e)[Ae],z(e))return i(new Ie("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:n}),o);e&&(o.contextUrl=e.target)}i(null,o)},s.onerror=function(){i(new Ie("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null})},s.open("GET",n,!0),s.setRequestHeader("Accept","application/ld+json, application/json"),s.send()}e=e||{};var r=/(^|(\r\n))link:/i,i=new t.RequestQueue,o="usePromise"in e?e.usePromise:"undefined"!=typeof Promise;return i.wrapLoader(o?function(e){return t.promisify(n,e)}:n)},t.useDocumentLoader=function(e){if(!(e in t.documentLoaders))throw new Ie('Unknown document loader type: "'+e+'"',"jsonld.UnknownDocumentLoader",{type:e});t.documentLoader=t.documentLoaders[e].apply(t,Array.prototype.slice.call(arguments,1))},t.processContext=function(e,n){var r={},i=2;arguments.length>3&&(r=arguments[2]||{},i+=1);var o=arguments[i];return"base"in r||(r.base=""),"documentLoader"in r||(r.documentLoader=t.loadDocument),null===n?o(null,B(r)):(n=re(n),V(n)&&"@context"in n||(n={"@context":n}),void oe(n,r,function(t,n){if(t)return o(t);try{n=(new We).processContext(e,n,r)}catch(i){return o(i)}o(null,n)}))},t.hasProperty=function(e,t){var n=!1;if(t in e){var r=e[t];n=!z(r)||r.length>0}return n},t.hasValue=function(e,n,r){var i=!1;if(t.hasProperty(e,n)){var o=e[n],s=ee(o);if(z(o)||s){s&&(o=o["@list"]);for(var a=0;a<o.length;++a)if(t.compareValues(r,o[a])){i=!0;break}}else z(r)||(i=t.compareValues(r,o))}return i},t.addValue=function(e,n,r,i){if(i=i||{},"propertyIsArray"in i||(i.propertyIsArray=!1),"allowDuplicate"in i||(i.allowDuplicate=!0),z(r)){0!==r.length||!i.propertyIsArray||n in e||(e[n]=[]);for(var o=0;o<r.length;++o)t.addValue(e,n,r[o],i)}else if(n in e){var s=!i.allowDuplicate&&t.hasValue(e,n,r);z(e[n])||s&&!i.propertyIsArray||(e[n]=[e[n]]),s||e[n].push(r)}else e[n]=i.propertyIsArray?[r]:r},t.getValues=function(e,t){var n=e[t]||[];return z(n)||(n=[n]),n},t.removeProperty=function(e,t){delete e[t]},t.removeValue=function(e,n,r,i){i=i||{},"propertyIsArray"in i||(i.propertyIsArray=!1);var o=t.getValues(e,n).filter(function(e){return!t.compareValues(e,r)});0===o.length?t.removeProperty(e,n):e[n]=1!==o.length||i.propertyIsArray?o:o[0]},t.compareValues=function(e,t){return e===t?!0:$(e)&&$(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"]?!0:V(e)&&"@id"in e&&V(t)&&"@id"in t?e["@id"]===t["@id"]:!1},t.getContextValue=function(e,t,n){var r=null;if(null===t)return r;if("@language"===n&&n in e&&(r=e[n]),e.mappings[t]){var i=e.mappings[t];P(n)?r=i:n in i&&(r=i[n])}return r};var ve={};if(t.registerRDFParser=function(e,t){ve[e]=t},t.unregisterRDFParser=function(e){delete ve[e]},o){if("undefined"==typeof be)var be=null;if("undefined"==typeof ge)var ge={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}var ye="http://www.w3.org/2001/XMLSchema#boolean",we="http://www.w3.org/2001/XMLSchema#double",_e="http://www.w3.org/2001/XMLSchema#integer",xe="http://www.w3.org/2001/XMLSchema#string",ke="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Se=ke+"List",Ce=ke+"first",Ee=ke+"rest",je=ke+"nil",Ne=ke+"type",Re=ke+"PlainLiteral",Te=ke+"XMLLiteral",Ue=ke+"object",De=ke+"langString",Ae="http://www.w3.org/ns/json-ld#context",Oe=10,Ie=function(e,t,n){o?(Error.call(this),Error.captureStackTrace(this,this.constructor)):"undefined"!=typeof Error&&(this.stack=(new Error).stack),this.name=t||"jsonld.Error",this.message=e||"An unspecified JSON-LD error occurred.",this.details=n||{}};o?e("util").inherits(Ie,Error):"undefined"!=typeof Error&&(Ie.prototype=new Error);var We=function(){};We.prototype.compact=function(e,n,r,i){if(z(r)){for(var o=[],s=0;s<r.length;++s){var a=this.compact(e,n,r[s],i);null!==a&&o.push(a)}if(i.compactArrays&&1===o.length){var u=t.getContextValue(e,n,"@container");null===u&&(o=o[0])}return o}if(V(r)){if(i.link&&"@id"in r&&r["@id"]in i.link)for(var c=i.link[r["@id"]],s=0;s<c.length;++s)if(c[s].expanded===r)return c[s].compacted;if($(r)||K(r)){var o=O(e,n,r);return i.link&&K(r)&&(r["@id"]in i.link||(i.link[r["@id"]]=[]),i.link[r["@id"]].push({expanded:r,compacted:o})),o}var l="@reverse"===n,o={};i.link&&"@id"in r&&(r["@id"]in i.link||(i.link[r["@id"]]=[]),i.link[r["@id"]].push({expanded:r,compacted:o}));for(var d=Object.keys(r).sort(),f=0;f<d.length;++f){var h=d[f],p=r[h];if("@id"!==h&&"@type"!==h)if("@reverse"!==h)if("@index"!==h)if("@graph"!==h&&"@list"!==h&&L(h)){var m=A(e,h);t.addValue(o,m,p)}else{if(0===p.length){var v=A(e,h,p,{vocab:!0},l);t.addValue(o,v,p,{propertyIsArray:!0})}for(var b=0;b<p.length;++b){var g=p[b],v=A(e,h,g,{vocab:!0},l),u=t.getContextValue(e,v,"@container"),y=ee(g),w=null;y&&(w=g["@list"]);var _=this.compact(e,v,y?w:g,i);if(y)if(z(_)||(_=[_]),"@list"!==u){var x={};x[A(e,"@list")]=_,_=x,"@index"in g&&(_[A(e,"@index")]=g["@index"])}else if(v in o)throw new Ie('JSON-LD compact error; property has a "@list" @container rule but there is more than a single @list that matches the compacted term in the document. Compaction might mix unwanted items into the list.',"jsonld.SyntaxError",{code:"compaction to list of lists"});if("@language"===u||"@index"===u){var k;v in o?k=o[v]:o[v]=k={},"@language"===u&&$(_)&&(_=_["@value"]),t.addValue(k,g[u],_)}else{var S=!i.compactArrays||"@set"===u||"@list"===u||z(_)&&0===_.length||"@list"===h||"@graph"===h;t.addValue(o,v,_,{propertyIsArray:S})}}}else{var u=t.getContextValue(e,n,"@container");if("@index"===u)continue;var m=A(e,h);t.addValue(o,m,p)}else{var C=this.compact(e,"@reverse",p,i);for(var E in C)if(e.mappings[E]&&e.mappings[E].reverse){var j=C[E],u=t.getContextValue(e,E,"@container"),N="@set"===u||!i.compactArrays;t.addValue(o,E,j,{propertyIsArray:N}),delete C[E]}if(Object.keys(C).length>0){var m=A(e,h);t.addValue(o,m,C)}}else{var C;if(X(p))C=A(e,p,null,{vocab:"@type"===h});else{C=[];for(var b=0;b<p.length;++b)C.push(A(e,p[b],null,{vocab:!0}))}var m=A(e,h),S=z(C)&&0===p.length;t.addValue(o,m,C,{propertyIsArray:S})}}return o}return r},We.prototype.expand=function(e,n,r,i,o){var s=this;if(null===r||void 0===r)return null;if(!z(r)&&!V(r))return o||null!==n&&"@graph"!==W(e,n,{vocab:!0})?l(e,n,r):null;if(z(r)){var a=[],c=t.getContextValue(e,n,"@container");o=o||"@list"===c;for(var d=0;d<r.length;++d){var f=s.expand(e,n,r[d],i);if(o&&(z(f)||ee(f)))throw new Ie("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"});null!==f&&(z(f)?a=a.concat(f):a.push(f))}return a}"@context"in r&&(e=s.processContext(e,r["@context"],i));for(var h=W(e,n,{vocab:!0}),a={},p=Object.keys(r).sort(),m=0;m<p.length;++m){var v,b=p[m],g=r[b];if("@context"!==b){var y=W(e,b,{vocab:!0});if(null!==y&&(ne(y)||L(y))){if(L(y)){if("@reverse"===h)throw new Ie("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:g});if(y in a)throw new Ie("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:y})}if("@id"===y&&!X(g)){if(!i.isFrame)throw new Ie('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:g});if(!V(g))throw new Ie('Invalid JSON-LD syntax; "@id" value must be a string or an object.',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}if("@type"===y&&F(g),"@graph"===y&&!V(g)&&!z(g))throw new Ie('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:g});if("@value"===y&&(V(g)||z(g)))throw new Ie('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:g});if("@language"===y){if(null===g)continue;if(!X(g))throw new Ie('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:g});g=g.toLowerCase()}if("@index"===y&&!X(g))throw new Ie('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:g});if("@reverse"!==y){var c=t.getContextValue(e,b,"@container");if("@language"===c&&V(g))v=u(g);else if("@index"===c&&V(g))v=function(t){for(var n=[],r=Object.keys(g).sort(),o=0;o<r.length;++o){var a=r[o],u=g[a];z(u)||(u=[u]),u=s.expand(e,t,u,i,!1);for(var c=0;c<u.length;++c){var l=u[c];"@index"in l||(l["@index"]=a),n.push(l)}}return n}(b);else{var w="@list"===y;if(w||"@set"===y){var _=n;if(w&&"@graph"===h&&(_=null),v=s.expand(e,_,g,i,w),w&&ee(v))throw new Ie("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"})}else v=s.expand(e,b,g,i,!1)}if(null!==v||"@value"===y)if("@list"===y||ee(v)||"@list"!==c||(v=z(v)?v:[v],v={"@list":v}),e.mappings[b]&&e.mappings[b].reverse){var x=a["@reverse"]=a["@reverse"]||{};z(v)||(v=[v]);for(var k=0;k<v.length;++k){var S=v[k];if($(S)||ee(S))throw new Ie('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:v});t.addValue(x,y,S,{propertyIsArray:!0})}}else{var C=-1===["@index","@id","@type","@value","@language"].indexOf(y);t.addValue(a,y,v,{propertyIsArray:C})}}else{if(!V(g))throw new Ie('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:g});if(v=s.expand(e,"@reverse",g,i),"@reverse"in v)for(var E in v["@reverse"])t.addValue(a,E,v["@reverse"][E],{propertyIsArray:!0});var x=a["@reverse"]||null;for(var E in v)if("@reverse"!==E){null===x&&(x=a["@reverse"]={}),t.addValue(x,E,[],{propertyIsArray:!0});for(var j=v[E],k=0;k<j.length;++k){var S=j[k];if($(S)||ee(S))throw new Ie('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:v});t.addValue(x,E,S,{propertyIsArray:!0})}}}}}}p=Object.keys(a);var N=p.length;if("@value"in a){if("@type"in a&&"@language"in a)throw new Ie('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:a});var R=N-1;if("@type"in a&&(R-=1),"@index"in a&&(R-=1),"@language"in a&&(R-=1),0!==R)throw new Ie('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:a});if(null===a["@value"])a=null;else{if("@language"in a&&!X(a["@value"]))throw new Ie("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:a});if("@type"in a&&(!ne(a["@type"])||0===a["@type"].indexOf("_:")))throw new Ie('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:a})}}else if("@type"in a&&!z(a["@type"]))a["@type"]=[a["@type"]];else if("@set"in a||"@list"in a){if(N>1&&!(2===N&&"@index"in a))throw new Ie('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:a});"@set"in a&&(a=a["@set"],p=Object.keys(a),N=p.length)}else 1===N&&"@language"in a&&(a=null);return!V(a)||i.keepFreeFloatingNodes||o||null!==n&&"@graph"!==h||(0===N||"@value"in a||"@list"in a||1===N&&"@id"in a)&&(a=null),a},We.prototype.createNodeMap=function(e,t){t=t||{};var n=t.namer||new le("_:b"),r={"@default":{}};return y(e,r,"@default",n),w(r)},We.prototype.flatten=function(e){for(var t=this.createNodeMap(e),n=[],r=Object.keys(t).sort(),i=0;i<r.length;++i){var o=t[r[i]];K(o)||n.push(o)}return n},We.prototype.frame=function(e,t,n){var r={options:n,graphs:{"@default":{},"@merged":{}},subjectStack:[],link:{}},i=new le("_:b");y(e,r.graphs,"@merged",i),r.subjects=r.graphs["@merged"];var o=[];return _(r,Object.keys(r.subjects).sort(),t,o,null),o},We.prototype.normalize=function(e,n,r){function i(e){function n(a){if(a===e.length)return o(s,i,r);var u=e[a],l=v(u,c);l in i?(i[l].push(u),r.push(u)):l in s?(i[l]=[s[l],u],r.push(s[l]),r.push(u),delete s[l]):s[l]=u,t.setImmediate(function(){n(a+1)})}var r=[],i={},s={};t.setImmediate(function(){n(0)})}function o(e,t,n){for(var r=!1,o=Object.keys(e).sort(),a=0;a<o.length;++a){var u=e[o[a]];w.getName(u),r=!0}r?i(n):s(t)}function s(e){function t(i){function o(e,n){if(n===e.length){u.sort(function(e,t){return e=e.hash,t=t.hash,t>e?-1:e>t?1:0});for(var s=0;s<u.length;++s)for(var a in u[s].pathNamer.existing)w.getName(a);return t(i+1)}var l=e[n];if(w.isNamed(l))return o(e,n+1);var d=new le("_:b");d.getName(l),b(l,c,w,d,function(t,i){return t?r(t):(u.push(i),void o(e,n+1))})}if(i===n.length)return a();var s=e[n[i]],u=[];o(s,0)}var n=Object.keys(e).sort();t(0)}function a(){for(var e=[],t=0;t<u.length;++t){for(var i=u[t],o=["subject","object","name"],s=0;s<o.length;++s){var a=o[s];i[a]&&"blank node"===i[a].type&&0!==i[a].value.indexOf("_:c14n")&&(i[a].value=w.getName(i[a].value))}e.push(ue(i,i.name?i.name.value:null))}return e.sort(),n.format?"application/nquads"===n.format?r(null,e.join("")):r(new Ie("Unknown output format.","jsonld.UnknownFormat",{format:n.format})):void r(null,se(e.join("")))}var u=[],c={};for(var l in e){var d=e[l];"@default"===l&&(l=null);for(var f=0;f<d.length;++f){var h=d[f];null!==l&&(h.name=0===l.indexOf("_:")?{type:"blank node",value:l}:{type:"IRI",value:l}),u.push(h);for(var p=["subject","object","name"],m=0;m<p.length;++m){var g=p[m];if(h[g]&&"blank node"===h[g].type){var y=h[g].value;y in c?c[y].quads.push(h):c[y]={quads:[h]}}}}}var w=new le("_:c14n");return i(Object.keys(c))},We.prototype.fromRDF=function(e,n,r){var i={},o={"@default":i},s={};for(var a in e){var u=e[a];a in o||(o[a]={}),"@default"===a||a in i||(i[a]={"@id":a});for(var c=o[a],l=0;l<u.length;++l){var d=u[l],f=d.subject.value,h=d.predicate.value,m=d.object;f in c||(c[f]={"@id":f});var v=c[f],b="IRI"===m.type||"blank node"===m.type;if(!b||m.value in c||(c[m.value]={"@id":m.value}),h!==Ne||n.useRdfType||!b){var g=p(m,n.useNativeTypes);if(t.addValue(v,h,g,{propertyIsArray:!0}),b)if(m.value===je){var y=c[m.value];"usages"in y||(y.usages=[]),y.usages.push({node:v,property:h,value:g})}else s[m.value]=m.value in s?!1:{node:v,property:h,value:g}}else t.addValue(v,"@type",m.value,{propertyIsArray:!0})}
}for(var a in o){var w=o[a];if(je in w){for(var _=w[je],x=0;x<_.usages.length;++x){for(var k=_.usages[x],v=k.node,S=k.property,C=k.value,E=[],j=[],N=Object.keys(v).length;S===Ee&&V(s[v["@id"]])&&z(v[Ce])&&1===v[Ce].length&&z(v[Ee])&&1===v[Ee].length&&(3===N||4===N&&z(v["@type"])&&1===v["@type"].length&&v["@type"][0]===Se)&&(E.push(v[Ce][0]),j.push(v["@id"]),k=s[v["@id"]],v=k.node,S=k.property,C=k.value,N=Object.keys(v).length,0===v["@id"].indexOf("_:")););if(S===Ce){if(v["@id"]===je)continue;C=w[C["@id"]][Ee][0],E.pop(),j.pop()}delete C["@id"],C["@list"]=E.reverse();for(var R=0;R<j.length;++R)delete w[j[R]]}delete _.usages}}for(var T=[],U=Object.keys(i).sort(),x=0;x<U.length;++x){var D=U[x],v=i[D];if(D in o)for(var u=v["@graph"]=[],w=o[D],A=Object.keys(w).sort(),O=0;O<A.length;++O){var I=w[A[O]];K(I)||u.push(I)}K(v)||T.push(v)}r(null,T)},We.prototype.toRDF=function(e,t){var n=new le("_:b"),r={"@default":{}};y(e,r,"@default",n);for(var i={},o=Object.keys(r).sort(),s=0;s<o.length;++s){var a=o[s];("@default"===a||ne(a))&&(i[a]=d(r[a],n,t))}return i},We.prototype.processContext=function(e,n,r){V(n)&&"@context"in n&&z(n["@context"])&&(n=n["@context"]);var i=z(n)?n:[n];if(0===i.length)return e.clone();for(var o=e,s=0;s<i.length;++s){var a=i[s];if(null!==a){if(V(a)&&"@context"in a&&(a=a["@context"]),!V(a))throw new Ie("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:a});if(t.cache.activeCtx){var u=t.cache.activeCtx.get(e,a);if(u){o=e=u;continue}}e=o,o=o.clone();var c={};if("@base"in a){var l=a["@base"];if(null===l)l=null;else{if(!X(l))throw new Ie('Invalid JSON-LD syntax; the value of "@base" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:a});if(""!==l&&!ne(l))throw new Ie('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI or the empty string.',"jsonld.SyntaxError",{code:"invalid base IRI",context:a})}null!==l&&(l=t.url.parse(l||"")),o["@base"]=l,c["@base"]=!0}if("@vocab"in a){var d=a["@vocab"];if(null===d)delete o["@vocab"];else{if(!X(d))throw new Ie('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:a});if(!ne(d))throw new Ie('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:a});o["@vocab"]=d}c["@vocab"]=!0}if("@language"in a){var d=a["@language"];if(null===d)delete o["@language"];else{if(!X(d))throw new Ie('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:a});o["@language"]=d.toLowerCase()}c["@language"]=!0}for(var f in a)I(o,a,f,c);t.cache.activeCtx&&t.cache.activeCtx.set(e,a,o)}else o=e=B(r)}return o},Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on non-object");var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}),t.registerRDFParser("application/nquads",se),t.registerRDFParser("rdfa-api",ce),t.UniqueNamer=le,le.prototype.clone=function(){var e=new le(this.prefix);return e.counter=this.counter,e.existing=re(this.existing),e},le.prototype.getName=function(e){if(e&&e in this.existing)return this.existing[e];var t=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=t),t},le.prototype.isNamed=function(e){return e in this.existing};var Me=function(e){this.list=e.sort(),this.done=!1,this.left={};for(var t=0;t<e.length;++t)this.left[e[t]]=!0};Me.prototype.hasNext=function(){return!this.done},Me.prototype.next=function(){for(var e=this.list.slice(),t=null,n=0,r=this.list.length,i=0;r>i;++i){var o=this.list[i],s=this.left[o];(null===t||o>t)&&(s&&i>0&&o>this.list[i-1]||!s&&r-1>i&&o>this.list[i+1])&&(t=o,n=i)}if(null===t)this.done=!0;else{var a=this.left[t]?n-1:n+1;this.list[n]=this.list[a],this.list[a]=t;for(var i=0;r>i;++i)this.list[i]>t&&(this.left[this.list[i]]=!this.left[this.list[i]])}return e};var Ze=t.sha1={};if(o){var Be=e("crypto");Ze.create=function(){var e=Be.createHash("sha1");return{update:function(t){e.update(t,"utf8")},digest:function(){return e.digest("hex")}}}}else Ze.create=function(){return new Ze.MessageDigest};if(Ze.hash=function(e){for(var t=Ze.create(),n=0;n<e.length;++n)t.update(e[n]);return t.digest()},!o){Ze.Buffer=function(){this.data="",this.read=0},Ze.Buffer.prototype.putInt32=function(e){this.data+=String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)},Ze.Buffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},Ze.Buffer.prototype.bytes=function(){return this.data.slice(this.read)},Ze.Buffer.prototype.length=function(){return this.data.length-this.read},Ze.Buffer.prototype.compact=function(){this.data=this.data.slice(this.read),this.read=0},Ze.Buffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var n=this.data.charCodeAt(t);16>n&&(e+="0"),e+=n.toString(16)}return e},Ze.MessageDigest=function(){Le.initialized||Le.init(),this.blockLength=64,this.digestLength=20,this.messageLength=0,this.input=new Ze.Buffer,this.words=new Array(80),this.state={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520}},Ze.MessageDigest.prototype.update=function(e){e=unescape(encodeURIComponent(e)),this.messageLength+=e.length,this.input.data+=e,Le.update(this.state,this.words,this.input),(this.input.read>2048||0===this.input.length())&&this.input.compact()},Ze.MessageDigest.prototype.digest=function(){var e=this.messageLength,t=new Ze.Buffer;t.data+=this.input.bytes(),t.data+=Le.padding.substr(0,64-(e+8)%64),t.putInt32(e>>>29&255),t.putInt32(e<<3&4294967295),Le.update(this.state,this.words,t);var n=new Ze.Buffer;return n.putInt32(this.state.h0),n.putInt32(this.state.h1),n.putInt32(this.state.h2),n.putInt32(this.state.h3),n.putInt32(this.state.h4),n.toHex()};var Le={padding:null,initialized:!1};Le.init=function(){Le.padding=String.fromCharCode(128);for(var e=String.fromCharCode(0),t=64;t>0;)1&t&&(Le.padding+=e),t>>>=1,t>0&&(e+=e);Le.initialized=!0},Le.update=function(e,t,n){for(var r,i,o,s,a,u,c,l,d=n.length();d>=64;){for(i=e.h0,o=e.h1,s=e.h2,a=e.h3,u=e.h4,l=0;16>l;++l)r=n.getInt32(),t[l]=r,c=a^o&(s^a),r=(i<<5|i>>>27)+c+u+1518500249+r,u=a,a=s,s=o<<30|o>>>2,o=i,i=r;for(;20>l;++l)r=t[l-3]^t[l-8]^t[l-14]^t[l-16],r=r<<1|r>>>31,t[l]=r,c=a^o&(s^a),r=(i<<5|i>>>27)+c+u+1518500249+r,u=a,a=s,s=o<<30|o>>>2,o=i,i=r;for(;32>l;++l)r=t[l-3]^t[l-8]^t[l-14]^t[l-16],r=r<<1|r>>>31,t[l]=r,c=o^s^a,r=(i<<5|i>>>27)+c+u+1859775393+r,u=a,a=s,s=o<<30|o>>>2,o=i,i=r;for(;40>l;++l)r=t[l-6]^t[l-16]^t[l-28]^t[l-32],r=r<<2|r>>>30,t[l]=r,c=o^s^a,r=(i<<5|i>>>27)+c+u+1859775393+r,u=a,a=s,s=o<<30|o>>>2,o=i,i=r;for(;60>l;++l)r=t[l-6]^t[l-16]^t[l-28]^t[l-32],r=r<<2|r>>>30,t[l]=r,c=o&s|a&(o^s),r=(i<<5|i>>>27)+c+u+2400959708+r,u=a,a=s,s=o<<30|o>>>2,o=i,i=r;for(;80>l;++l)r=t[l-6]^t[l-16]^t[l-28]^t[l-32],r=r<<2|r>>>30,t[l]=r,c=o^s^a,r=(i<<5|i>>>27)+c+u+3395469782+r,u=a,a=s,s=o<<30|o>>>2,o=i,i=r;e.h0+=i,e.h1+=o,e.h2+=s,e.h3+=a,e.h4+=u,d-=64}}}if(!be)var Ve=function(){be=e("xmldom").XMLSerializer};if(t.url={},t.url.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},t.url.parse=function(e,n){for(var r={},i=t.url.parsers[n||"full"],o=i.regex.exec(e),s=i.keys.length;s--;)r[i.keys[s]]=void 0===o[s]?null:o[s];return r.normalizedPath=de(r.path,!!r.authority),r},o?t.useDocumentLoader("node"):"undefined"!=typeof XMLHttpRequest&&t.useDocumentLoader("xhr"),o){t.use=function(n){switch(n){case"request":t.request=e("./request");break;default:throw new Ie("Unknown extension.","jsonld.UnknownExtension",{extension:n})}};var Ge={exports:{},filename:i};e("pkginfo")(Ge,"version"),t.version=Ge.exports.version}return t},u=function(){return a(function(){return u()})};return!o&&"function"==typeof define&&define.amd?define([],function(){return a(u),u}):(a(u),"function"==typeof e&&"undefined"!=typeof t&&t.exports&&(t.exports=u),s&&("undefined"==typeof jsonld?jsonld=jsonldjs=u:jsonldjs=u)),u}()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},"/node_modules/jsonld-rx/node_modules/jsonld/js")},{"./request":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/jsonld/browser/ignore.js",_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",crypto:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/jsonld/browser/ignore.js","es6-promise":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/es6-promise/dist/es6-promise.js",http:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/jsonld/browser/ignore.js",pkginfo:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/pkginfo/lib/pkginfo.js",request:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/jsonld/browser/ignore.js",util:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/jsonld/browser/ignore.js",xmldom:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/jsonld/browser/ignore.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/lodash/index.js":[function(e,t,n){(function(e){(function(){function r(e,t){if(e!==t){var n=null===e,r=e===C,i=e===e,o=null===t,s=t===C,a=t===t;if(e>t&&!o||!i||n&&!s&&a||r&&a)return 1;if(t>e&&!n||!a||o&&!r&&i||s&&i)return-1}return 0}function i(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function o(e,t,n){if(t!==t)return v(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function s(e){return"function"==typeof e||!1}function a(e){return null==e?"":e+""}function u(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function c(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function l(e,t){return r(e.criteria,t.criteria)||e.index-t.index}function d(e,t,n){for(var i=-1,o=e.criteria,s=t.criteria,a=o.length,u=n.length;++i<a;){var c=r(o[i],s[i]);if(c){if(i>=u)return c;var l=n[i];return c*("asc"===l||l===!0?1:-1)}}return e.index-t.index}function f(e){return Fe[e]}function h(e){return Xe[e]}function p(e,t,n){return t?e=qe[e]:n&&(e=Qe[e]),"\\"+e}function m(e){return"\\"+Qe[e]}function v(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function b(e){return!!e&&"object"==typeof e}function g(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function y(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)e[n]===t&&(e[n]=F,o[++i]=n);return o}function w(e,t){for(var n,r=-1,i=e.length,o=-1,s=[];++r<i;){var a=e[r],u=t?t(a,r,e):a;r&&n===u||(n=u,s[++o]=a)}return s}function _(e){for(var t=-1,n=e.length;++t<n&&g(e.charCodeAt(t)););return t}function x(e){for(var t=e.length;t--&&g(e.charCodeAt(t)););return t}function k(e){return Ye[e]}function S(e){function t(e){if(b(e)&&!Ra(e)&&!(e instanceof H)){if(e instanceof g)return e;if(ts.call(e,"__chain__")&&ts.call(e,"__wrapped__"))return hr(e)}return new g(e)}function n(){}function g(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function H(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ns,this.__views__=[]}function te(){var e=new H(this.__wrapped__);return e.__actions__=et(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=et(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=et(this.__views__),e}function re(){if(this.__filtered__){var e=new H(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Fe(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ra(e),r=0>t,i=n?e.length:0,o=Yn(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,d=l.length,f=0,h=ks(u,this.__takeCount__);if(!n||L>i||i==u&&h==u)return nn(r&&n?e.reverse():e,this.__actions__);var p=[];e:for(;u--&&h>f;){c+=t;for(var m=-1,v=e[c];++m<d;){var b=l[m],g=b.iteratee,y=b.type,w=g(v);if(y==G)v=w;else if(!w){if(y==V)continue e;break e}}p[f++]=v}return p}function Xe(){this.__data__={}}function Ye(e){return this.has(e)&&delete this.__data__[e]}function Je(e){return"__proto__"==e?C:this.__data__[e]}function qe(e){return"__proto__"!=e&&ts.call(this.__data__,e)}function Qe(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Pe(e){var t=e?e.length:0;for(this.data={hash:bs(null),set:new ds};t--;)this.push(e[t])}function He(e,t){var n=e.data,r="string"==typeof t||Oi(t)?n.set.has(t):n.hash[t];return r?0:-1}function Ke(e){var t=this.data;"string"==typeof e||Oi(e)?t.set.add(e):t.hash[e]=!0}function $e(e,t){for(var n=-1,r=e.length,i=-1,o=t.length,s=Vo(r+o);++n<r;)s[n]=e[n];for(;++i<o;)s[n++]=t[i];return s}function et(e,t){var n=-1,r=e.length;for(t||(t=Vo(r));++n<r;)t[n]=e[n];return t}function tt(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function it(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function ot(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function st(e,t,n,r){for(var i=-1,o=e.length,s=r,a=s;++i<o;){var u=e[i],c=+t(u);n(c,s)&&(s=c,a=u)}return a}function at(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[++i]=s)}return o}function ut(e,t){for(var n=-1,r=e.length,i=Vo(r);++n<r;)i[n]=t(e[n],n,e);return i}function ct(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function lt(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function dt(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function ft(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ht(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}function pt(e,t){return e===C?t:e}function mt(e,t,n,r){return e!==C&&ts.call(r,n)?e:t}function vt(e,t,n){for(var r=-1,i=La(t),o=i.length;++r<o;){var s=i[r],a=e[s],u=n(a,t[s],s,e,t);(u===u?u===a:a!==a)&&(a!==C||s in e)||(e[s]=u)}return e}function bt(e,t){return null==t?e:yt(t,La(t),e)}function gt(e,t){for(var n=-1,r=null==e,i=!r&&Hn(e),o=i?e.length:0,s=t.length,a=Vo(s);++n<s;){var u=t[n];a[n]=i?Kn(u,o)?e[u]:C:r?C:e[u]}return a}function yt(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}function wt(e,t,n){var r=typeof e;return"function"==r?t===C?e:sn(e,t,n):null==e?No:"object"==r?Bt(e):t===C?Oo(e):Lt(e,t)}function _t(e,t,n,r,i,o,s){var a;if(n&&(a=i?n(e,r,i):n(e)),a!==C)return a;if(!Oi(e))return e;var u=Ra(e);if(u){if(a=Jn(e),!t)return et(e,a)}else{var c=rs.call(e),l=c==P;if(c!=$&&c!=X&&(!l||i))return ze[c]?Qn(e,c,t):i?e:{};if(a=qn(l?{}:e),!t)return bt(a,e)}o||(o=[]),s||(s=[]);for(var d=o.length;d--;)if(o[d]==e)return s[d];return o.push(e),s.push(a),(u?tt:Ut)(e,function(r,i){a[i]=_t(r,t,n,i,e,o,s)}),a}function xt(e,t,n){if("function"!=typeof e)throw new Po(z);return fs(function(){e.apply(C,n)},t)}function kt(e,t){var n=e?e.length:0,r=[];if(!n)return r;var i=-1,s=zn(),a=s==o,u=a&&t.length>=L?mn(t):null,c=t.length;u&&(s=He,a=!1,t=u);e:for(;++i<n;){var l=e[i];if(a&&l===l){for(var d=c;d--;)if(t[d]===l)continue e;r.push(l)}else s(t,l,0)<0&&r.push(l)}return r}function St(e,t){var n=!0;return Ws(e,function(e,r,i){return n=!!t(e,r,i)}),n}function Ct(e,t,n,r){var i=r,o=i;return Ws(e,function(e,s,a){var u=+t(e,s,a);(n(u,i)||u===r&&u===o)&&(i=u,o=e)}),o}function Et(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===C||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e}function jt(e,t){var n=[];return Ws(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Nt(e,t,n,r){var i;return n(e,function(e,n,o){return t(e,n,o)?(i=r?n:e,!1):void 0}),i}function Rt(e,t,n,r){r||(r=[]);for(var i=-1,o=e.length;++i<o;){var s=e[i];b(s)&&Hn(s)&&(n||Ra(s)||Ci(s))?t?Rt(s,t,n,r):ct(r,s):n||(r[r.length]=s)}return r}function Tt(e,t){return Zs(e,t,eo)}function Ut(e,t){return Zs(e,t,La)}function Dt(e,t){return Bs(e,t,La)}function At(e,t){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var s=t[n];Ai(e[s])&&(o[++i]=s)}return o}function Ot(e,t,n){if(null!=e){n!==C&&n in dr(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&i>r;)e=e[t[r++]];return r&&r==i?e:C}}function It(e,t,n,r,i,o){return e===t?!0:null==e||null==t||!Oi(e)&&!b(t)?e!==e&&t!==t:Wt(e,t,It,n,r,i,o)}function Wt(e,t,n,r,i,o,s){var a=Ra(e),u=Ra(t),c=Y,l=Y;a||(c=rs.call(e),c==X?c=$:c!=$&&(a=zi(e))),u||(l=rs.call(t),l==X?l=$:l!=$&&(u=zi(t)));var d=c==$,f=l==$,h=c==l;if(h&&!a&&!d)return Bn(e,t,c);if(!i){var p=d&&ts.call(e,"__wrapped__"),m=f&&ts.call(t,"__wrapped__");if(p||m)return n(p?e.value():e,m?t.value():t,r,i,o,s)}if(!h)return!1;o||(o=[]),s||(s=[]);for(var v=o.length;v--;)if(o[v]==e)return s[v]==t;o.push(e),s.push(t);var b=(a?Zn:Ln)(e,t,n,r,i,o,s);return o.pop(),s.pop(),b}function Mt(e,t,n){var r=t.length,i=r,o=!n;if(null==e)return!i;for(e=dr(e);r--;){var s=t[r];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<i;){s=t[r];var a=s[0],u=e[a],c=s[1];if(o&&s[2]){if(u===C&&!(a in e))return!1}else{var l=n?n(u,c,a):C;if(!(l===C?It(c,u,n,!0):l))return!1}}return!0}function Zt(e,t){var n=-1,r=Hn(e)?Vo(e.length):[];return Ws(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Bt(e){var t=Fn(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==C||n in dr(e))}}return function(e){return Mt(e,t)}}function Lt(e,t){var n=Ra(e),r=er(e)&&rr(t),i=e+"";return e=fr(e),function(o){if(null==o)return!1;var s=i;if(o=dr(o),!(!n&&r||s in o)){if(o=1==e.length?o:Ot(o,qt(e,0,-1)),null==o)return!1;s=Er(e),o=dr(o)}return o[s]===t?t!==C||s in o:It(t,o[s],C,!0)}}function Vt(e,t,n,r,i){if(!Oi(e))return e;var o=Hn(t)&&(Ra(t)||zi(t)),s=o?C:La(t);return tt(s||t,function(a,u){if(s&&(u=a,a=t[u]),b(a))r||(r=[]),i||(i=[]),Gt(e,t,u,Vt,n,r,i);else{var c=e[u],l=n?n(c,a,u,e,t):C,d=l===C;d&&(l=a),l===C&&(!o||u in e)||!d&&(l===l?l===c:c!==c)||(e[u]=l)}}),e}function Gt(e,t,n,r,i,o,s){for(var a=o.length,u=t[n];a--;)if(o[a]==u)return void(e[n]=s[a]);var c=e[n],l=i?i(c,u,n,e,t):C,d=l===C;d&&(l=u,Hn(u)&&(Ra(u)||zi(u))?l=Ra(c)?c:Hn(c)?et(c):[]:Li(u)||Ci(u)?l=Ci(c)?qi(c):Li(c)?c:{}:d=!1),o.push(u),s.push(l),d?e[n]=r(l,u,i,o,s):(l===l?l!==c:c===c)&&(e[n]=l)}function zt(e){return function(t){return null==t?C:t[e]}}function Ft(e){var t=e+"";return e=fr(e),function(n){return Ot(n,e,t)}}function Xt(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&Kn(r)){var i=r;hs.call(e,r,1)}}return e}function Yt(e,t){return e+gs(Es()*(t-e+1))}function Jt(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function qt(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=n===C||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Vo(i);++r<i;)o[r]=e[r+t];return o}function Qt(e,t){var n;return Ws(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Pt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Ht(e,t,n){var r=Vn(),i=-1;t=ut(t,function(e){return r(e)});var o=Zt(e,function(e){var n=ut(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return Pt(o,function(e,t){return d(e,t,n)})}function Kt(e,t){var n=0;return Ws(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function $t(e,t){var n=-1,r=zn(),i=e.length,s=r==o,a=s&&i>=L,u=a?mn():null,c=[];u?(r=He,s=!1):(a=!1,u=t?[]:c);e:for(;++n<i;){var l=e[n],d=t?t(l,n,e):l;if(s&&l===l){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),c.push(l)}else r(u,d,0)<0&&((t||a)&&u.push(d),c.push(l))}return c}function en(e,t){for(var n=-1,r=t.length,i=Vo(r);++n<r;)i[n]=e[t[n]];return i}function tn(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?qt(e,r?0:o,r?o+1:i):qt(e,r?o+1:0,r?i:o)}function nn(e,t){var n=e;n instanceof H&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var o=t[r];n=o.func.apply(o.thisArg,ct([n],o.args))}return n}function rn(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&Us>=i){for(;i>r;){var o=r+i>>>1,s=e[o];(n?t>=s:t>s)&&null!==s?r=o+1:i=o}return i}return on(e,t,No,n)}function on(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,s=t!==t,a=null===t,u=t===C;o>i;){var c=gs((i+o)/2),l=n(e[c]),d=l!==C,f=l===l;if(s)var h=f||r;else h=a?f&&d&&(r||null!=l):u?f&&(r||d):null==l?!1:r?t>=l:t>l;h?i=c+1:o=c}return ks(o,Ts)}function sn(e,t,n){if("function"!=typeof e)return No;if(t===C)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,s){return e.call(t,n,r,i,o,s)}}return function(){return e.apply(t,arguments)}}function an(e){var t=new ss(e.byteLength),n=new ps(t);return n.set(new ps(e)),t}function un(e,t,n){for(var r=n.length,i=-1,o=xs(e.length-r,0),s=-1,a=t.length,u=Vo(a+o);++s<a;)u[s]=t[s];for(;++i<r;)u[n[i]]=e[i];for(;o--;)u[s++]=e[i++];return u}function cn(e,t,n){for(var r=-1,i=n.length,o=-1,s=xs(e.length-i,0),a=-1,u=t.length,c=Vo(s+u);++o<s;)c[o]=e[o];for(var l=o;++a<u;)c[l+a]=t[a];for(;++r<i;)c[l+n[r]]=e[o++];return c}function ln(e,t){return function(n,r,i){var o=t?t():{};if(r=Vn(r,i,3),Ra(n))for(var s=-1,a=n.length;++s<a;){var u=n[s];e(o,u,r(u,s,n),n)}else Ws(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function dn(e){return bi(function(t,n){var r=-1,i=null==t?0:n.length,o=i>2?n[i-2]:C,s=i>2?n[2]:C,a=i>1?n[i-1]:C;for("function"==typeof o?(o=sn(o,a,5),i-=2):(o="function"==typeof a?a:C,i-=o?1:0),s&&$n(n[0],n[1],s)&&(o=3>i?C:o,i=1);++r<i;){var u=n[r];u&&e(t,u,o)}return t})}function fn(e,t){return function(n,r){var i=n?Gs(n):0;if(!nr(i))return e(n,r);for(var o=t?i:-1,s=dr(n);(t?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}function hn(e){return function(t,n,r){for(var i=dr(t),o=r(t),s=o.length,a=e?s:-1;e?a--:++a<s;){var u=o[a];if(n(i[u],u,i)===!1)break}return t}}function pn(e,t){function n(){var i=this&&this!==nt&&this instanceof n?r:e;return i.apply(t,arguments)}var r=bn(e);return n}function mn(e){return bs&&ds?new Pe(e):null}function vn(e){return function(t){for(var n=-1,r=Co(lo(t)),i=r.length,o="";++n<i;)o=e(o,r[n],n);return o}}function bn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Is(e.prototype),r=e.apply(n,t);return Oi(r)?r:n}}function gn(e){function t(n,r,i){i&&$n(n,r,i)&&(r=C);var o=Mn(n,e,C,C,C,C,C,r);return o.placeholder=t.placeholder,o}return t}function yn(e,t){return bi(function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(C,n))})}function wn(e,t){return function(n,r,i){if(i&&$n(n,r,i)&&(r=C),r=Vn(r,i,3),1==r.length){n=Ra(n)?n:lr(n);var o=st(n,r,e,t);if(!n.length||o!==t)return o}return Ct(n,r,e,t)}}function _n(e,t){return function(n,r,o){if(r=Vn(r,o,3),Ra(n)){var s=i(n,r,t);return s>-1?n[s]:C}return Nt(n,r,e)}}function xn(e){return function(t,n,r){return t&&t.length?(n=Vn(n,r,3),i(t,n,e)):-1}}function kn(e){return function(t,n,r){return n=Vn(n,r,3),Nt(t,n,e,!0)}}function Sn(e){return function(){for(var t,n=arguments.length,r=e?n:-1,i=0,o=Vo(n);e?r--:++r<n;){var s=o[i++]=arguments[r];if("function"!=typeof s)throw new Po(z);!t&&g.prototype.thru&&"wrapper"==Gn(s)&&(t=new g([],!0))}for(r=t?-1:n;++r<n;){s=o[r];var a=Gn(s),u="wrapper"==a?Vs(s):C;t=u&&tr(u[0])&&u[1]==(O|T|D|I)&&!u[4].length&&1==u[9]?t[Gn(u[0])].apply(t,u[3]):1==s.length&&tr(s)?t[a]():t.thru(s)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&Ra(r)&&r.length>=L)return t.plant(r).value();for(var i=0,s=n?o[i].apply(this,e):r;++i<n;)s=o[i].call(this,s);return s}}}function Cn(e,t){return function(n,r,i){return"function"==typeof r&&i===C&&Ra(n)?e(n,r):t(n,sn(r,i,3))}}function En(e){return function(t,n,r){return("function"!=typeof n||r!==C)&&(n=sn(n,r,3)),e(t,n,eo)}}function jn(e){return function(t,n,r){return("function"!=typeof n||r!==C)&&(n=sn(n,r,3)),e(t,n)}}function Nn(e){return function(t,n,r){var i={};return n=Vn(n,r,3),Ut(t,function(t,r,o){var s=n(t,r,o);r=e?s:r,t=e?t:s,i[r]=t}),i}}function Rn(e){return function(t,n,r){return t=a(t),(e?t:"")+An(t,n,r)+(e?"":t)}}function Tn(e){var t=bi(function(n,r){var i=y(r,t.placeholder);return Mn(n,e,C,r,i)});return t}function Un(e,t){return function(n,r,i,o){var s=arguments.length<3;return"function"==typeof r&&o===C&&Ra(n)?e(n,r,i,s):Jt(n,Vn(r,o,4),i,s,t)}}function Dn(e,t,n,r,i,o,s,a,u,c){function l(){for(var g=arguments.length,w=g,_=Vo(g);w--;)_[w]=arguments[w];if(r&&(_=un(_,r,i)),o&&(_=cn(_,o,s)),p||v){var x=l.placeholder,k=y(_,x);if(g-=k.length,c>g){var S=a?et(a):C,E=xs(c-g,0),R=p?k:C,T=p?C:k,U=p?_:C,O=p?C:_;t|=p?D:A,t&=~(p?A:D),m||(t&=~(j|N));var I=[e,t,n,U,R,O,T,S,u,E],W=Dn.apply(C,I);return tr(e)&&zs(W,I),W.placeholder=x,W}}var M=f?n:this,Z=h?M[e]:e;return a&&(_=ur(_,a)),d&&u<_.length&&(_.length=u),this&&this!==nt&&this instanceof l&&(Z=b||bn(e)),Z.apply(M,_)}var d=t&O,f=t&j,h=t&N,p=t&T,m=t&R,v=t&U,b=h?C:bn(e);return l}function An(e,t,n){var r=e.length;if(t=+t,r>=t||!ws(t))return"";var i=t-r;return n=null==n?" ":n+"",bo(n,vs(i/n.length)).slice(0,i)}function On(e,t,n,r){function i(){for(var t=-1,a=arguments.length,u=-1,c=r.length,l=Vo(c+a);++u<c;)l[u]=r[u];for(;a--;)l[u++]=arguments[++t];var d=this&&this!==nt&&this instanceof i?s:e;return d.apply(o?n:this,l)}var o=t&j,s=bn(e);return i}function In(e){var t=Xo[e];return function(e,n){return n=n===C?0:+n||0,n?(n=cs(10,n),t(e*n)/n):t(e)}}function Wn(e){return function(t,n,r,i){var o=Vn(r);return null==r&&o===wt?rn(t,n,e):on(t,n,o(r,i,1),e)}}function Mn(e,t,n,r,i,o,s,a){var u=t&N;if(!u&&"function"!=typeof e)throw new Po(z);var c=r?r.length:0;if(c||(t&=~(D|A),r=i=C),c-=i?i.length:0,t&A){var l=r,d=i;r=i=C}var f=u?C:Vs(e),h=[e,t,n,r,i,l,d,o,s,a];if(f&&(ir(h,f),t=h[1],a=h[9]),h[9]=null==a?u?0:e.length:xs(a-c,0)||0,t==j)var p=pn(h[0],h[2]);else p=t!=D&&t!=(j|D)||h[4].length?Dn.apply(C,h):On.apply(C,h);var m=f?Ls:zs;return m(p,h)}function Zn(e,t,n,r,i,o,s){var a=-1,u=e.length,c=t.length;if(u!=c&&!(i&&c>u))return!1;for(;++a<u;){var l=e[a],d=t[a],f=r?r(i?d:l,i?l:d,a):C;if(f!==C){if(f)continue;return!1}if(i){if(!ft(t,function(e){return l===e||n(l,e,r,i,o,s)}))return!1}else if(l!==d&&!n(l,d,r,i,o,s))return!1}return!0}function Bn(e,t,n){switch(n){case J:case q:return+e==+t;case Q:return e.name==t.name&&e.message==t.message;case K:return e!=+e?t!=+t:e==+t;case ee:case ne:return e==t+""}return!1}function Ln(e,t,n,r,i,o,s){var a=La(e),u=a.length,c=La(t),l=c.length;if(u!=l&&!i)return!1;for(var d=u;d--;){var f=a[d];if(!(i?f in t:ts.call(t,f)))return!1}for(var h=i;++d<u;){f=a[d];var p=e[f],m=t[f],v=r?r(i?m:p,i?p:m,f):C;if(!(v===C?n(p,m,r,i,o,s):v))return!1;h||(h="constructor"==f)}if(!h){var b=e.constructor,g=t.constructor;if(b!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof g&&g instanceof g))return!1}return!0}function Vn(e,n,r){var i=t.callback||Eo;return i=i===Eo?wt:i,r?i(e,n,r):i}function Gn(e){for(var t=e.name,n=Os[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function zn(e,n,r){var i=t.indexOf||Sr;return i=i===Sr?o:i,e?i(e,n,r):i}function Fn(e){for(var t=to(e),n=t.length;n--;)t[n][2]=rr(t[n][1]);return t}function Xn(e,t){var n=null==e?C:e[t];return Mi(n)?n:C}function Yn(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=ks(t,e+s);break;case"takeRight":e=xs(e,t-s)}}return{start:e,end:t}}function Jn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ts.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function qn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Jo),new t}function Qn(e,t,n){var r=e.constructor;switch(t){case ie:return an(e);case J:case q:return new r(+e);case oe:case se:case ae:case ue:case ce:case le:case de:case fe:case he:var i=e.buffer;return new r(n?an(i):i,e.byteOffset,e.length);case K:case ne:return new r(e);case ee:var o=new r(e.source,De.exec(e));o.lastIndex=e.lastIndex}return o}function Pn(e,t,n){null==e||er(t,e)||(t=fr(t),e=1==t.length?e:Ot(e,qt(t,0,-1)),t=Er(t));var r=null==e?e:e[t];return null==r?C:r.apply(e,n)}function Hn(e){return null!=e&&nr(Gs(e))}function Kn(e,t){return e="number"==typeof e||Ie.test(e)?+e:-1,t=null==t?Ds:t,e>-1&&e%1==0&&t>e}function $n(e,t,n){if(!Oi(n))return!1;var r=typeof t;if("number"==r?Hn(n)&&Kn(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function er(e,t){var n=typeof e;if("string"==n&&Ce.test(e)||"number"==n)return!0;if(Ra(e))return!1;var r=!Se.test(e);return r||null!=t&&e in dr(t)}function tr(e){var n=Gn(e);if(!(n in H.prototype))return!1;var r=t[n];if(e===r)return!0;var i=Vs(r);return!!i&&e===i[0]}function nr(e){return"number"==typeof e&&e>-1&&e%1==0&&Ds>=e}function rr(e){return e===e&&!Oi(e)}function ir(e,t){var n=e[1],r=t[1],i=n|r,o=O>i,s=r==O&&n==T||r==O&&n==I&&e[7].length<=t[8]||r==(O|I)&&n==T;if(!o&&!s)return e;r&j&&(e[2]=t[2],i|=n&j?0:R);var a=t[3];if(a){var u=e[3];e[3]=u?un(u,a,t[4]):et(a),e[4]=u?y(e[3],F):et(t[4])}return a=t[5],a&&(u=e[5],e[5]=u?cn(u,a,t[6]):et(a),e[6]=u?y(e[5],F):et(t[6])),a=t[7],a&&(e[7]=et(a)),r&O&&(e[8]=null==e[8]?t[8]:ks(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function or(e,t){return e===C?t:Ta(e,t,or)}function sr(e,t){e=dr(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}function ar(e,t){var n={};return Tt(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function ur(e,t){for(var n=e.length,r=ks(t.length,n),i=et(e);r--;){var o=t[r];e[r]=Kn(o,n)?i[o]:C}return e}function cr(e){for(var t=eo(e),n=t.length,r=n&&e.length,i=!!r&&nr(r)&&(Ra(e)||Ci(e)),o=-1,s=[];++o<n;){var a=t[o];(i&&Kn(a,r)||ts.call(e,a))&&s.push(a)}return s}function lr(e){return null==e?[]:Hn(e)?Oi(e)?e:Jo(e):oo(e)}function dr(e){return Oi(e)?e:Jo(e)}function fr(e){if(Ra(e))return e;var t=[];return a(e).replace(Ee,function(e,n,r,i){t.push(r?i.replace(Te,"$1"):n||e)}),t}function hr(e){return e instanceof H?e.clone():new g(e.__wrapped__,e.__chain__,et(e.__actions__))}function pr(e,t,n){t=(n?$n(e,t,n):null==t)?1:xs(gs(t)||1,1);for(var r=0,i=e?e.length:0,o=-1,s=Vo(vs(i/t));i>r;)s[++o]=qt(e,r,r+=t);return s}function mr(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i}function vr(e,t,n){var r=e?e.length:0;return r?((n?$n(e,t,n):null==t)&&(t=1),qt(e,0>t?0:t)):[]}function br(e,t,n){var r=e?e.length:0;return r?((n?$n(e,t,n):null==t)&&(t=1),t=r-(+t||0),qt(e,0,0>t?0:t)):[]}function gr(e,t,n){return e&&e.length?tn(e,Vn(t,n,3),!0,!0):[]}function yr(e,t,n){return e&&e.length?tn(e,Vn(t,n,3),!0):[]}function wr(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&$n(e,t,n)&&(n=0,r=i),Et(e,t,n,r)):[]}function _r(e){return e?e[0]:C}function xr(e,t,n){var r=e?e.length:0;return n&&$n(e,t,n)&&(t=!1),r?Rt(e,t):[]}function kr(e){var t=e?e.length:0;return t?Rt(e,!0):[]}function Sr(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?xs(r+n,0):n;else if(n){var i=rn(e,t);return r>i&&(t===t?t===e[i]:e[i]!==e[i])?i:-1}return o(e,t,n||0)}function Cr(e){return br(e,1)}function Er(e){var t=e?e.length:0;return t?e[t-1]:C}function jr(e,t,n){var r=e?e.length:0;

if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?xs(r+n,0):ks(n||0,r-1))+1;else if(n){i=rn(e,t,!0)-1;var o=e[i];return(t===t?t===o:o!==o)?i:-1}if(t!==t)return v(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function Nr(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=zn(),i=e.length;++n<i;)for(var o=0,s=e[n];(o=r(t,s,o))>-1;)hs.call(t,o,1);return t}function Rr(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,o=[],s=e.length;for(t=Vn(t,n,3);++i<s;){var a=e[i];t(a,i,e)&&(r.push(a),o.push(i))}return Xt(e,o),r}function Tr(e){return vr(e,1)}function Ur(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&$n(e,t,n)&&(t=0,n=r),qt(e,t,n)):[]}function Dr(e,t,n){var r=e?e.length:0;return r?((n?$n(e,t,n):null==t)&&(t=1),qt(e,0,0>t?0:t)):[]}function Ar(e,t,n){var r=e?e.length:0;return r?((n?$n(e,t,n):null==t)&&(t=1),t=r-(+t||0),qt(e,0>t?0:t)):[]}function Or(e,t,n){return e&&e.length?tn(e,Vn(t,n,3),!1,!0):[]}function Ir(e,t,n){return e&&e.length?tn(e,Vn(t,n,3)):[]}function Wr(e,t,n,r){var i=e?e.length:0;if(!i)return[];null!=t&&"boolean"!=typeof t&&(r=n,n=$n(e,t,r)?C:t,t=!1);var s=Vn();return(null!=n||s!==wt)&&(n=s(n,r,3)),t&&zn()==o?w(e,n):$t(e,n)}function Mr(e){if(!e||!e.length)return[];var t=-1,n=0;e=at(e,function(e){return Hn(e)?(n=xs(e.length,n),!0):void 0});for(var r=Vo(n);++t<n;)r[t]=ut(e,zt(t));return r}function Zr(e,t,n){var r=e?e.length:0;if(!r)return[];var i=Mr(e);return null==t?i:(t=sn(t,n,4),ut(i,function(e){return lt(e,t,C,!0)}))}function Br(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Hn(n))var r=r?ct(kt(r,n),kt(n,r)):n}return r?$t(r):[]}function Lr(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||Ra(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function Vr(e){var n=t(e);return n.__chain__=!0,n}function Gr(e,t,n){return t.call(n,e),e}function zr(e,t,n){return t.call(n,e)}function Fr(){return Vr(this)}function Xr(){return new g(this.value(),this.__chain__)}function Yr(e){for(var t,r=this;r instanceof n;){var i=hr(r);t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t}function Jr(){var e=this.__wrapped__,t=function(e){return n&&n.__dir__<0?e:e.reverse()};if(e instanceof H){var n=e;return this.__actions__.length&&(n=new H(this)),n=n.reverse(),n.__actions__.push({func:zr,args:[t],thisArg:C}),new g(n,this.__chain__)}return this.thru(t)}function qr(){return this.value()+""}function Qr(){return nn(this.__wrapped__,this.__actions__)}function Pr(e,t,n){var r=Ra(e)?ot:St;return n&&$n(e,t,n)&&(t=C),("function"!=typeof t||n!==C)&&(t=Vn(t,n,3)),r(e,t)}function Hr(e,t,n){var r=Ra(e)?at:jt;return t=Vn(t,n,3),r(e,t)}function Kr(e,t){return ia(e,Bt(t))}function $r(e,t,n,r){var i=e?Gs(e):0;return nr(i)||(e=oo(e),i=e.length),n="number"!=typeof n||r&&$n(t,n,r)?0:0>n?xs(i+n,0):n||0,"string"==typeof e||!Ra(e)&&Gi(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&zn(e,t,n)>-1}function ei(e,t,n){var r=Ra(e)?ut:Zt;return t=Vn(t,n,3),r(e,t)}function ti(e,t){return ei(e,Oo(t))}function ni(e,t,n){var r=Ra(e)?at:jt;return t=Vn(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function ri(e,t,n){if(n?$n(e,t,n):null==t){e=lr(e);var r=e.length;return r>0?e[Yt(0,r-1)]:C}var i=-1,o=Ji(e),r=o.length,s=r-1;for(t=ks(0>t?0:+t||0,r);++i<t;){var a=Yt(i,s),u=o[a];o[a]=o[i],o[i]=u}return o.length=t,o}function ii(e){return ri(e,Ns)}function oi(e){var t=e?Gs(e):0;return nr(t)?t:La(e).length}function si(e,t,n){var r=Ra(e)?ft:Qt;return n&&$n(e,t,n)&&(t=C),("function"!=typeof t||n!==C)&&(t=Vn(t,n,3)),r(e,t)}function ai(e,t,n){if(null==e)return[];n&&$n(e,t,n)&&(t=C);var r=-1;t=Vn(t,n,3);var i=Zt(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return Pt(i,l)}function ui(e,t,n,r){return null==e?[]:(r&&$n(t,n,r)&&(n=C),Ra(t)||(t=null==t?[]:[t]),Ra(n)||(n=null==n?[]:[n]),Ht(e,t,n))}function ci(e,t){return Hr(e,Bt(t))}function li(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Po(z);var n=e;e=t,t=n}return e=ws(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function di(e,t,n){return n&&$n(e,t,n)&&(t=C),t=e&&null==t?e.length:xs(+t||0,0),Mn(e,O,C,C,C,C,t)}function fi(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Po(z);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=C),n}}function hi(e,t,n){function r(){h&&as(h),c&&as(c),m=0,c=h=p=C}function i(t,n){n&&as(n),c=h=p=C,t&&(m=ma(),l=e.apply(f,u),h||c||(u=f=C))}function o(){var e=t-(ma()-d);0>=e||e>t?i(p,c):h=fs(o,e)}function s(){i(b,h)}function a(){if(u=arguments,d=ma(),f=this,p=b&&(h||!g),v===!1)var n=g&&!h;else{c||g||(m=d);var r=v-(d-m),i=0>=r||r>v;i?(c&&(c=as(c)),m=d,l=e.apply(f,u)):c||(c=fs(s,r))}return i&&h?h=as(h):h||t===v||(h=fs(o,t)),n&&(i=!0,l=e.apply(f,u)),!i||h||c||(u=f=C),l}var u,c,l,d,f,h,p,m=0,v=!1,b=!0;if("function"!=typeof e)throw new Po(z);if(t=0>t?0:+t||0,n===!0){var g=!0;b=!1}else Oi(n)&&(g=!!n.leading,v="maxWait"in n&&xs(+n.maxWait||0,t),b="trailing"in n?!!n.trailing:b);return a.cancel=r,a}function pi(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Po(z);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new pi.Cache,n}function mi(e){if("function"!=typeof e)throw new Po(z);return function(){return!e.apply(this,arguments)}}function vi(e){return fi(2,e)}function bi(e,t){if("function"!=typeof e)throw new Po(z);return t=xs(t===C?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=xs(n.length-t,0),o=Vo(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var s=Vo(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=o,e.apply(this,s)}}function gi(e){if("function"!=typeof e)throw new Po(z);return function(t){return e.apply(this,t)}}function yi(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Po(z);return n===!1?r=!1:Oi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),hi(e,t,{leading:r,maxWait:+t,trailing:i})}function wi(e,t){return t=null==t?No:t,Mn(t,D,C,[e],[])}function _i(e,t,n,r){return t&&"boolean"!=typeof t&&$n(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?_t(e,t,sn(n,r,1)):_t(e,t)}function xi(e,t,n){return"function"==typeof t?_t(e,!0,sn(t,n,1)):_t(e,!0)}function ki(e,t){return e>t}function Si(e,t){return e>=t}function Ci(e){return b(e)&&Hn(e)&&ts.call(e,"callee")&&!ls.call(e,"callee")}function Ei(e){return e===!0||e===!1||b(e)&&rs.call(e)==J}function ji(e){return b(e)&&rs.call(e)==q}function Ni(e){return!!e&&1===e.nodeType&&b(e)&&!Li(e)}function Ri(e){return null==e?!0:Hn(e)&&(Ra(e)||Gi(e)||Ci(e)||b(e)&&Ai(e.splice))?!e.length:!La(e).length}function Ti(e,t,n,r){n="function"==typeof n?sn(n,r,3):C;var i=n?n(e,t):C;return i===C?It(e,t,n):!!i}function Ui(e){return b(e)&&"string"==typeof e.message&&rs.call(e)==Q}function Di(e){return"number"==typeof e&&ws(e)}function Ai(e){return Oi(e)&&rs.call(e)==P}function Oi(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ii(e,t,n,r){return n="function"==typeof n?sn(n,r,3):C,Mt(e,Fn(t),n)}function Wi(e){return Bi(e)&&e!=+e}function Mi(e){return null==e?!1:Ai(e)?os.test(es.call(e)):b(e)&&Oe.test(e)}function Zi(e){return null===e}function Bi(e){return"number"==typeof e||b(e)&&rs.call(e)==K}function Li(e){var t;if(!b(e)||rs.call(e)!=$||Ci(e)||!ts.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return Tt(e,function(e,t){n=t}),n===C||ts.call(e,n)}function Vi(e){return Oi(e)&&rs.call(e)==ee}function Gi(e){return"string"==typeof e||b(e)&&rs.call(e)==ne}function zi(e){return b(e)&&nr(e.length)&&!!Ge[rs.call(e)]}function Fi(e){return e===C}function Xi(e,t){return t>e}function Yi(e,t){return t>=e}function Ji(e){var t=e?Gs(e):0;return nr(t)?t?et(e):[]:oo(e)}function qi(e){return yt(e,eo(e))}function Qi(e,t,n){var r=Is(e);return n&&$n(e,t,n)&&(t=C),t?bt(r,t):r}function Pi(e){return At(e,eo(e))}function Hi(e,t,n){var r=null==e?C:Ot(e,fr(t),t+"");return r===C?n:r}function Ki(e,t){if(null==e)return!1;var n=ts.call(e,t);if(!n&&!er(t)){if(t=fr(t),e=1==t.length?e:Ot(e,qt(t,0,-1)),null==e)return!1;t=Er(t),n=ts.call(e,t)}return n||nr(e.length)&&Kn(t,e.length)&&(Ra(e)||Ci(e))}function $i(e,t,n){n&&$n(e,t,n)&&(t=C);for(var r=-1,i=La(e),o=i.length,s={};++r<o;){var a=i[r],u=e[a];t?ts.call(s,u)?s[u].push(a):s[u]=[a]:s[u]=a}return s}function eo(e){if(null==e)return[];Oi(e)||(e=Jo(e));var t=e.length;t=t&&nr(t)&&(Ra(e)||Ci(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,o=Vo(t),s=t>0;++r<t;)o[r]=r+"";for(var a in e)s&&Kn(a,t)||"constructor"==a&&(i||!ts.call(e,a))||o.push(a);return o}function to(e){e=dr(e);for(var t=-1,n=La(e),r=n.length,i=Vo(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function no(e,t,n){var r=null==e?C:e[t];return r===C&&(null==e||er(t,e)||(t=fr(t),e=1==t.length?e:Ot(e,qt(t,0,-1)),r=null==e?C:e[Er(t)]),r=r===C?n:r),Ai(r)?r.call(e):r}function ro(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||er(t,e)?[r]:fr(t);for(var i=-1,o=t.length,s=o-1,a=e;null!=a&&++i<o;){var u=t[i];Oi(a)&&(i==s?a[u]=n:null==a[u]&&(a[u]=Kn(t[i+1])?[]:{})),a=a[u]}return e}function io(e,t,n,r){var i=Ra(e)||zi(e);if(t=Vn(t,r,4),null==n)if(i||Oi(e)){var o=e.constructor;n=i?Ra(e)?new o:[]:Is(Ai(o)?o.prototype:C)}else n={};return(i?tt:Ut)(e,function(e,r,i){return t(n,e,r,i)}),n}function oo(e){return en(e,La(e))}function so(e){return en(e,eo(e))}function ao(e,t,n){return t=+t||0,n===C?(n=t,t=0):n=+n||0,e>=ks(t,n)&&e<xs(t,n)}function uo(e,t,n){n&&$n(e,t,n)&&(t=n=C);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=Es();return ks(e+o*(t-e+us("1e-"+((o+"").length-1))),t)}return Yt(e,t)}function co(e){return e=a(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function lo(e){return e=a(e),e&&e.replace(We,f).replace(Re,"")}function fo(e,t,n){e=a(e),t+="";var r=e.length;return n=n===C?r:ks(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function ho(e){return e=a(e),e&&we.test(e)?e.replace(ge,h):e}function po(e){return e=a(e),e&&Ne.test(e)?e.replace(je,p):e||"(?:)"}function mo(e,t,n){e=a(e),t=+t;var r=e.length;if(r>=t||!ws(t))return e;var i=(t-r)/2,o=gs(i),s=vs(i);return n=An("",s,n),n.slice(0,o)+e+n}function vo(e,t,n){return(n?$n(e,t,n):null==t)?t=0:t&&(t=+t),e=wo(e),Cs(e,t||(Ae.test(e)?16:10))}function bo(e,t){var n="";if(e=a(e),t=+t,1>t||!e||!ws(t))return n;do t%2&&(n+=e),t=gs(t/2),e+=e;while(t);return n}function go(e,t,n){return e=a(e),n=null==n?0:ks(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function yo(e,n,r){var i=t.templateSettings;r&&$n(e,n,r)&&(n=r=C),e=a(e),n=vt(bt({},r||n),i,mt);var o,s,u=vt(bt({},n.imports),i.imports,mt),c=La(u),l=en(u,c),d=0,f=n.interpolate||Me,h="__p += '",p=qo((n.escape||Me).source+"|"+f.source+"|"+(f===ke?Ue:Me).source+"|"+(n.evaluate||Me).source+"|$","g"),v="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Ve+"]")+"\n";e.replace(p,function(t,n,r,i,a,u){return r||(r=i),h+=e.slice(d,u).replace(Ze,m),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=u+t.length,t}),h+="';\n";var b=n.variable;b||(h="with (obj) {\n"+h+"\n}\n"),h=(s?h.replace(pe,""):h).replace(me,"$1").replace(ve,"$1;"),h="function("+(b||"obj")+") {\n"+(b?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Ha(function(){return Fo(c,v+"return "+h).apply(C,l)});if(g.source=h,Ui(g))throw g;return g}function wo(e,t,n){var r=e;return(e=a(e))?(n?$n(r,t,n):null==t)?e.slice(_(e),x(e)+1):(t+="",e.slice(u(e,t),c(e,t)+1)):e}function _o(e,t,n){var r=e;return e=a(e),e?e.slice((n?$n(r,t,n):null==t)?_(e):u(e,t+"")):e}function xo(e,t,n){var r=e;return e=a(e),e?(n?$n(r,t,n):null==t)?e.slice(0,x(e)+1):e.slice(0,c(e,t+"")+1):e}function ko(e,t,n){n&&$n(e,t,n)&&(t=C);var r=W,i=M;if(null!=t)if(Oi(t)){var o="separator"in t?t.separator:o;r="length"in t?+t.length||0:r,i="omission"in t?a(t.omission):i}else r=+t||0;if(e=a(e),r>=e.length)return e;var s=r-i.length;if(1>s)return i;var u=e.slice(0,s);if(null==o)return u+i;if(Vi(o)){if(e.slice(s).search(o)){var c,l,d=e.slice(0,s);for(o.global||(o=qo(o.source,(De.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(d);)l=c.index;u=u.slice(0,null==l?s:l)}}else if(e.indexOf(o,s)!=s){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+i}function So(e){return e=a(e),e&&ye.test(e)?e.replace(be,k):e}function Co(e,t,n){return n&&$n(e,t,n)&&(t=C),e=a(e),e.match(t||Be)||[]}function Eo(e,t,n){return n&&$n(e,t,n)&&(t=C),b(e)?Ro(e):wt(e,t)}function jo(e){return function(){return e}}function No(e){return e}function Ro(e){return Bt(_t(e,!0))}function To(e,t){return Lt(e,_t(t,!0))}function Uo(e,t,n){if(null==n){var r=Oi(t),i=r?La(t):C,o=i&&i.length?At(t,i):C;(o?o.length:r)||(o=!1,n=t,t=e,e=this)}o||(o=At(t,La(t)));var s=!0,a=-1,u=Ai(e),c=o.length;n===!1?s=!1:Oi(n)&&"chain"in n&&(s=n.chain);for(;++a<c;){var l=o[a],d=t[l];e[l]=d,u&&(e.prototype[l]=function(t){return function(){var n=this.__chain__;if(s||n){var r=e(this.__wrapped__),i=r.__actions__=et(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,ct([this.value()],arguments))}}(d))}return e}function Do(){return nt._=is,this}function Ao(){}function Oo(e){return er(e)?zt(e):Ft(e)}function Io(e){return function(t){return Ot(e,fr(t),t+"")}}function Wo(e,t,n){n&&$n(e,t,n)&&(t=n=C),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=xs(vs((t-e)/(n||1)),0),o=Vo(i);++r<i;)o[r]=e,e+=n;return o}function Mo(e,t,n){if(e=gs(e),1>e||!ws(e))return[];var r=-1,i=Vo(ks(e,Rs));for(t=sn(t,n,1);++r<e;)Rs>r?i[r]=t(r):t(r);return i}function Zo(e){var t=++ns;return a(e)+t}function Bo(e,t){return(+e||0)+(+t||0)}function Lo(e,t,n){return n&&$n(e,t,n)&&(t=C),t=Vn(t,n,3),1==t.length?ht(Ra(e)?e:lr(e),t):Kt(e,t)}e=e?rt.defaults(nt.Object(),e,rt.pick(nt,Le)):nt;{var Vo=e.Array,Go=e.Date,zo=e.Error,Fo=e.Function,Xo=e.Math,Yo=e.Number,Jo=e.Object,qo=e.RegExp,Qo=e.String,Po=e.TypeError,Ho=Vo.prototype,Ko=Jo.prototype,$o=Qo.prototype,es=Fo.prototype.toString,ts=Ko.hasOwnProperty,ns=0,rs=Ko.toString,is=nt._,os=qo("^"+es.call(ts).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ss=e.ArrayBuffer,as=e.clearTimeout,us=e.parseFloat,cs=Xo.pow,ls=Ko.propertyIsEnumerable,ds=Xn(e,"Set"),fs=e.setTimeout,hs=Ho.splice,ps=e.Uint8Array,ms=Xn(e,"WeakMap"),vs=Xo.ceil,bs=Xn(Jo,"create"),gs=Xo.floor,ys=Xn(Vo,"isArray"),ws=e.isFinite,_s=Xn(Jo,"keys"),xs=Xo.max,ks=Xo.min,Ss=Xn(Go,"now"),Cs=e.parseInt,Es=Xo.random,js=Yo.NEGATIVE_INFINITY,Ns=Yo.POSITIVE_INFINITY,Rs=4294967295,Ts=Rs-1,Us=Rs>>>1,Ds=9007199254740991,As=ms&&new ms,Os={};t.support={}}t.templateSettings={escape:_e,evaluate:xe,interpolate:ke,variable:"",imports:{_:t}};var Is=function(){function e(){}return function(t){if(Oi(t)){e.prototype=t;var n=new e;e.prototype=C}return n||{}}}(),Ws=fn(Ut),Ms=fn(Dt,!0),Zs=hn(),Bs=hn(!0),Ls=As?function(e,t){return As.set(e,t),e}:No,Vs=As?function(e){return As.get(e)}:Ao,Gs=zt("length"),zs=function(){var e=0,t=0;return function(n,r){var i=ma(),o=B-(i-t);if(t=i,o>0){if(++e>=Z)return n}else e=0;return Ls(n,r)}}(),Fs=bi(function(e,t){return b(e)&&Hn(e)?kt(e,Rt(t,!1,!0)):[]}),Xs=xn(),Ys=xn(!0),Js=bi(function(e){for(var t=e.length,n=t,r=Vo(d),i=zn(),s=i==o,a=[];n--;){var u=e[n]=Hn(u=e[n])?u:[];r[n]=s&&u.length>=120?mn(n&&u):null}var c=e[0],l=-1,d=c?c.length:0,f=r[0];e:for(;++l<d;)if(u=c[l],(f?He(f,u):i(a,u,0))<0){for(var n=t;--n;){var h=r[n];if((h?He(h,u):i(e[n],u,0))<0)continue e}f&&f.push(u),a.push(u)}return a}),qs=bi(function(e,t){t=Rt(t);var n=gt(e,t);return Xt(e,t.sort(r)),n}),Qs=Wn(),Ps=Wn(!0),Hs=bi(function(e){return $t(Rt(e,!1,!0))}),Ks=bi(function(e,t){return Hn(e)?kt(e,t):[]}),$s=bi(Mr),ea=bi(function(e){var t=e.length,n=t>2?e[t-2]:C,r=t>1?e[t-1]:C;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):C,r=C),e.length=t,Zr(e,n,r)}),ta=bi(function(e){return e=Rt(e),this.thru(function(t){return $e(Ra(t)?t:[dr(t)],e)})}),na=bi(function(e,t){return gt(e,Rt(t))}),ra=ln(function(e,t,n){ts.call(e,n)?++e[n]:e[n]=1}),ia=_n(Ws),oa=_n(Ms,!0),sa=Cn(tt,Ws),aa=Cn(it,Ms),ua=ln(function(e,t,n){ts.call(e,n)?e[n].push(t):e[n]=[t]}),ca=ln(function(e,t,n){e[n]=t}),la=bi(function(e,t,n){var r=-1,i="function"==typeof t,o=er(t),s=Hn(e)?Vo(e.length):[];return Ws(e,function(e){var a=i?t:o&&null!=e?e[t]:C;s[++r]=a?a.apply(e,n):Pn(e,t,n)}),s}),da=ln(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),fa=Un(lt,Ws),ha=Un(dt,Ms),pa=bi(function(e,t){if(null==e)return[];var n=t[2];return n&&$n(t[0],t[1],n)&&(t.length=1),Ht(e,Rt(t),[])}),ma=Ss||function(){return(new Go).getTime()},va=bi(function(e,t,n){var r=j;if(n.length){var i=y(n,va.placeholder);r|=D}return Mn(e,r,t,n,i)}),ba=bi(function(e,t){t=t.length?Rt(t):Pi(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Mn(e[i],j,e)}return e}),ga=bi(function(e,t,n){var r=j|N;if(n.length){var i=y(n,ga.placeholder);r|=D}return Mn(t,r,e,n,i)}),ya=gn(T),wa=gn(U),_a=bi(function(e,t){return xt(e,1,t)}),xa=bi(function(e,t,n){return xt(e,t,n)}),ka=Sn(),Sa=Sn(!0),Ca=bi(function(e,t){if(t=Rt(t),"function"!=typeof e||!ot(t,s))throw new Po(z);var n=t.length;return bi(function(r){for(var i=ks(r.length,n);i--;)r[i]=t[i](r[i]);return e.apply(this,r)})}),Ea=Tn(D),ja=Tn(A),Na=bi(function(e,t){return Mn(e,I,C,C,C,Rt(t))}),Ra=ys||function(e){return b(e)&&nr(e.length)&&rs.call(e)==Y},Ta=dn(Vt),Ua=dn(function(e,t,n){return n?vt(e,t,n):bt(e,t)}),Da=yn(Ua,pt),Aa=yn(Ta,or),Oa=kn(Ut),Ia=kn(Dt),Wa=En(Zs),Ma=En(Bs),Za=jn(Ut),Ba=jn(Dt),La=_s?function(e){var t=null==e?C:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Hn(e)?cr(e):Oi(e)?_s(e):[]}:cr,Va=Nn(!0),Ga=Nn(),za=bi(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=ut(Rt(t),Qo);return sr(e,kt(eo(e),t))}var n=sn(t[0],t[1],3);return ar(e,function(e,t,r){return!n(e,t,r)})}),Fa=bi(function(e,t){return null==e?{}:"function"==typeof t[0]?ar(e,sn(t[0],t[1],3)):sr(e,Rt(t))}),Xa=vn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Ya=vn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ja=Rn(),qa=Rn(!0),Qa=vn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Pa=vn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Ha=bi(function(e,t){try{return e.apply(C,t)}catch(n){return Ui(n)?n:new zo(n)}}),Ka=bi(function(e,t){return function(n){return Pn(n,e,t)}}),$a=bi(function(e,t){return function(n){return Pn(e,n,t)}}),eu=In("ceil"),tu=In("floor"),nu=wn(ki,js),ru=wn(Xi,Ns),iu=In("round");return t.prototype=n.prototype,g.prototype=Is(n.prototype),g.prototype.constructor=g,H.prototype=Is(n.prototype),H.prototype.constructor=H,Xe.prototype["delete"]=Ye,Xe.prototype.get=Je,Xe.prototype.has=qe,Xe.prototype.set=Qe,Pe.prototype.push=Ke,pi.Cache=Xe,t.after=li,t.ary=di,t.assign=Ua,t.at=na,t.before=fi,t.bind=va,t.bindAll=ba,t.bindKey=ga,t.callback=Eo,t.chain=Vr,t.chunk=pr,t.compact=mr,t.constant=jo,t.countBy=ra,t.create=Qi,t.curry=ya,t.curryRight=wa,t.debounce=hi,t.defaults=Da,t.defaultsDeep=Aa,t.defer=_a,t.delay=xa,t.difference=Fs,t.drop=vr,t.dropRight=br,t.dropRightWhile=gr,t.dropWhile=yr,t.fill=wr,t.filter=Hr,t.flatten=xr,t.flattenDeep=kr,t.flow=ka,t.flowRight=Sa,t.forEach=sa,t.forEachRight=aa,t.forIn=Wa,t.forInRight=Ma,t.forOwn=Za,t.forOwnRight=Ba,t.functions=Pi,t.groupBy=ua,t.indexBy=ca,t.initial=Cr,t.intersection=Js,t.invert=$i,t.invoke=la,t.keys=La,t.keysIn=eo,t.map=ei,t.mapKeys=Va,t.mapValues=Ga,t.matches=Ro,t.matchesProperty=To,t.memoize=pi,t.merge=Ta,t.method=Ka,t.methodOf=$a,t.mixin=Uo,t.modArgs=Ca,t.negate=mi,t.omit=za,t.once=vi,t.pairs=to,t.partial=Ea,t.partialRight=ja,t.partition=da,t.pick=Fa,t.pluck=ti,t.property=Oo,t.propertyOf=Io,t.pull=Nr,t.pullAt=qs,t.range=Wo,t.rearg=Na,t.reject=ni,t.remove=Rr,t.rest=Tr,t.restParam=bi,t.set=ro,t.shuffle=ii,t.slice=Ur,t.sortBy=ai,t.sortByAll=pa,t.sortByOrder=ui,t.spread=gi,t.take=Dr,t.takeRight=Ar,t.takeRightWhile=Or,t.takeWhile=Ir,t.tap=Gr,t.throttle=yi,t.thru=zr,t.times=Mo,t.toArray=Ji,t.toPlainObject=qi,t.transform=io,t.union=Hs,t.uniq=Wr,t.unzip=Mr,t.unzipWith=Zr,t.values=oo,t.valuesIn=so,t.where=ci,t.without=Ks,t.wrap=wi,t.xor=Br,t.zip=$s,t.zipObject=Lr,t.zipWith=ea,t.backflow=Sa,t.collect=ei,t.compose=Sa,t.each=sa,t.eachRight=aa,t.extend=Ua,t.iteratee=Eo,t.methods=Pi,t.object=Lr,t.select=Hr,t.tail=Tr,t.unique=Wr,Uo(t,t),t.add=Bo,t.attempt=Ha,t.camelCase=Xa,t.capitalize=co,t.ceil=eu,t.clone=_i,t.cloneDeep=xi,t.deburr=lo,t.endsWith=fo,t.escape=ho,t.escapeRegExp=po,t.every=Pr,t.find=ia,t.findIndex=Xs,t.findKey=Oa,t.findLast=oa,t.findLastIndex=Ys,t.findLastKey=Ia,t.findWhere=Kr,t.first=_r,t.floor=tu,t.get=Hi,t.gt=ki,t.gte=Si,t.has=Ki,t.identity=No,t.includes=$r,t.indexOf=Sr,t.inRange=ao,t.isArguments=Ci,t.isArray=Ra,t.isBoolean=Ei,t.isDate=ji,t.isElement=Ni,t.isEmpty=Ri,t.isEqual=Ti,t.isError=Ui,t.isFinite=Di,t.isFunction=Ai,t.isMatch=Ii,t.isNaN=Wi,t.isNative=Mi,t.isNull=Zi,t.isNumber=Bi,t.isObject=Oi,t.isPlainObject=Li,t.isRegExp=Vi,t.isString=Gi,t.isTypedArray=zi,t.isUndefined=Fi,t.kebabCase=Ya,t.last=Er,t.lastIndexOf=jr,t.lt=Xi,t.lte=Yi,t.max=nu,t.min=ru,t.noConflict=Do,t.noop=Ao,t.now=ma,t.pad=mo,t.padLeft=Ja,t.padRight=qa,t.parseInt=vo,t.random=uo,t.reduce=fa,t.reduceRight=ha,t.repeat=bo,t.result=no,t.round=iu,t.runInContext=S,t.size=oi,t.snakeCase=Qa,t.some=si,t.sortedIndex=Qs,t.sortedLastIndex=Ps,t.startCase=Pa,t.startsWith=go,t.sum=Lo,t.template=yo,t.trim=wo,t.trimLeft=_o,t.trimRight=xo,t.trunc=ko,t.unescape=So,t.uniqueId=Zo,t.words=Co,t.all=Pr,t.any=si,t.contains=$r,t.eq=Ti,t.detect=ia,t.foldl=fa,t.foldr=ha,t.head=_r,t.include=$r,t.inject=fa,Uo(t,function(){var e={};return Ut(t,function(n,r){t.prototype[r]||(e[r]=n)}),e}(),!1),t.sample=ri,t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ri(t,e)}):ri(this.value())},t.VERSION=E,tt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),tt(["drop","take"],function(e,t){H.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new H(this);n=null==n?1:xs(gs(n)||0,0);var i=this.clone();return r?i.__takeCount__=ks(i.__takeCount__,n):i.__views__.push({size:n,type:e+(i.__dir__<0?"Right":"")}),i},H.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),tt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n!=G;H.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:Vn(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),tt(["first","last"],function(e,t){var n="take"+(t?"Right":"");H.prototype[e]=function(){return this[n](1).value()[0]}}),tt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");H.prototype[e]=function(){return this.__filtered__?new H(this):this[n](1)}}),tt(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Bt:Oo;H.prototype[e]=function(e){return this[n](r(e))}}),H.prototype.compact=function(){return this.filter(No)},H.prototype.reject=function(e,t){return e=Vn(e,t,1),this.filter(function(t){return!e(t)})},H.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||0>t)?new H(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==C&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n)},H.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},H.prototype.toArray=function(){return this.take(Ns)},Ut(H.prototype,function(e,n){var r=/^(?:filter|map|reject)|While$/.test(n),i=/^(?:first|last)$/.test(n),o=t[i?"take"+("last"==n?"Right":""):n];o&&(t.prototype[n]=function(){var t=i?[1]:arguments,n=this.__chain__,s=this.__wrapped__,a=!!this.__actions__.length,u=s instanceof H,c=t[0],l=u||Ra(s);l&&r&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=function(e){return i&&n?o(e,1)[0]:o.apply(C,ct([e],t))},f={func:zr,args:[d],thisArg:C},h=u&&!a;if(i&&!n)return h?(s=s.clone(),s.__actions__.push(f),e.call(s)):o.call(C,this.value())[0];if(!i&&l){s=h?s:new H(this);var p=e.apply(s,t);return p.__actions__.push(f),new g(p,n)}return this.thru(d)})}),tt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?$o:Ho)[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?n.apply(this.value(),e):this[r](function(t){return n.apply(t,e)})}}),Ut(H.prototype,function(e,n){var r=t[n];if(r){var i=r.name,o=Os[i]||(Os[i]=[]);o.push({name:n,func:r})}}),Os[Dn(C,N).name]=[{name:"wrapper",func:C}],H.prototype.clone=te,H.prototype.reverse=re,H.prototype.value=Fe,t.prototype.chain=Fr,t.prototype.commit=Xr,t.prototype.concat=ta,t.prototype.plant=Yr,t.prototype.reverse=Jr,t.prototype.toString=qr,t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Qr,t.prototype.collect=t.prototype.map,t.prototype.head=t.prototype.first,t.prototype.select=t.prototype.filter,t.prototype.tail=t.prototype.rest,t}var C,E="3.10.0",j=1,N=2,R=4,T=8,U=16,D=32,A=64,O=128,I=256,W=30,M="...",Z=150,B=16,L=200,V=1,G=2,z="Expected a function",F="__lodash_placeholder__",X="[object Arguments]",Y="[object Array]",J="[object Boolean]",q="[object Date]",Q="[object Error]",P="[object Function]",H="[object Map]",K="[object Number]",$="[object Object]",ee="[object RegExp]",te="[object Set]",ne="[object String]",re="[object WeakMap]",ie="[object ArrayBuffer]",oe="[object Float32Array]",se="[object Float64Array]",ae="[object Int8Array]",ue="[object Int16Array]",ce="[object Int32Array]",le="[object Uint8Array]",de="[object Uint8ClampedArray]",fe="[object Uint16Array]",he="[object Uint32Array]",pe=/\b__p \+= '';/g,me=/\b(__p \+=) '' \+/g,ve=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/&(?:amp|lt|gt|quot|#39|#96);/g,ge=/[&<>"'`]/g,ye=RegExp(be.source),we=RegExp(ge.source),_e=/<%-([\s\S]+?)%>/g,xe=/<%([\s\S]+?)%>/g,ke=/<%=([\s\S]+?)%>/g,Se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Ce=/^\w*$/,Ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,je=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ne=RegExp(je.source),Re=/[\u0300-\u036f\ufe20-\ufe23]/g,Te=/\\(\\)?/g,Ue=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,De=/\w*$/,Ae=/^0[xX]/,Oe=/^\[object .+?Constructor\]$/,Ie=/^\d+$/,We=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Me=/($^)/,Ze=/['\n\r\u2028\u2029\\]/g,Be=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Le=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Ve=-1,Ge={};Ge[oe]=Ge[se]=Ge[ae]=Ge[ue]=Ge[ce]=Ge[le]=Ge[de]=Ge[fe]=Ge[he]=!0,Ge[X]=Ge[Y]=Ge[ie]=Ge[J]=Ge[q]=Ge[Q]=Ge[P]=Ge[H]=Ge[K]=Ge[$]=Ge[ee]=Ge[te]=Ge[ne]=Ge[re]=!1;var ze={};ze[X]=ze[Y]=ze[ie]=ze[J]=ze[q]=ze[oe]=ze[se]=ze[ae]=ze[ue]=ze[ce]=ze[K]=ze[$]=ze[ee]=ze[ne]=ze[le]=ze[de]=ze[fe]=ze[he]=!0,ze[Q]=ze[P]=ze[H]=ze[te]=ze[re]=!1;var Fe={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Xe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ye={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Je={"function":!0,object:!0},qe={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Qe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pe=Je[typeof n]&&n&&!n.nodeType&&n,He=Je[typeof t]&&t&&!t.nodeType&&t,Ke=Pe&&He&&"object"==typeof e&&e&&e.Object&&e,$e=Je[typeof self]&&self&&self.Object&&self,et=Je[typeof window]&&window&&window.Object&&window,tt=He&&He.exports===Pe&&Pe,nt=Ke||et!==(this&&this.window)&&et||$e||this,rt=S();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(nt._=rt,define(function(){return rt})):Pe&&He?tt?(He.exports=rt)._=rt:Pe._=rt:nt._=rt}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/lru-cache/lib/lru-cache.js":[function(e,t,n){!function(){function e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function n(){return 1}function r(e){return this instanceof r?("number"==typeof e&&(e={max:e}),e||(e={}),this._max=e.max,(!this._max||"number"!=typeof this._max||this._max<=0)&&(this._max=1/0),this._lengthCalculator=e.length||n,"function"!=typeof this._lengthCalculator&&(this._lengthCalculator=n),this._allowStale=e.stale||!1,this._maxAge=e.maxAge||null,this._dispose=e.dispose,void this.reset()):new r(e)}function i(e,t,n){var r=e._cache[t];return r&&(o(e,r)?(c(e,r),e._allowStale||(r=void 0)):n&&s(e,r),r&&(r=r.value)),r}function o(e,t){if(!t||!t.maxAge&&!e._maxAge)return!1;var n=!1,r=Date.now()-t.now;return n=t.maxAge?r>t.maxAge:e._maxAge&&r>e._maxAge}function s(e,t){u(e,t),t.lu=e._mru++,e._lruList[t.lu]=t}function a(e){for(;e._lru<e._mru&&e._length>e._max;)c(e,e._lruList[e._lru])}function u(e,t){for(delete e._lruList[t.lu];e._lru<e._mru&&!e._lruList[e._lru];)e._lru++}function c(e,t){t&&(e._dispose&&e._dispose(t.key,t.value),e._length-=t.length,e._itemCount--,delete e._cache[t.key],u(e,t))}function l(e,t,n,r,i,o){this.key=e,this.value=t,this.lu=n,this.length=r,this.now=i,o&&(this.maxAge=o)}"object"==typeof t&&t.exports?t.exports=r:this.LRUCache=r,Object.defineProperty(r.prototype,"max",{set:function(e){(!e||"number"!=typeof e||0>=e)&&(e=1/0),this._max=e,this._length>this._max&&a(this)},get:function(){return this._max},enumerable:!0}),Object.defineProperty(r.prototype,"lengthCalculator",{set:function(e){if("function"!=typeof e){this._lengthCalculator=n,this._length=this._itemCount;for(var t in this._cache)this._cache[t].length=1}else{this._lengthCalculator=e,this._length=0;for(var t in this._cache)this._cache[t].length=this._lengthCalculator(this._cache[t].value),this._length+=this._cache[t].length}this._length>this._max&&a(this)},get:function(){return this._lengthCalculator},enumerable:!0}),Object.defineProperty(r.prototype,"length",{get:function(){return this._length},enumerable:!0}),Object.defineProperty(r.prototype,"itemCount",{get:function(){return this._itemCount},enumerable:!0}),r.prototype.forEach=function(e,t){t=t||this;for(var n=0,r=this._itemCount,i=this._mru-1;i>=0&&r>n;i--)if(this._lruList[i]){n++;var s=this._lruList[i];o(this,s)&&(c(this,s),this._allowStale||(s=void 0)),s&&e.call(t,s.value,s.key,this)}},r.prototype.keys=function(){for(var e=new Array(this._itemCount),t=0,n=this._mru-1;n>=0&&t<this._itemCount;n--)if(this._lruList[n]){var r=this._lruList[n];e[t++]=r.key}return e},r.prototype.values=function(){for(var e=new Array(this._itemCount),t=0,n=this._mru-1;n>=0&&t<this._itemCount;n--)if(this._lruList[n]){var r=this._lruList[n];e[t++]=r.value}return e},r.prototype.reset=function(){if(this._dispose&&this._cache)for(var e in this._cache)this._dispose(e,this._cache[e].value);this._cache=Object.create(null),this._lruList=Object.create(null),this._mru=0,this._lru=0,this._length=0,this._itemCount=0;

},r.prototype.dump=function(){return this._cache},r.prototype.dumpLru=function(){return this._lruList},r.prototype.set=function(t,n,r){r=r||this._maxAge;var i=r?Date.now():0;if(e(this._cache,t))return this._dispose&&this._dispose(t,this._cache[t].value),this._cache[t].now=i,this._cache[t].maxAge=r,this._cache[t].value=n,this.get(t),!0;var o=this._lengthCalculator(n),s=new l(t,n,this._mru++,o,i,r);return s.length>this._max?(this._dispose&&this._dispose(t,n),!1):(this._length+=s.length,this._lruList[s.lu]=this._cache[t]=s,this._itemCount++,this._length>this._max&&a(this),!0)},r.prototype.has=function(t){if(!e(this._cache,t))return!1;var n=this._cache[t];return o(this,n)?!1:!0},r.prototype.get=function(e){return i(this,e,!0)},r.prototype.peek=function(e){return i(this,e,!1)},r.prototype.pop=function(){var e=this._lruList[this._lru];return c(this,e),e||null},r.prototype.del=function(e){c(this,this._cache[e])}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/pkginfo/lib/pkginfo.js":[function(e,t,n){(function(n){var r=e("fs"),i=e("path"),o=t.exports=function(e,t){var n=[].slice.call(arguments,2).filter(function(e){return"string"==typeof e});Array.isArray(t)?t={include:t}:"string"==typeof t&&(t={include:[t]}),t=t||{},t.include=t.include||[],n.length>0&&(t.include=t.include.concat(n));var r=o.read(e,t.dir)["package"];return Object.keys(r).forEach(function(n){t.include.length>0&&!~t.include.indexOf(n)||e.exports[n]||(e.exports[n]=r[n])}),o};o.find=function(e,t){t||(t=i.dirname(e.filename));var n=r.readdirSync(t);if(~n.indexOf("package.json"))return i.join(t,"package.json");if("/"===t)throw new Error("Could not find package.json up from: "+t);if(!t||"."===t)throw new Error("Cannot find package.json from unspecified directory");return o.find(e,i.dirname(t))},o.read=function(e,t){t=o.find(e,t);var n=r.readFileSync(t).toString();return{dir:t,"package":JSON.parse(n)}},o(t,{dir:n,include:["version"],target:o})}).call(this,"/node_modules/jsonld-rx/node_modules/pkginfo/lib")},{fs:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/lib/_empty.js",path:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/path-browserify/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/readable-stream/lib/_stream_duplex.js":[function(e,t,n){(function(n){function r(e){return this instanceof r?(u.call(this,e),c.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(e)}function i(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}function o(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}t.exports=r;var s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},a=e("core-util-is");a.inherits=e("inherits");var u=e("./_stream_readable"),c=e("./_stream_writable");a.inherits(r,u),o(s(c.prototype),function(e){r.prototype[e]||(r.prototype[e]=c.prototype[e])})}).call(this,e("_process"))},{"./_stream_readable":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/readable-stream/lib/_stream_readable.js","./_stream_writable":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/readable-stream/lib/_stream_writable.js",_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/core-util-is/lib/util.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/inherits/inherits_browser.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/readable-stream/lib/_stream_passthrough.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_passthrough.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_passthrough.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_passthrough.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/readable-stream/lib/_stream_readable.js":[function(e,t,n){(function(n){function r(t,n){var r=e("./_stream_duplex");t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(N||(N=e("string_decoder/").StringDecoder),this.decoder=new N(t.encoding),this.encoding=t.encoding)}function i(t){e("./_stream_duplex");return this instanceof i?(this._readableState=new r(t,this),this.readable=!0,void E.call(this)):new i(t)}function o(e,t,n,r,i){var o=c(t,n);if(o)e.emit("error",o);else if(j.isNullOrUndefined(n))t.reading=!1,t.ended||l(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else!t.decoder||i||r||(n=t.decoder.write(n)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&d(e)),h(e,t);else i||(t.reading=!1);return s(t)}function s(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function a(e){if(e>=T)e=T;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function u(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||j.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=a(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e,t){var n=null;return j.isBuffer(t)||j.isString(t)||j.isNullOrUndefined(t)||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,d(e)}function d(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(R("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(function(){f(e)}):f(e))}function f(e){R("emit readable"),e.emit("readable"),g(e)}function h(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(function(){p(e,t)}))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(R("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function m(e){return function(){var t=e._readableState;R("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&C.listenerCount(e,"data")&&(t.flowing=!0,g(e))}}function v(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(function(){b(e,t)}))}function b(e,t){t.resumeScheduled=!1,e.emit("resume"),g(e),t.flowing&&!t.reading&&e.read(0)}function g(e){var t=e._readableState;if(R("flow",t.flowing),t.flowing)do var n=e.read();while(null!==n&&t.flowing)}function y(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,s=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!e||e>=i)n=o?r.join(""):S.concat(r,i),r.length=0;else if(e<r[0].length){var a=r[0];n=a.slice(0,e),r[0]=a.slice(e)}else if(e===r[0].length)n=r.shift();else{n=o?"":new S(e);for(var u=0,c=0,l=r.length;l>c&&e>u;c++){var a=r[0],d=Math.min(e-u,a.length);o?n+=a.slice(0,d):a.copy(n,u,0,d),d<a.length?r[0]=a.slice(d):r.shift(),u+=d}}return n}function w(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,n.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function _(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}function x(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}t.exports=i;var k=e("isarray"),S=e("buffer").Buffer;i.ReadableState=r;var C=e("events").EventEmitter;C.listenerCount||(C.listenerCount=function(e,t){return e.listeners(t).length});var E=e("stream"),j=e("core-util-is");j.inherits=e("inherits");var N,R=e("util");R=R&&R.debuglog?R.debuglog("stream"):function(){},j.inherits(i,E),i.prototype.push=function(e,t){var n=this._readableState;return j.isString(e)&&!n.objectMode&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=new S(e,t),t="")),o(this,n,e,t,!1)},i.prototype.unshift=function(e){var t=this._readableState;return o(this,t,e,"",!0)},i.prototype.setEncoding=function(t){return N||(N=e("string_decoder/").StringDecoder),this._readableState.decoder=new N(t),this._readableState.encoding=t,this};var T=8388608;i.prototype.read=function(e){R("read",e);var t=this._readableState,n=e;if((!j.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return R("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?w(this):d(this),null;if(e=u(e,t),0===e&&t.ended)return 0===t.length&&w(this),null;var r=t.needReadable;R("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,R("length less than watermark",r)),(t.ended||t.reading)&&(r=!1,R("reading or ended",r)),r&&(R("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=u(n,t));var i;return i=e>0?y(e,t):null,j.isNull(i)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&w(this),j.isNull(i)||this.emit("data",i),i},i.prototype._read=function(e){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,t){function r(e){R("onunpipe"),e===d&&o()}function i(){R("onend"),e.end()}function o(){R("cleanup"),e.removeListener("close",u),e.removeListener("finish",c),e.removeListener("drain",v),e.removeListener("error",a),e.removeListener("unpipe",r),d.removeListener("end",i),d.removeListener("end",o),d.removeListener("data",s),!f.awaitDrain||e._writableState&&!e._writableState.needDrain||v()}function s(t){R("ondata");var n=e.write(t);!1===n&&(R("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,d.pause())}function a(t){R("onerror",t),l(),e.removeListener("error",a),0===C.listenerCount(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",c),l()}function c(){R("onfinish"),e.removeListener("close",u),l()}function l(){R("unpipe"),d.unpipe(e)}var d=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=e;break;case 1:f.pipes=[f.pipes,e];break;default:f.pipes.push(e)}f.pipesCount+=1,R("pipe count=%d opts=%j",f.pipesCount,t);var h=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,p=h?i:o;f.endEmitted?n.nextTick(p):d.once("end",p),e.on("unpipe",r);var v=m(d);return e.on("drain",v),d.on("data",s),e._events&&e._events.error?k(e._events.error)?e._events.error.unshift(a):e._events.error=[a,e._events.error]:e.on("error",a),e.once("close",u),e.once("finish",c),e.emit("pipe",d),f.flowing||(R("pipe resume"),d.resume()),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;r>i;i++)n[i].emit("unpipe",this);return this}var i=x(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,t){var r=E.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&d(this,i);else{var o=this;n.nextTick(function(){R("readable nexttick read 0"),o.read(0)})}}return r},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var e=this._readableState;return e.flowing||(R("resume"),e.flowing=!0,e.reading||(R("resume read 0"),this.read(0)),v(this,e)),this},i.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(R("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(R("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)){var o=r.push(i);o||(n=!0,e.pause())}});for(var i in e)j.isFunction(e[i])&&j.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return _(o,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){R("wrapped _read",t),n&&(n=!1,e.resume())},r},i._fromList=y}).call(this,e("_process"))},{"./_stream_duplex":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/readable-stream/lib/_stream_duplex.js",_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/core-util-is/lib/util.js",events:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/events/events.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/inherits/inherits_browser.js",isarray:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/isarray/index.js",stream:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/stream-browserify/index.js","string_decoder/":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/string_decoder/index.js",util:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/browser-resolve/empty.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/readable-stream/lib/_stream_transform.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_transform.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_transform.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_transform.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/readable-stream/lib/_stream_writable.js":[function(e,t,n){(function(n){function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function i(t,n){var r=e("./_stream_duplex");t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){h(n,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(t){var n=e("./_stream_duplex");return this instanceof o||this instanceof n?(this._writableState=new i(t,this),this.writable=!0,void k.call(this)):new o(t)}function s(e,t,r){var i=new Error("write after end");e.emit("error",i),n.nextTick(function(){r(i)})}function a(e,t,r,i){var o=!0;if(!(x.isBuffer(r)||x.isString(r)||x.isNullOrUndefined(r)||t.objectMode)){var s=new TypeError("Invalid non-string/buffer chunk");e.emit("error",s),n.nextTick(function(){i(s)}),o=!1}return o}function u(e,t,n){return!e.objectMode&&e.decodeStrings!==!1&&x.isString(t)&&(t=new _(t,n)),t}function c(e,t,n,i,o){n=u(t,n,i),x.isBuffer(n)&&(i="buffer");var s=t.objectMode?1:n.length;t.length+=s;var a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new r(n,i,o)):l(e,t,!1,s,n,i,o),a}function l(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function d(e,t,r,i,o){r?n.nextTick(function(){t.pendingcb--,o(i)}):(t.pendingcb--,o(i)),e._writableState.errorEmitted=!0,e.emit("error",i)}function f(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function h(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(f(r),t)d(e,r,i,t,o);else{var s=b(e,r);s||r.corked||r.bufferProcessing||!r.buffer.length||v(e,r),i?n.nextTick(function(){p(e,r,s,o)}):p(e,r,s,o)}}function p(e,t,n,r){n||m(e,t),t.pendingcb--,r(),y(e,t)}function m(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function v(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var n=[],r=0;r<t.buffer.length;r++)n.push(t.buffer[r].callback);t.pendingcb++,l(e,t,!0,t.length,t.buffer,"",function(e){for(var r=0;r<n.length;r++)t.pendingcb--,n[r](e)}),t.buffer=[]}else{for(var r=0;r<t.buffer.length;r++){var i=t.buffer[r],o=i.chunk,s=i.encoding,a=i.callback,u=t.objectMode?1:o.length;if(l(e,t,!1,u,o,s,a),t.writing){r++;break}}r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}t.bufferProcessing=!1}function b(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function g(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function y(e,t){var n=b(e,t);return n&&(0===t.pendingcb?(g(e,t),t.finished=!0,e.emit("finish")):g(e,t)),n}function w(e,t,r){t.ending=!0,y(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0}t.exports=o;var _=e("buffer").Buffer;o.WritableState=i;var x=e("core-util-is");x.inherits=e("inherits");var k=e("stream");x.inherits(o,k),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return x.isFunction(t)&&(n=t,t=null),x.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),x.isFunction(n)||(n=function(){}),r.ended?s(this,r,n):a(this,r,e,n)&&(r.pendingcb++,i=c(this,r,e,t,n)),i},o.prototype.cork=function(){var e=this._writableState;e.corked++},o.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||v(this,e))},o.prototype._write=function(e,t,n){n(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(e,t,n){var r=this._writableState;x.isFunction(e)?(n=e,e=null,t=null):x.isFunction(t)&&(n=t,t=null),x.isNullOrUndefined(e)||this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||w(this,r,n)}}).call(this,e("_process"))},{"./_stream_duplex":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/readable-stream/lib/_stream_duplex.js",_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/core-util-is/lib/util.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/inherits/inherits_browser.js",stream:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/stream-browserify/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/readable-stream/readable.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/readable.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/readable.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/readable.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/rx-node/index.js":[function(e,t,n){var r=e("rx"),i=e("events").EventEmitter,o=r.Observable;t.exports={toEventEmitter:function(e,t,n){var r=new i;return r.publish=function(){r.subscription=e.subscribe(function(e){var r=e;if(n)try{r=n(e)}catch(i){return i.emit("error",i)}i.emit(t,r)},function(e){r.emit("error",e)},function(){r.emit("end")})},r},fromStream:function(e,t){return e.pause(),t||(t="end"),o.create(function(n){function r(e){n.onNext(e)}function i(e){n.onError(e)}function o(){n.onCompleted()}return e.addListener("data",r),e.addListener("error",i),e.addListener(t,o),e.resume(),function(){e.removeListener("data",r),e.removeListener("error",i),e.removeListener(t,o)}}).publish().refCount()},fromReadableStream:function(e){return this.fromStream(e,"end")},fromWritableStream:function(e){return this.fromStream(e,"finish")},fromTransformStream:function(e){return this.fromStream(e,"finish")},writeToStream:function(e,t,n){function r(){i.resume()}var i=e.pausableBuffered();t.addListener("drain",r);var o=i.subscribe(function(e){!t.write(String(e),n)&&i.pause()},function(e){t.emit("error",e)},function(){!t._isStdio&&t.end(),t.removeListener("drain",r)});return i.resume(),o}}},{events:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/events/events.js",rx:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/rx/dist/rx.all.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/rx/dist/rx.all.js":[function(e,t,n){(function(e,r){(function(i){function o(e){for(var t=[],n=0,r=e.length;r>n;n++)t.push(e[n]);return t}function a(e,t){if(Ge&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(Ye)){for(var n=[],r=t;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(e.stack);var i=n.join("\n"+Ye+"\n");e.stack=u(i)}}function u(e){for(var t=e.split("\n"),n=[],r=0,i=t.length;i>r;r++){var o=t[r];c(o)||l(o)||!o||n.push(o)}return n.join("\n")}function c(e){var t=f(e);if(!t)return!1;var n=t[0],r=t[1];return n===Fe&&r>=Xe&&Fr>=r}function l(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function d(){if(Ge)try{throw new Error}catch(e){var t=e.stack.split("\n"),n=t[0].indexOf("@")>0?t[1]:t[2],r=f(n);if(!r)return;return Fe=r[0],r[1]}}function f(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function h(e){var t=[];if(!jt(e))return t;Et.nonEnumArgs&&e.length&&Nt(e)&&(e=Ut.call(e));var n=Et.enumPrototypes&&"function"==typeof e,r=Et.enumErrorProps&&(e===_t||e instanceof Error);for(var i in e)n&&"prototype"==i||r&&("message"==i||"name"==i)||t.push(i);if(Et.nonEnumShadows&&e!==xt){var o=e.constructor,s=-1,a=at;if(e===(o&&o.prototype))var u=e===kt?bt:e===_t?ft:gt.call(e),c=Ct[u];for(;++s<a;)i=st[s],c&&c[i]||!yt.call(e,i)||t.push(i)}return t}function p(e,t,n){for(var r=-1,i=n(e),o=i.length;++r<o;){var s=i[r];if(t(e[s],s,e)===!1)break}return e}function m(e,t){return p(e,t,h)}function v(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}function b(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;var i=typeof e,o=typeof t;if(e===e&&(null==e||null==t||"function"!=i&&"object"!=i&&"function"!=o&&"object"!=o))return!1;var s=gt.call(e),a=gt.call(t);if(s==ut&&(s=mt),a==ut&&(a=mt),s!=a)return!1;switch(s){case lt:case dt:return+e==+t;case pt:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case vt:case bt:return e==String(t)}var u=s==ct;if(!u){if(s!=mt||!Et.nodeClass&&(v(e)||v(t)))return!1;var c=!Et.argsObject&&Nt(e)?Object:e.constructor,l=!Et.argsObject&&Nt(t)?Object:t.constructor;if(!(c==l||yt.call(e,"constructor")&&yt.call(t,"constructor")||Ve(c)&&c instanceof c&&Ve(l)&&l instanceof l||!("constructor"in e&&"constructor"in t)))return!1}n||(n=[]),r||(r=[]);for(var d=n.length;d--;)if(n[d]==e)return r[d]==t;var f=0,h=!0;if(n.push(e),r.push(t),u){if(d=e.length,f=t.length,h=f==d)for(;f--;){var p=t[f];if(!(h=b(e[f],p,n,r)))break}}else m(t,function(t,i,o){return yt.call(o,i)?(f++,h=yt.call(e,i)&&b(e[i],t,n,r)):void 0}),h&&m(e,function(e,t,n){return yt.call(n,t)?h=--f>-1:void 0});return n.pop(),r.pop(),h}function g(e,t){for(var n=new Array(e),r=0;e>r;r++)n[r]=t();return n}function y(){try{return Rt.apply(this,arguments)}catch(e){return It.e=e,It}}function w(e){if(!Ve(e))throw new TypeError("fn must be a function");return Rt=e,y}function _(e){throw e}function x(e,t){this.id=e,this.value=t}function k(e,t){this.scheduler=e,this.disposable=t,this.isDisposed=!1}function S(e,t){t.isDisposed||(t.isDisposed=!0,t.disposable.dispose())}function C(e){this._s=s}function E(e){this._s=s,this._l=s.length,this._i=0}function j(e){this._a=e}function N(e){this._a=e,this._l=D(e),this._i=0}function R(e){return"number"==typeof e&&je.isFinite(e)}function T(e){var t,n=e[et];if(!n&&"string"==typeof e)return t=new C(e),t[et]();if(!n&&e.length!==i)return t=new j(e),t[et]();if(!n)throw new TypeError("Object is not iterable");return e[et]()}function U(e){var t=+e;return 0===t?t:isNaN(t)?t:0>t?-1:1}function D(e){var t=+e.length;return isNaN(t)?0:0!==t&&R(t)?(t=U(t)*Math.floor(Math.abs(t)),0>=t?0:t>Zn?Zn:t):t}function A(e,t){this.observer=e,this.parent=t}function O(e,t){return Ht(e)||(e=nn),new Ln(t,e)}function I(e,t){this.observer=e,this.parent=t}function W(e,t){this.observer=e,this.parent=t}function M(e,t){return new Zr(function(n){var r=new Xt,i=new Yt;return i.setDisposable(r),r.setDisposable(e.subscribe(function(e){n.onNext(e)},function(e){try{var r=t(e)}catch(o){return n.onError(o)}Be(r)&&(r=Un(r));var s=new Xt;i.setDisposable(s),s.setDisposable(r.subscribe(n))},function(e){n.onCompleted(e)})),i},e)}function Z(){return!1}function B(e,t){var n=this;return new Zr(function(r){var i=0,o=e.length;return n.subscribe(function(n){if(o>i){var s=e[i++],a=w(t)(n,s);if(a===It)return r.onError(a.e);r.onNext(a)}else r.onCompleted()},function(e){r.onError(e)},function(){r.onCompleted()})},n)}function Z(){return!1}function L(){return[]}function Z(){return!1}function V(){return[]}function G(e,t){this.observer=e,this.accumulator=t.accumulator,this.hasSeed=t.hasSeed,this.seed=t.seed,this.hasAccumulation=!1,this.accumulation=null,this.hasValue=!1,this.isStopped=!1}function z(e,t,n){var r=ot(t,n,3);return e.map(function(t,n){var i=r(t,n,e);return Be(i)&&(i=Un(i)),(rt(i)||nt(i))&&(i=Bn(i)),i}).concatAll()}function F(e,t,n){for(var r=0,i=e.length;i>r;r++)if(n(e[r],t))return r;return-1}function X(e){this.comparer=e,this.set=[]}function Y(e,t,n){var r=ot(t,n,3);return e.map(function(t,n){var i=r(t,n,e);return Be(i)&&(i=Un(i)),(rt(i)||nt(i))&&(i=Bn(i)),i}).mergeAll()}function J(e,t,n){return new Zr(function(r){var i=!1,o=null,s=[];return e.subscribe(function(e){var a,u;try{u=t(e)}catch(c){return void r.onError(c)}if(a=0,i)try{a=n(u,o)}catch(l){return void r.onError(l)}else i=!0,o=u;a>0&&(o=u,s=[]),a>=0&&s.push(e)},function(e){r.onError(e)},function(){r.onNext(s),r.onCompleted()})},e)}function q(e){if(0===e.length)throw new Je;return e[0]}function Q(e,t,n,r){if(0>t)throw new Qe;return new Zr(function(i){var o=t;return e.subscribe(function(e){0===o--&&(i.onNext(e),i.onCompleted())},function(e){i.onError(e)},function(){n?(i.onNext(r),i.onCompleted()):i.onError(new Qe)})},e)}function P(e,t,n){return new Zr(function(r){var i=n,o=!1;return e.subscribe(function(e){o?r.onError(new Error("Sequence contains more than one element")):(i=e,o=!0)},function(e){r.onError(e)},function(){o||t?(r.onNext(i),r.onCompleted()):r.onError(new Je)})},e)}function H(e,t,n){return new Zr(function(r){return e.subscribe(function(e){r.onNext(e),r.onCompleted()},function(e){r.onError(e)},function(){t?(r.onNext(n),r.onCompleted()):r.onError(new Je)})},e)}function K(e,t,n){return new Zr(function(r){var i=n,o=!1;return e.subscribe(function(e){i=e,o=!0},function(e){r.onError(e)},function(){o||t?(r.onNext(i),r.onCompleted()):r.onError(new Je)})},e)}function $(e,t,n,r){var o=ot(t,n,3);return new Zr(function(t){var n=0;return e.subscribe(function(i){var s;try{s=o(i,n,e)}catch(a){return void t.onError(a)}s?(t.onNext(r?n:i),t.onCompleted()):n++},function(e){t.onError(e)},function(){t.onNext(r?-1:i),t.onCompleted()})},e)}function ee(e,t){return Array.isArray(e)?te.call(t,e):oe(e)?gr(e.call(t)):se(e)?gr(e):ie(e)?ne(e):Be(e)?re(e):typeof e===vr?e:jt(e)||Array.isArray(e)?te.call(t,e):e}function te(e){var t=this;return function(n){function r(e,r){if(!i)try{if(e=ee(e,t),typeof e!==vr)return a[r]=e,--s||n(null,a);e.call(t,function(e,t){if(!i){if(e)return i=!0,n(e);a[r]=t,--s||n(null,a)}})}catch(o){i=!0,n(o)}}var i,o=Object.keys(e),s=o.length,a=new e.constructor;if(!s)return void an.schedule(function(){n(null,a)});for(var u=0,c=o.length;c>u;u++)r(e[o[u]],o[u])}}function ne(e){return function(t){var n,r=!1;e.subscribe(function(e){n=e,r=!0},t,function(){r&&t(null,n)})}}function re(e){return function(t){e.then(function(e){t(null,e)},t)}}function ie(e){return e&&typeof e.subscribe===vr}function oe(e){return e&&e.constructor&&"GeneratorFunction"===e.constructor.name}function se(e){return e&&typeof e.next===vr&&typeof e[br]===vr}function ae(e){e&&an.schedule(function(){throw e})}function ue(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1),Vt(function(){e.removeEventListener(t,n,!1)});throw new Error("No listener found")}function ce(e,t,n){var r=new Zt,i=Object.prototype.toString;if("[object NodeList]"===i.call(e)||"[object HTMLCollection]"===i.call(e))for(var o=0,s=e.length;s>o;o++)r.add(ce(e.item(o),t,n));else e&&r.add(ue(e,t,n));return r}function le(e,t,n){return new Zr(function(r){function i(e,t){if(c[t]=e,s[t]=!0,a||(a=s.every(Oe))){if(o)return r.onError(o);var i=w(n).apply(null,c);if(i===It)return r.onError(i.e);r.onNext(i)}u&&c[1]&&r.onCompleted()}var o,s=[!1,!1],a=!1,u=!1,c=new Array(2);return new Zt(e.subscribe(function(e){i(e,0)},function(e){c[1]?r.onError(e):o=e},function(){u=!0,c[1]&&r.onCompleted()}),t.subscribe(function(e){i(e,1)},function(e){r.onError(e)},function(){u=!0,i(!0,1)}))},e)}function de(e,t){return e.groupJoin(this,t,In,function(e,t){return t})}function fe(e){var t=this;return new Zr(function(n){var r=new Vr,i=new Zt,o=new Jt(i);return n.onNext(Ot(r,o)),i.add(t.subscribe(function(e){r.onNext(e)},function(e){r.onError(e),n.onError(e)},function(){r.onCompleted(),n.onCompleted()})),Be(e)&&(e=Un(e)),i.add(e.subscribe(function(e){r.onCompleted(),r=new Vr,n.onNext(Ot(r,o))},function(e){r.onError(e),n.onError(e)},function(){r.onCompleted(),n.onCompleted()})),o},t)}function he(e){var t=this;return new Zr(function(n){function r(){var t;try{t=e()}catch(o){return void n.onError(o)}Be(t)&&(t=Un(t));var u=new Xt;i.setDisposable(u),u.setDisposable(t.take(1).subscribe(Ae,function(e){a.onError(e),n.onError(e)},function(){a.onCompleted(),a=new Vr,n.onNext(Ot(a,s)),r()}))}var i=new Yt,o=new Zt(i),s=new Jt(o),a=new Vr;return n.onNext(Ot(a,s)),o.add(t.subscribe(function(e){a.onNext(e)},function(e){a.onError(e),n.onError(e)},function(){a.onCompleted(),n.onCompleted()})),r(),s},t)}function pe(e,t){return new Dr(e,t)}function me(e){this.patterns=e}function ve(e,t){this.expression=e,this.selector=t}function be(e,t,n){var r=e.get(t);if(!r){
var i=new Wr(t,n);return e.set(t,i),i}return r}function ge(e,t,n){this.joinObserverArray=e,this.onNext=t,this.onCompleted=n,this.joinObservers=new Ir;for(var r=0,i=this.joinObserverArray.length;i>r;r++){var o=this.joinObserverArray[r];this.joinObservers.set(o,o)}}function ye(e,t){return new Zr(function(n){return t.scheduleWithAbsolute(e,function(){n.onNext(0),n.onCompleted()})})}function we(e,t,n){return new Zr(function(r){var i=e,o=Pt(t);return n.scheduleRecursiveWithAbsoluteAndState(0,i,function(e,t){if(o>0){var s=n.now();i+=o,s>=i&&(i=s+o)}r.onNext(e),t(e+1,i)})})}function _e(e,t){return new Zr(function(n){return t.scheduleWithRelative(Pt(e),function(){n.onNext(0),n.onCompleted()})})}function xe(e,t,n){return e===t?new Zr(function(e){return n.schedulePeriodicWithState(0,t,function(t){return e.onNext(t),t+1})}):An(function(){return we(n.now()+e,t,n)})}function ke(e,t,n){return new Zr(function(r){var i,o=!1,s=new Yt,a=null,u=[],c=!1;return i=e.materialize().timestamp(n).subscribe(function(e){var i,l;"E"===e.value.kind?(u=[],u.push(e),a=e.value.exception,l=!c):(u.push({value:e.value,timestamp:e.timestamp+t}),l=!o,o=!0),l&&(null!==a?r.onError(a):(i=new Xt,s.setDisposable(i),i.setDisposable(n.scheduleRecursiveWithRelative(t,function(e){var t,i,s,l;if(null===a){c=!0;do s=null,u.length>0&&u[0].timestamp-n.now()<=0&&(s=u.shift().value),null!==s&&s.accept(r);while(null!==s);l=!1,i=0,u.length>0?(l=!0,i=Math.max(0,u[0].timestamp-n.now())):o=!1,t=a,c=!1,null!==t?r.onError(t):l&&e(i)}}))))}),new Zt(i,s)},e)}function Se(e,t,n){return An(function(){return ke(e,t-n.now(),n)})}function Ce(e,t){return new Zr(function(n){function r(){s&&(s=!1,n.onNext(i)),o&&n.onCompleted()}var i,o=!1,s=!1,a=new Xt;return a.setDisposable(e.subscribe(function(e){s=!0,i=e},function(e){n.onError(e)},function(){o=!0,a.dispose()})),new Zt(a,t.subscribe(r,function(e){n.onError(e)},r))},e)}var Ee={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},je=Ee[typeof window]&&window||this,Ne=Ee[typeof n]&&n&&!n.nodeType&&n,Re=Ee[typeof t]&&t&&!t.nodeType&&t,Te=Re&&Re.exports===Ne&&Ne,Ue=Ee[typeof r]&&r;!Ue||Ue.global!==Ue&&Ue.window!==Ue||(je=Ue);var De={internals:{},config:{Promise:je.Promise},helpers:{}},Ae=De.helpers.noop=function(){},Oe=(De.helpers.notDefined=function(e){return"undefined"==typeof e},De.helpers.identity=function(e){return e}),Ie=(De.helpers.pluck=function(e){return function(t){return t[e]}},De.helpers.just=function(e){return function(){return e}},De.helpers.defaultNow=Date.now),We=De.helpers.defaultComparer=function(e,t){return Tt(e,t)},Me=De.helpers.defaultSubComparer=function(e,t){return e>t?1:t>e?-1:0},Ze=(De.helpers.defaultKeySerializer=function(e){return e.toString()},De.helpers.defaultError=function(e){throw e}),Be=De.helpers.isPromise=function(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then},Le=(De.helpers.asArray=function(){return Array.prototype.slice.call(arguments)},De.helpers.not=function(e){return!e}),Ve=De.helpers.isFunction=function(){var e=function(e){return"function"==typeof e||!1};return e(/x/)&&(e=function(e){return"function"==typeof e&&"[object Function]"==gt.call(e)}),e}();De.config.longStackSupport=!1;var Ge=!1;try{throw new Error}catch(ze){Ge=!!ze.stack}var Fe,Xe=d(),Ye="From previous event:",Je=De.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};Je.prototype=Error.prototype;var qe=De.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};qe.prototype=Error.prototype;var Qe=De.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};Qe.prototype=Error.prototype;var Pe=De.NotSupportedError=function(e){this.message=e||"This operation is not supported",Error.call(this)};Pe.prototype=Error.prototype;var He=De.NotImplementedError=function(e){this.message=e||"This operation is not implemented",Error.call(this)};He.prototype=Error.prototype;var Ke=De.helpers.notImplemented=function(){throw new He},$e=De.helpers.notSupported=function(){throw new Pe},et="function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_";je.Set&&"function"==typeof(new je.Set)["@@iterator"]&&(et="@@iterator");var tt=De.doneEnumerator={done:!0,value:i},nt=De.helpers.isIterable=function(e){return e[et]!==i},rt=De.helpers.isArrayLike=function(e){return e&&e.length!==i};De.helpers.iterator=et;var it,ot=De.internals.bindCallback=function(e,t,n){if("undefined"==typeof t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},st=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],at=st.length,ut="[object Arguments]",ct="[object Array]",lt="[object Boolean]",dt="[object Date]",ft="[object Error]",ht="[object Function]",pt="[object Number]",mt="[object Object]",vt="[object RegExp]",bt="[object String]",gt=Object.prototype.toString,yt=Object.prototype.hasOwnProperty,wt=gt.call(arguments)==ut,_t=Error.prototype,xt=Object.prototype,kt=String.prototype,St=xt.propertyIsEnumerable;try{it=!(gt.call(document)==mt&&!({toString:0}+""))}catch(ze){it=!0}var Ct={};Ct[ct]=Ct[dt]=Ct[pt]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Ct[lt]=Ct[bt]={constructor:!0,toString:!0,valueOf:!0},Ct[ft]=Ct[ht]=Ct[vt]={constructor:!0,toString:!0},Ct[mt]={constructor:!0};var Et={};!function(){var e=function(){this.x=1},t=[];e.prototype={valueOf:1,y:1};for(var n in new e)t.push(n);for(n in arguments);Et.enumErrorProps=St.call(_t,"message")||St.call(_t,"name"),Et.enumPrototypes=St.call(e,"prototype"),Et.nonEnumArgs=0!=n,Et.nonEnumShadows=!/valueOf/.test(t)}(1);var jt=De.internals.isObject=function(e){var t=typeof e;return e&&("function"==t||"object"==t)||!1},Nt=function(e){return e&&"object"==typeof e?gt.call(e)==ut:!1};wt||(Nt=function(e){return e&&"object"==typeof e?yt.call(e,"callee"):!1});var Rt,Tt=De.internals.isEqual=function(e,t){return b(e,t,[],[])},Ut=({}.hasOwnProperty,Array.prototype.slice),Dt=this.inherits=De.internals.inherits=function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},At=De.internals.addProperties=function(e){for(var t=[],n=1,r=arguments.length;r>n;n++)t.push(arguments[n]);for(var i=0,o=t.length;o>i;i++){var s=t[i];for(var a in s)e[a]=s[a]}},Ot=De.internals.addRef=function(e,t){return new Zr(function(n){return new Zt(t.getDisposable(),e.subscribe(n))})},It={e:{}};x.prototype.compareTo=function(e){var t=this.value.compareTo(e.value);return 0===t&&(t=this.id-e.id),t};var Wt=De.internals.PriorityQueue=function(e){this.items=new Array(e),this.length=0},Mt=Wt.prototype;Mt.isHigherPriority=function(e,t){return this.items[e].compareTo(this.items[t])<0},Mt.percolate=function(e){if(!(e>=this.length||0>e)){var t=e-1>>1;if(!(0>t||t===e)&&this.isHigherPriority(e,t)){var n=this.items[e];this.items[e]=this.items[t],this.items[t]=n,this.percolate(t)}}},Mt.heapify=function(e){if(+e||(e=0),!(e>=this.length||0>e)){var t=2*e+1,n=2*e+2,r=e;if(t<this.length&&this.isHigherPriority(t,r)&&(r=t),n<this.length&&this.isHigherPriority(n,r)&&(r=n),r!==e){var i=this.items[e];this.items[e]=this.items[r],this.items[r]=i,this.heapify(r)}}},Mt.peek=function(){return this.items[0].value},Mt.removeAt=function(e){this.items[e]=this.items[--this.length],this.items[this.length]=i,this.heapify()},Mt.dequeue=function(){var e=this.peek();return this.removeAt(0),e},Mt.enqueue=function(e){var t=this.length++;this.items[t]=new x(Wt.count++,e),this.percolate(t)},Mt.remove=function(e){for(var t=0;t<this.length;t++)if(this.items[t].value===e)return this.removeAt(t),!0;return!1},Wt.count=0;var Zt=De.CompositeDisposable=function(){var e,t,n=[];if(Array.isArray(arguments[0]))n=arguments[0],t=n.length;else for(t=arguments.length,n=new Array(t),e=0;t>e;e++)n[e]=arguments[e];for(e=0;t>e;e++)if(!zt(n[e]))throw new TypeError("Not a disposable");this.disposables=n,this.isDisposed=!1,this.length=n.length},Bt=Zt.prototype;Bt.add=function(e){this.isDisposed?e.dispose():(this.disposables.push(e),this.length++)},Bt.remove=function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),this.length--,e.dispose())}return t},Bt.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;e>n;n++)t[n]=this.disposables[n];for(this.disposables=[],this.length=0,n=0;e>n;n++)t[n].dispose()}};var Lt=De.Disposable=function(e){this.isDisposed=!1,this.action=e||Ae};Lt.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var Vt=Lt.create=function(e){return new Lt(e)},Gt=Lt.empty={dispose:Ae},zt=Lt.isDisposable=function(e){return e&&Ve(e.dispose)},Ft=Lt.checkDisposed=function(e){if(e.isDisposed)throw new qe},Xt=De.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};Xt.prototype.getDisposable=function(){return this.current},Xt.prototype.setDisposable=function(e){if(this.current)throw new Error("Disposable has already been assigned");var t=this.isDisposed;!t&&(this.current=e),t&&e&&e.dispose()},Xt.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null}e&&e.dispose()};var Yt=De.SerialDisposable=function(){this.isDisposed=!1,this.current=null};Yt.prototype.getDisposable=function(){return this.current},Yt.prototype.setDisposable=function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e}n&&n.dispose(),t&&e&&e.dispose()},Yt.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null}e&&e.dispose()};var Jt=De.RefCountDisposable=function(){function e(e){this.disposable=e,this.disposable.count++,this.isInnerDisposed=!1}function t(e){this.underlyingDisposable=e,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return e.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},t.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},t.prototype.getDisposable=function(){return this.isDisposed?Gt:new e(this)},t}();k.prototype.dispose=function(){this.scheduler.scheduleWithState(this,S)};var qt=De.internals.ScheduledItem=function(e,t,n,r,i){this.scheduler=e,this.state=t,this.action=n,this.dueTime=r,this.comparer=i||Me,this.disposable=new Xt};qt.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},qt.prototype.compareTo=function(e){return this.comparer(this.dueTime,e.dueTime)},qt.prototype.isCancelled=function(){return this.disposable.isDisposed},qt.prototype.invokeCore=function(){return this.action(this.scheduler,this.state)};var Qt=De.Scheduler=function(){function e(e,t,n,r){this.now=e,this._schedule=t,this._scheduleRelative=n,this._scheduleAbsolute=r}function t(e,t){return t(),Gt}e.isScheduler=function(t){return t instanceof e};var n=e.prototype;return n.schedule=function(e){return this._schedule(e,t)},n.scheduleWithState=function(e,t){return this._schedule(e,t)},n.scheduleWithRelative=function(e,n){return this._scheduleRelative(n,e,t)},n.scheduleWithRelativeAndState=function(e,t,n){return this._scheduleRelative(e,t,n)},n.scheduleWithAbsolute=function(e,n){return this._scheduleAbsolute(n,e,t)},n.scheduleWithAbsoluteAndState=function(e,t,n){return this._scheduleAbsolute(e,t,n)},e.now=Ie,e.normalize=function(e){return 0>e&&(e=0),e},e}(),Pt=Qt.normalize,Ht=Qt.isScheduler;!function(e){function t(e,t){function n(t){i(t,function(t){var r=!1,i=!1,s=e.scheduleWithState(t,function(e,t){return r?o.remove(s):i=!0,n(t),Gt});i||(o.add(s),r=!0)})}var r=t[0],i=t[1],o=new Zt;return n(r),o}function n(e,t,n){function r(t){o(t,function(t,i){var o=!1,a=!1,u=e[n](t,i,function(e,t){return o?s.remove(u):a=!0,r(t),Gt});a||(s.add(u),o=!0)})}var i=t[0],o=t[1],s=new Zt;return r(i),s}function r(e,t){e(function(n){t(e,n)})}e.scheduleRecursive=function(e){return this.scheduleRecursiveWithState(e,r)},e.scheduleRecursiveWithState=function(e,n){return this.scheduleWithState([e,n],t)},e.scheduleRecursiveWithRelative=function(e,t){return this.scheduleRecursiveWithRelativeAndState(t,e,r)},e.scheduleRecursiveWithRelativeAndState=function(e,t,r){return this._scheduleRelative([e,r],t,function(e,t){return n(e,t,"scheduleWithRelativeAndState")})},e.scheduleRecursiveWithAbsolute=function(e,t){return this.scheduleRecursiveWithAbsoluteAndState(t,e,r)},e.scheduleRecursiveWithAbsoluteAndState=function(e,t,r){return this._scheduleAbsolute([e,r],t,function(e,t){return n(e,t,"scheduleWithAbsoluteAndState")})}}(Qt.prototype),function(e){Qt.prototype.schedulePeriodic=function(e,t){return this.schedulePeriodicWithState(null,e,t)},Qt.prototype.schedulePeriodicWithState=function(e,t,n){if("undefined"==typeof je.setInterval)throw new Pe;t=Pt(t);var r=e,i=je.setInterval(function(){r=n(r)},t);return Vt(function(){je.clearInterval(i)})}}(Qt.prototype),function(e){e.catchError=e["catch"]=function(e){return new un(this,e)}}(Qt.prototype);var Kt,$t,en=De.internals.SchedulePeriodicRecursive=function(){function e(e,t){t(0,this._period);try{this._state=this._action(this._state)}catch(n){throw this._cancel.dispose(),n}}function t(e,t,n,r){this._scheduler=e,this._state=t,this._period=n,this._action=r}return t.prototype.start=function(){var t=new Xt;return this._cancel=t,t.setDisposable(this._scheduler.scheduleRecursiveWithRelativeAndState(0,this._period,e.bind(this))),t},t}(),tn=Qt.immediate=function(){function e(e,t){return t(this,e)}return new Qt(Ie,e,$e,$e)}(),nn=Qt.currentThread=function(){function e(){for(;n.length>0;){var e=n.dequeue();!e.isCancelled()&&e.invoke()}}function t(t,r){var i=new qt(this,t,r,this.now());if(n)n.enqueue(i);else{n=new Wt(4),n.enqueue(i);var o=w(e)();if(n=null,o===It)return _(o.e)}return i.disposable}var n,r=new Qt(Ie,t,$e,$e);return r.scheduleRequired=function(){return!n},r}(),rn=function(){var e,t=Ae;if(je.setTimeout)e=je.setTimeout,t=je.clearTimeout;else{if(!je.WScript)throw new Pe;e=function(e,t){je.WScript.Sleep(t),e()}}return{setTimeout:e,clearTimeout:t}}(),on=rn.setTimeout,sn=rn.clearTimeout;!function(){function t(e){if(s)on(function(){t(e)},0);else{var n=o[e];if(n){s=!0;var r=w(n)();if($t(e),s=!1,r===It)return _(r.e)}}}function n(){if(!je.postMessage||je.importScripts)return!1;var e=!1,t=je.onmessage;return je.onmessage=function(){e=!0},je.postMessage("","*"),je.onmessage=t,e}function r(e){"string"==typeof e.data&&e.data.substring(0,c.length)===c&&t(e.data.substring(c.length))}var i=1,o={},s=!1;$t=function(e){delete o[e]};var a=RegExp("^"+String(gt).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),u="function"==typeof(u=Ue&&Te&&Ue.setImmediate)&&!a.test(u)&&u;if(Ve(u))Kt=function(e){var n=i++;return o[n]=e,u(function(){t(n)}),n};else if("undefined"!=typeof e&&"[object process]"==={}.toString.call(e))Kt=function(n){var r=i++;return o[r]=n,e.nextTick(function(){t(r)}),r};else if(n()){var c="ms.rx.schedule"+Math.random();je.addEventListener?je.addEventListener("message",r,!1):je.attachEvent?je.attachEvent("onmessage",r):je.onmessage=r,Kt=function(e){var t=i++;return o[t]=e,je.postMessage(c+currentId,"*"),t}}else if(je.MessageChannel){var l=new je.MessageChannel;l.port1.onmessage=function(e){t(e.data)},Kt=function(e){var t=i++;return o[t]=e,l.port2.postMessage(t),t}}else Kt="document"in je&&"onreadystatechange"in je.document.createElement("script")?function(e){var n=je.document.createElement("script"),r=i++;return o[r]=e,n.onreadystatechange=function(){t(r),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},je.document.documentElement.appendChild(n),r}:function(e){var n=i++;return o[n]=e,on(function(){t(n)},0),n}}();var an=Qt.timeout=Qt["default"]=function(){function e(e,t){var n=this,r=new Xt,i=Kt(function(){!r.isDisposed&&r.setDisposable(t(n,e))});return new Zt(r,Vt(function(){$t(i)}))}function t(e,t,n){var r=this,i=Qt.normalize(t),o=new Xt;if(0===i)return r.scheduleWithState(e,n);var s=on(function(){!o.isDisposed&&o.setDisposable(n(r,e))},i);return new Zt(o,Vt(function(){sn(s)}))}function n(e,t,n){return this.scheduleWithRelativeAndState(e,t-this.now(),n)}return new Qt(Ie,e,t,n)}(),un=function(e){function t(e,t){return this._scheduler.scheduleWithState(e,this._wrap(t))}function n(e,t,n){return this._scheduler.scheduleWithRelativeAndState(e,t,this._wrap(n))}function r(e,t,n){return this._scheduler.scheduleWithAbsoluteAndState(e,t,this._wrap(n))}function i(i,o){this._scheduler=i,this._handler=o,this._recursiveOriginal=null,this._recursiveWrapper=null,e.call(this,this._scheduler.now.bind(this._scheduler),t,n,r)}return Dt(i,e),i.prototype._clone=function(e){return new i(e,this._handler)},i.prototype._wrap=function(e){var t=this;return function(n,r){try{return e(t._getRecursiveWrapper(n),r)}catch(i){if(!t._handler(i))throw i;return Gt}}},i.prototype._getRecursiveWrapper=function(e){if(this._recursiveOriginal!==e){this._recursiveOriginal=e;var t=this._clone(e);t._recursiveOriginal=e,t._recursiveWrapper=t,this._recursiveWrapper=t}return this._recursiveWrapper},i.prototype.schedulePeriodicWithState=function(e,t,n){var r=this,i=!1,o=new Xt;return o.setDisposable(this._scheduler.schedulePeriodicWithState(e,t,function(e){if(i)return null;try{return n(e)}catch(t){if(i=!0,!r._handler(t))throw t;return o.dispose(),null}})),o},i}(Qt),cn=De.Notification=function(){function e(e,t,n,r,i,o){this.kind=e,this.value=t,this.exception=n,this._accept=r,this._acceptObservable=i,this.toString=o}return e.prototype.accept=function(e,t,n){return e&&"object"==typeof e?this._acceptObservable(e):this._accept(e,t,n)},e.prototype.toObservable=function(e){var t=this;return Ht(e)||(e=tn),new Zr(function(n){return e.scheduleWithState(t,function(e,t){t._acceptObservable(n),"N"===t.kind&&n.onCompleted()})})},e}(),ln=cn.createOnNext=function(){function e(e){return e(this.value)}function t(e){return e.onNext(this.value)}function n(){return"OnNext("+this.value+")"}return function(r){return new cn("N",r,null,e,t,n)}}(),dn=cn.createOnError=function(){function e(e,t){return t(this.exception)}function t(e){return e.onError(this.exception)}function n(){return"OnError("+this.exception+")"}return function(r){return new cn("E",null,r,e,t,n)}}(),fn=cn.createOnCompleted=function(){function e(e,t,n){return n()}function t(e){return e.onCompleted()}function n(){return"OnCompleted()"}return function(){return new cn("C",null,null,e,t,n)}}(),hn=De.Observer=function(){};hn.prototype.toNotifier=function(){var e=this;return function(t){return t.accept(e)}},hn.prototype.asObserver=function(){return new bn(this.onNext.bind(this),this.onError.bind(this),this.onCompleted.bind(this))},hn.prototype.checked=function(){return new gn(this)};var pn=hn.create=function(e,t,n){return e||(e=Ae),t||(t=Ze),n||(n=Ae),new bn(e,t,n)};hn.fromNotifier=function(e,t){return new bn(function(n){return e.call(t,ln(n))},function(n){return e.call(t,dn(n))},function(){return e.call(t,fn())})},hn.prototype.notifyOn=function(e){return new wn(e,this)},hn.prototype.makeSafe=function(e){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,e)};var mn,vn=De.internals.AbstractObserver=function(e){function t(){this.isStopped=!1,e.call(this)}return Dt(t,e),t.prototype.next=Ke,t.prototype.error=Ke,t.prototype.completed=Ke,t.prototype.onNext=function(e){this.isStopped||this.next(e)},t.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.error(e))},t.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.error(e),!0)},t}(hn),bn=De.AnonymousObserver=function(e){function t(t,n,r){e.call(this),this._onNext=t,this._onError=n,this._onCompleted=r}return Dt(t,e),t.prototype.next=function(e){this._onNext(e)},t.prototype.error=function(e){this._onError(e)},t.prototype.completed=function(){this._onCompleted()},t}(vn),gn=function(e){function t(t){e.call(this),this._observer=t,this._state=0}Dt(t,e);var n=t.prototype;return n.onNext=function(e){this.checkAccess();var t=w(this._observer.onNext).call(this._observer,e);this._state=0,t===It&&_(t.e)},n.onError=function(e){this.checkAccess();var t=w(this._observer.onError).call(this._observer,e);this._state=2,t===It&&_(t.e)},n.onCompleted=function(){this.checkAccess();var e=w(this._observer.onCompleted).call(this._observer);this._state=2,e===It&&_(e.e)},n.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},t}(hn),yn=De.internals.ScheduledObserver=function(e){function t(t,n){e.call(this),this.scheduler=t,this.observer=n,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new Yt}return Dt(t,e),t.prototype.next=function(e){var t=this;this.queue.push(function(){t.observer.onNext(e)})},t.prototype.error=function(e){var t=this;this.queue.push(function(){t.observer.onError(e)})},t.prototype.completed=function(){var e=this;this.queue.push(function(){e.observer.onCompleted()})},t.prototype.ensureActive=function(){var e=!1,t=this;!this.hasFaulted&&this.queue.length>0&&(e=!this.isAcquired,this.isAcquired=!0),e&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(function(e){var n;if(!(t.queue.length>0))return void(t.isAcquired=!1);n=t.queue.shift();try{n()}catch(r){throw t.queue=[],t.hasFaulted=!0,r}e()}))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposable.dispose()},t}(vn),wn=function(e){function t(t,n,r){e.call(this,t,n),this._cancel=r}return Dt(t,e),t.prototype.next=function(t){e.prototype.next.call(this,t),this.ensureActive()},t.prototype.error=function(t){e.prototype.error.call(this,t),this.ensureActive()},t.prototype.completed=function(){e.prototype.completed.call(this),this.ensureActive()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._cancel&&this._cancel.dispose(),this._cancel=null},t}(yn),_n=De.Observable=function(){function e(e){if(De.config.longStackSupport&&Ge){try{throw new Error}catch(t){this.stack=t.stack.substring(t.stack.indexOf("\n")+1)}var n=this;this._subscribe=function(t){var r=t.onError.bind(t);return t.onError=function(e){a(e,n),r(e)},e.call(n,t)}}else this._subscribe=e}return mn=e.prototype,mn.subscribe=mn.forEach=function(e,t,n){return this._subscribe("object"==typeof e?e:pn(e,t,n))},mn.subscribeOnNext=function(e,t){return this._subscribe(pn("undefined"!=typeof t?function(n){e.call(t,n)}:e))},mn.subscribeOnError=function(e,t){return this._subscribe(pn(null,"undefined"!=typeof t?function(n){e.call(t,n)}:e))},mn.subscribeOnCompleted=function(e,t){return this._subscribe(pn(null,null,"undefined"!=typeof t?function(){e.call(t)}:e))},e}(),xn=De.ObservableBase=function(e){function t(e){return e&&Ve(e.dispose)?e:Ve(e)?Vt(e):Gt}function n(e,n){var r=n[0],i=n[1],o=w(i.subscribeCore).call(i,r);return o!==It||r.fail(It.e)?void r.setDisposable(t(o)):_(It.e)}function r(e){var t=new Br(e),r=[t,this];return nn.scheduleRequired()?nn.scheduleWithState(r,n):n(null,r),t}function i(){e.call(this,r)}return Dt(i,e),i.prototype.subscribeCore=Ke,i}(_n),kn=De.internals.Enumerable=function(){},Sn=function(e){function t(t){this.sources=t,e.call(this)}function n(e,t,n){this.o=e,this.s=t,this.e=n,this.isStopped=!1}return Dt(t,e),t.prototype.subscribeCore=function(e){var t,r=new Yt,i=tn.scheduleRecursiveWithState(this.sources[et](),function(i,o){if(!t){var s=w(i.next).call(i);if(s===It)return e.onError(s.e);if(s.done)return e.onCompleted();var a=s.value;Be(a)&&(a=Un(a));var u=new Xt;r.setDisposable(u),u.setDisposable(a.subscribe(new n(e,o,i)))}});return new Zt(r,i,Vt(function(){t=!0}))},n.prototype.onNext=function(e){this.isStopped||this.o.onNext(e)},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.s(this.e))},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(xn);kn.prototype.concat=function(){return new Sn(this)};var Cn=function(e){function t(t){this.sources=t,e.call(this)}return Dt(t,e),t.prototype.subscribeCore=function(e){var t,n=this.sources[et](),r=new Yt,i=tn.scheduleRecursiveWithState(null,function(i,o){if(!t){var s=w(n.next).call(n);if(s===It)return e.onError(s.e);if(s.done)return null!==i?e.onError(i):e.onCompleted();var a=s.value;Be(a)&&(a=Un(a));var u=new Xt;r.setDisposable(u),u.setDisposable(a.subscribe(function(t){e.onNext(t)},o,function(){e.onCompleted()}))}});return new Zt(r,i,Vt(function(){t=!0}))},t}(xn);kn.prototype.catchError=function(){return new Cn(this)},kn.prototype.catchErrorWhen=function(e){var t=this;return new Zr(function(n){var r,i,o=new Vr,s=new Vr,a=e(o),u=a.subscribe(s),c=t[et](),l=new Yt,d=tn.scheduleRecursive(function(e){if(!r){var t=w(c.next).call(c);if(t===It)return n.onError(t.e);if(t.done)return void(i?n.onError(i):n.onCompleted());var a=t.value;Be(a)&&(a=Un(a));var u=new Xt,d=new Xt;l.setDisposable(new Zt(d,u)),u.setDisposable(a.subscribe(function(e){n.onNext(e)},function(t){d.setDisposable(s.subscribe(e,function(e){n.onError(e)},function(){n.onCompleted()})),o.onNext(t)},function(){n.onCompleted()}))}});return new Zt(u,l,d,Vt(function(){r=!0}))})};var En=function(e){function t(e,t){this.v=e,this.c=null==t?-1:t}function n(e){this.v=e.v,this.l=e.c}return Dt(t,e),t.prototype[et]=function(){return new n(this)},n.prototype.next=function(){return 0===this.l?tt:(this.l>0&&this.l--,{done:!1,value:this.v})},t}(kn),jn=kn.repeat=function(e,t){return new En(e,t)},Nn=function(e){function t(e,t,n){this.s=e,this.fn=t?ot(t,n,3):null}function n(e){this.i=-1,this.s=e.s,this.l=this.s.length,this.fn=e.fn}return Dt(t,e),t.prototype[et]=function(){return new n(this)},n.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:tt},t}(kn),Rn=kn.of=function(e,t,n){return new Nn(e,t,n)};mn.observeOn=function(e){var t=this;return new Zr(function(n){return t.subscribe(new wn(e,n))},t)},mn.subscribeOn=function(e){var t=this;return new Zr(function(n){var r=new Xt,i=new Yt;return i.setDisposable(r),r.setDisposable(e.schedule(function(){i.setDisposable(new k(e,t.subscribe(n)))})),i},t)};var Tn=function(e){function t(t){this.p=t,e.call(this)}return Dt(t,e),t.prototype.subscribeCore=function(e){return this.p.then(function(t){e.onNext(t),e.onCompleted()},function(t){e.onError(t)}),Gt},t}(xn),Un=_n.fromPromise=function(e){return new Tn(e)};mn.toPromise=function(e){if(e||(e=De.config.Promise),!e)throw new Pe("Promise type not provided nor in Rx.config.Promise");var t=this;return new e(function(e,n){var r,i=!1;t.subscribe(function(e){r=e,i=!0},n,function(){i&&e(r)})})};var Dn=function(e){function t(t){this.source=t,e.call(this)}function n(e){this.o=e,this.a=[],this.isStopped=!1}return Dt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e))},n.prototype.onNext=function(e){this.isStopped||this.a.push(e)},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onNext(this.a),this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(xn);mn.toArray=function(){return new Dn(this)},_n.create=_n.createWithDisposable=function(e,t){return new Zr(e,t)};var An=_n.defer=function(e){return new Zr(function(t){var n;try{n=e()}catch(r){return Pn(r).subscribe(t)}return Be(n)&&(n=Un(n)),n.subscribe(t)})},On=function(e){function t(t){this.scheduler=t,e.call(this)}function n(e,t){this.observer=e,this.parent=t}function r(e,t){t.onCompleted()}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new n(e,this);return t.run()},n.prototype.run=function(){return this.parent.scheduler.scheduleWithState(this.observer,r)},t}(xn),In=_n.empty=function(e){return Ht(e)||(e=tn),new On(e)},Wn=function(e){function t(t,n,r){this.iterable=t,this.mapper=n,this.scheduler=r,e.call(this)}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new Mn(e,this);return t.run()},t}(xn),Mn=function(){function e(e,t){this.observer=e,this.parent=t}return e.prototype.run=function(){function e(e,t){try{var o=n.next()}catch(s){return r.onError(s)}if(o.done)return r.onCompleted();var a=o.value;if(i)try{a=i(a,e)}catch(s){return r.onError(s)}r.onNext(a),t(e+1)}var t=Object(this.parent.iterable),n=T(t),r=this.observer,i=this.parent.mapper;return this.parent.scheduler.scheduleRecursiveWithState(0,e)},e}(),Zn=Math.pow(2,53)-1;C.prototype[et]=function(){return new E(this._s)},E.prototype[et]=function(){return this},E.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:tt},j.prototype[et]=function(){return new N(this._a)},N.prototype[et]=function(){return this},N.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:tt};var Bn=_n.from=function(e,t,n,r){if(null==e)throw new Error("iterable cannot be null.");if(t&&!Ve(t))throw new Error("mapFn when provided must be a function");if(t)var i=ot(t,n,2);return Ht(r)||(r=nn),new Wn(e,i,r)},Ln=function(e){function t(t,n){this.args=t,this.scheduler=n,e.call(this)}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new A(e,this);return t.run()},t}(xn);A.prototype.run=function(){function e(e,i){r>e?(t.onNext(n[e]),i(e+1)):t.onCompleted()}var t=this.observer,n=this.parent.args,r=n.length;return this.parent.scheduler.scheduleRecursiveWithState(0,e)};var Vn=_n.fromArray=function(e,t){return Ht(t)||(t=nn),new Ln(e,t)};_n.generate=function(e,t,n,r,i){return Ht(i)||(i=nn),new Zr(function(o){var s=!0;return i.scheduleRecursiveWithState(e,function(e,i){var a,u;try{s?s=!1:e=n(e),a=t(e),a&&(u=r(e))}catch(c){return o.onError(c)}a?(o.onNext(u),i(e)):o.onCompleted()})})},_n.of=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];return new Ln(t,nn)},_n.ofWithScheduler=function(e){for(var t=arguments.length,n=new Array(t-1),r=1;t>r;r++)n[r-1]=arguments[r];return new Ln(n,e)},_n.ofArrayChanges=function(e){if(!Array.isArray(e))throw new TypeError("Array.observe only accepts arrays.");if("function"!=typeof Array.observe&&"function"!=typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new Zr(function(t){function n(e){for(var n=0,r=e.length;r>n;n++)t.onNext(e[n])}return Array.observe(e,n),function(){Array.unobserve(e,n)}})},_n.ofObjectChanges=function(e){if(null==e)throw new TypeError("object must not be null or undefined.");if("function"!=typeof Object.observe&&"function"!=typeof Object.unobserve)throw new TypeError("Object.observe is not supported on your platform");return new Zr(function(t){function n(e){for(var n=0,r=e.length;r>n;n++)t.onNext(e[n])}return Object.observe(e,n),function(){Object.unobserve(e,n)}})};var Gn=function(e){function t(){e.call(this)}return Dt(t,e),t.prototype.subscribeCore=function(e){return Gt},t}(xn),zn=_n.never=function(){return new Gn},Fn=function(e){function t(t,n){this.obj=t,this.keys=Object.keys(t),this.scheduler=n,e.call(this)}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new I(e,this);return t.run()},t}(xn);I.prototype.run=function(){function e(e,o){if(i>e){var s=r[e];t.onNext([s,n[s]]),o(e+1)}else t.onCompleted()}var t=this.observer,n=this.parent.obj,r=this.parent.keys,i=r.length;return this.parent.scheduler.scheduleRecursiveWithState(0,e);

},_n.pairs=function(e,t){return t||(t=nn),new Fn(e,t)};var Xn=function(e){function t(t,n,r){this.start=t,this.rangeCount=n,this.scheduler=r,e.call(this)}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new Yn(e,this);return t.run()},t}(xn),Yn=function(){function e(e,t){this.observer=e,this.parent=t}return e.prototype.run=function(){function e(e,i){n>e?(r.onNext(t+e),i(e+1)):r.onCompleted()}var t=this.parent.start,n=this.parent.rangeCount,r=this.observer;return this.parent.scheduler.scheduleRecursiveWithState(0,e)},e}();_n.range=function(e,t,n){return Ht(n)||(n=nn),new Xn(e,t,n)};var Jn=function(e){function t(t,n,r){this.value=t,this.repeatCount=null==n?-1:n,this.scheduler=r,e.call(this)}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new W(e,this);return t.run()},t}(xn);W.prototype.run=function(){function e(e,r){return(-1===e||e>0)&&(t.onNext(n),e>0&&e--),0===e?t.onCompleted():void r(e)}var t=this.observer,n=this.parent.value;return this.parent.scheduler.scheduleRecursiveWithState(this.parent.repeatCount,e)},_n.repeat=function(e,t,n){return Ht(n)||(n=nn),new Jn(e,t,n)};var qn=function(e){function t(t,n){this.value=t,this.scheduler=n,e.call(this)}function n(e,t){this.observer=e,this.parent=t}function r(e,t){var n=t[0],r=t[1];r.onNext(n),r.onCompleted()}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new n(e,this);return t.run()},n.prototype.run=function(){return this.parent.scheduler.scheduleWithState([this.parent.value,this.observer],r)},t}(xn),Qn=(_n["return"]=_n.just=_n.returnValue=function(e,t){return Ht(t)||(t=tn),new qn(e,t)},function(e){function t(t,n){this.error=t,this.scheduler=n,e.call(this)}function n(e,t){this.o=e,this.p=t}function r(e,t){var n=t[0],r=t[1];r.onError(n)}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new n(e,this);return t.run()},n.prototype.run=function(){return this.p.scheduler.scheduleWithState([this.p.error,this.o],r)},t}(xn)),Pn=_n["throw"]=_n.throwError=_n.throwException=function(e,t){return Ht(t)||(t=tn),new Qn(e,t)};_n.using=function(e,t){return new Zr(function(n){var r,i,o=Gt;try{r=e(),r&&(o=r),i=t(r)}catch(s){return new Zt(Pn(s).subscribe(n),o)}return new Zt(i.subscribe(n),o)})},mn.amb=function(e){var t=this;return new Zr(function(n){function r(){o||(o=s,c.dispose())}function i(){o||(o=a,u.dispose())}var o,s="L",a="R",u=new Xt,c=new Xt;return Be(e)&&(e=Un(e)),u.setDisposable(t.subscribe(function(e){r(),o===s&&n.onNext(e)},function(e){r(),o===s&&n.onError(e)},function(){r(),o===s&&n.onCompleted()})),c.setDisposable(e.subscribe(function(e){i(),o===a&&n.onNext(e)},function(e){i(),o===a&&n.onError(e)},function(){i(),o===a&&n.onCompleted()})),new Zt(u,c)})},_n.amb=function(){function e(e,t){return e.amb(t)}var t=zn(),n=[];if(Array.isArray(arguments[0]))n=arguments[0];else for(var r=0,i=arguments.length;i>r;r++)n.push(arguments[r]);for(var r=0,i=n.length;i>r;r++)t=e(t,n[r]);return t},mn["catch"]=mn.catchError=mn.catchException=function(e){return"function"==typeof e?M(this,e):Hn([this,e])};var Hn=_n.catchError=_n["catch"]=_n.catchException=function(){var e=[];if(Array.isArray(arguments[0]))e=arguments[0];else for(var t=0,n=arguments.length;n>t;t++)e.push(arguments[t]);return Rn(e).catchError()};mn.combineLatest=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];return Array.isArray(t[0])?t[0].unshift(this):t.unshift(this),Kn.apply(this,t)};var Kn=_n.combineLatest=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=t.pop();return Array.isArray(t[0])&&(t=t[0]),new Zr(function(e){function n(t){if(a[t]=!0,u||(u=a.every(Oe))){try{var n=r.apply(null,l)}catch(i){return e.onError(i)}e.onNext(n)}else c.filter(function(e,n){return n!==t}).every(Oe)&&e.onCompleted()}function i(t){c[t]=!0,c.every(Oe)&&e.onCompleted()}for(var o=t.length,s=function(){return!1},a=g(o,s),u=!1,c=g(o,s),l=new Array(o),d=new Array(o),f=0;o>f;f++)!function(r){var o=t[r],s=new Xt;Be(o)&&(o=Un(o)),s.setDisposable(o.subscribe(function(e){l[r]=e,n(r)},function(t){e.onError(t)},function(){i(r)})),d[r]=s}(f);return new Zt(d)},this)};mn.concat=function(){for(var e=[],t=0,n=arguments.length;n>t;t++)e.push(arguments[t]);return e.unshift(this),er.apply(null,e)};var $n=function(e){function t(t){this.sources=t,e.call(this)}function n(e,t){this.sources=e,this.o=t}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new n(this.sources,e);return t.run()},n.prototype.run=function(){var e,t=new Yt,n=this.sources,r=n.length,i=this.o,o=tn.scheduleRecursiveWithState(0,function(o,s){if(!e){if(o===r)return i.onCompleted();var a=n[o];Be(a)&&(a=Un(a));var u=new Xt;t.setDisposable(u),u.setDisposable(a.subscribe(function(e){i.onNext(e)},function(e){i.onError(e)},function(){s(o+1)}))}});return new Zt(t,o,Vt(function(){e=!0}))},t}(xn),er=_n.concat=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{e=new Array(arguments.length);for(var t=0,n=arguments.length;n>t;t++)e[t]=arguments[t]}return new $n(e)};mn.concatAll=mn.concatObservable=function(){return this.merge(1)};var tr=function(e){function t(t,n){this.source=t,this.maxConcurrent=n,e.call(this)}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new Zt;return t.add(this.source.subscribe(new nr(e,this.maxConcurrent,t))),t},t}(xn),nr=function(){function e(e,t,n){this.o=e,this.max=t,this.g=n,this.done=!1,this.q=[],this.activeCount=0,this.isStopped=!1}function t(e,t){this.parent=e,this.sad=t,this.isStopped=!1}return e.prototype.handleSubscribe=function(e){var n=new Xt;this.g.add(n),Be(e)&&(e=Un(e)),n.setDisposable(e.subscribe(new t(this,n)))},e.prototype.onNext=function(e){this.isStopped||(this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(e)):this.q.push(e))},e.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.done=!0,0===this.activeCount&&this.o.onCompleted())},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t.prototype.onNext=function(e){this.isStopped||this.parent.o.onNext(e)},t.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.parent.o.onError(e))},t.prototype.onCompleted=function(){if(!this.isStopped){this.isStopped=!0;var e=this.parent;e.g.remove(this.sad),e.q.length>0?e.handleSubscribe(e.q.shift()):(e.activeCount--,e.done&&0===e.activeCount&&e.o.onCompleted())}},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(e),!0)},e}();mn.merge=function(e){return"number"!=typeof e?rr(this,e):new tr(this,e)};var rr=_n.merge=function(){var e,t,n=[],r=arguments.length;if(arguments[0])if(Ht(arguments[0]))for(e=arguments[0],t=1;r>t;t++)n.push(arguments[t]);else for(e=tn,t=0;r>t;t++)n.push(arguments[t]);else for(e=tn,t=1;r>t;t++)n.push(arguments[t]);return Array.isArray(n[0])&&(n=n[0]),O(e,n).mergeAll()},ir=function(e){function t(t){this.source=t,e.call(this)}function n(e,t){this.o=e,this.g=t,this.isStopped=!1,this.done=!1}function r(e,t,n){this.parent=e,this.g=t,this.sad=n,this.isStopped=!1}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new Zt,r=new Xt;return t.add(r),r.setDisposable(this.source.subscribe(new n(e,t))),t},n.prototype.onNext=function(e){if(!this.isStopped){var t=new Xt;this.g.add(t),Be(e)&&(e=Un(e)),t.setDisposable(e.subscribe(new r(this,this.g,t)))}},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.done=!0,1===this.g.length&&this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},r.prototype.onNext=function(e){this.isStopped||this.parent.o.onNext(e)},r.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.parent.o.onError(e))},r.prototype.onCompleted=function(){if(!this.isStopped){var e=this.parent;this.isStopped=!0,e.g.remove(this.sad),e.done&&1===e.g.length&&e.o.onCompleted()}},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(e),!0)},t}(xn);mn.mergeAll=mn.mergeObservable=function(){return new ir(this)};var or=De.CompositeError=function(e){this.name="NotImplementedError",this.innerErrors=e,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};or.prototype=Error.prototype,_n.mergeDelayError=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{var t=arguments.length;e=new Array(t);for(var n=0;t>n;n++)e[n]=arguments[n]}var r=O(null,e);return new Zr(function(e){function t(){0===s.length?e.onCompleted():e.onError(1===s.length?s[0]:new or(s))}var n=new Zt,i=new Xt,o=!1,s=[];return n.add(i),i.setDisposable(r.subscribe(function(r){var i=new Xt;n.add(i),Be(r)&&(r=Un(r)),i.setDisposable(r.subscribe(function(t){e.onNext(t)},function(e){s.push(e),n.remove(i),o&&1===n.length&&t()},function(){n.remove(i),o&&1===n.length&&t()}))},function(e){s.push(e),o=!0,1===n.length&&t()},function(){o=!0,1===n.length&&t()})),n})},mn.onErrorResumeNext=function(e){if(!e)throw new Error("Second observable is required");return sr([this,e])};var sr=_n.onErrorResumeNext=function(){var e=[];if(Array.isArray(arguments[0]))e=arguments[0];else for(var t=0,n=arguments.length;n>t;t++)e.push(arguments[t]);return new Zr(function(t){var n=0,r=new Yt,i=tn.scheduleRecursive(function(i){var o,s;n<e.length?(o=e[n++],Be(o)&&(o=Un(o)),s=new Xt,r.setDisposable(s),s.setDisposable(o.subscribe(t.onNext.bind(t),i,i))):t.onCompleted()});return new Zt(r,i)})};mn.skipUntil=function(e){var t=this;return new Zr(function(n){var r=!1,i=new Zt(t.subscribe(function(e){r&&n.onNext(e)},function(e){n.onError(e)},function(){r&&n.onCompleted()}));Be(e)&&(e=Un(e));var o=new Xt;return i.add(o),o.setDisposable(e.subscribe(function(){r=!0,o.dispose()},function(e){n.onError(e)},function(){o.dispose()})),i},t)};var ar=function(e){function t(t){this.source=t,e.call(this)}function n(e,t){this.o=e,this.inner=t,this.stopped=!1,this.latest=0,this.hasLatest=!1,this.isStopped=!1}function r(e,t){this.parent=e,this.id=t,this.isStopped=!1}return Dt(t,e),t.prototype.subscribeCore=function(e){var t=new Yt,r=this.source.subscribe(new n(e,t));return new Zt(r,t)},n.prototype.onNext=function(e){if(!this.isStopped){var t=new Xt,n=++this.latest;this.hasLatest=!0,this.inner.setDisposable(t),Be(e)&&(e=Un(e)),t.setDisposable(e.subscribe(new r(this,n)))}},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.stopped=!0,!this.hasLatest&&this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},r.prototype.onNext=function(e){this.isStopped||this.parent.latest===this.id&&this.parent.o.onNext(e)},r.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.parent.latest===this.id&&this.parent.o.onError(e))},r.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.isStopped&&this.parent.o.onCompleted()))},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(e),!0)},t}(xn);mn["switch"]=mn.switchLatest=function(){return new ar(this)};var ur=function(e){function t(t,n){this.source=t,this.other=Be(n)?Un(n):n,e.call(this)}function n(e){this.o=e,this.isStopped=!1}return Dt(t,e),t.prototype.subscribeCore=function(e){return new Zt(this.source.subscribe(e),this.other.subscribe(new n(e)))},n.prototype.onNext=function(e){this.isStopped||this.o.onCompleted()},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){!this.isStopped&&(this.isStopped=!0)},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(xn);mn.takeUntil=function(e){return new ur(this,e)},mn.withLatestFrom=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=t.pop(),i=this;return Array.isArray(t[0])&&(t=t[0]),new Zr(function(e){for(var n=t.length,o=g(n,Z),s=!1,a=new Array(n),u=new Array(n+1),c=0;n>c;c++)!function(n){var r=t[n],i=new Xt;Be(r)&&(r=Un(r)),i.setDisposable(r.subscribe(function(e){a[n]=e,o[n]=!0,s=o.every(Oe)},function(t){e.onError(t)},Ae)),u[n]=i}(c);var l=new Xt;return l.setDisposable(i.subscribe(function(t){var n=[t].concat(a);if(s){var i=w(r).apply(null,n);return i===It?e.onError(i.e):void e.onNext(i)}},function(t){e.onError(t)},function(){e.onCompleted()})),u[n]=l,new Zt(u)},this)},mn.zip=function(){if(Array.isArray(arguments[0]))return B.apply(this,arguments);for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=this,i=t.pop();return t.unshift(r),new Zr(function(e){for(var n=t.length,o=g(n,L),s=g(n,Z),a=new Array(n),u=0;n>u;u++)!function(n){var u=t[n],c=new Xt;Be(u)&&(u=Un(u)),c.setDisposable(u.subscribe(function(t){if(o[n].push(t),o.every(function(e){return e.length>0})){var a=o.map(function(e){return e.shift()}),u=w(i).apply(r,a);if(u===It)return e.onError(u.e);e.onNext(u)}else s.filter(function(e,t){return t!==n}).every(Oe)&&e.onCompleted()},function(t){e.onError(t)},function(){s[n]=!0,s.every(Oe)&&e.onCompleted()})),a[n]=c}(u);return new Zt(a)},r)},_n.zip=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=t.shift();return r.zip.apply(r,t)},_n.zipArray=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{var t=arguments.length;e=new Array(t);for(var n=0;t>n;n++)e[n]=arguments[n]}return new Zr(function(t){for(var n=e.length,r=g(n,V),i=g(n,Z),o=new Array(n),s=0;n>s;s++)!function(n){o[n]=new Xt,o[n].setDisposable(e[n].subscribe(function(e){if(r[n].push(e),r.every(function(e){return e.length>0})){var o=r.map(function(e){return e.shift()});t.onNext(o)}else if(i.filter(function(e,t){return t!==n}).every(Oe))return t.onCompleted()},function(e){t.onError(e)},function(){i[n]=!0,i.every(Oe)&&t.onCompleted()}))}(s);return new Zt(o)})},mn.asObservable=function(){var e=this;return new Zr(function(t){return e.subscribe(t)},e)},mn.bufferWithCount=function(e,t){return"number"!=typeof t&&(t=e),this.windowWithCount(e,t).selectMany(function(e){return e.toArray()}).where(function(e){return e.length>0})},mn.dematerialize=function(){var e=this;return new Zr(function(t){return e.subscribe(function(e){return e.accept(t)},function(e){t.onError(e)},function(){t.onCompleted()})},this)},mn.distinctUntilChanged=function(e,t){var n=this;return t||(t=We),new Zr(function(r){var i,o=!1;return n.subscribe(function(n){var s=n;if(e&&(s=w(e)(n),s===It))return r.onError(s.e);if(o){var a=w(t)(i,s);if(a===It)return r.onError(a.e)}o&&a||(o=!0,i=s,r.onNext(n))},function(e){r.onError(e)},function(){r.onCompleted()})},this)};var cr=function(e){function t(t,n,r,i){this.source=t,this.t=!n||Ve(n)?pn(n||Ae,r||Ae,i||Ae):n,e.call(this)}function n(e,t){this.o=e,this.t=t,this.isStopped=!1}return Dt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this.t))},n.prototype.onNext=function(e){if(!this.isStopped){var t=w(this.t.onNext).call(this.t,e);t===It&&this.o.onError(t.e),this.o.onNext(e)}},n.prototype.onError=function(e){if(!this.isStopped){this.isStopped=!0;var t=w(this.t.onError).call(this.t,e);if(t===It)return this.o.onError(t.e);this.o.onError(e)}},n.prototype.onCompleted=function(){if(!this.isStopped){this.isStopped=!0;var e=w(this.t.onCompleted).call(this.t);if(e===It)return this.o.onError(e.e);this.o.onCompleted()}},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(xn);mn["do"]=mn.tap=mn.doAction=function(e,t,n){return new cr(this,e,t,n)},mn.doOnNext=mn.tapOnNext=function(e,t){return this.tap("undefined"!=typeof t?function(n){e.call(t,n)}:e)},mn.doOnError=mn.tapOnError=function(e,t){return this.tap(Ae,"undefined"!=typeof t?function(n){e.call(t,n)}:e)},mn.doOnCompleted=mn.tapOnCompleted=function(e,t){return this.tap(Ae,null,"undefined"!=typeof t?function(){e.call(t)}:e)},mn["finally"]=mn.ensure=function(e){var t=this;return new Zr(function(n){var r;try{r=t.subscribe(n)}catch(i){throw e(),i}return Vt(function(){try{r.dispose()}catch(t){throw t}finally{e()}})},this)},mn.finallyAction=function(e){return this.ensure(e)};var lr=function(e){function t(t){this.source=t,e.call(this)}function n(e){this.o=e,this.isStopped=!1}return Dt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e))},n.prototype.onNext=Ae,n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(e),!0)},t}(xn);mn.ignoreElements=function(){return new lr(this)},mn.materialize=function(){var e=this;return new Zr(function(t){return e.subscribe(function(e){t.onNext(ln(e))},function(e){t.onNext(dn(e)),t.onCompleted()},function(){t.onNext(fn()),t.onCompleted()})},e)},mn.repeat=function(e){return jn(this,e).concat()},mn.retry=function(e){return jn(this,e).catchError()},mn.retryWhen=function(e){return jn(this).catchErrorWhen(e)};var dr=function(e){function t(t,n,r,i){this.source=t,this.accumulator=n,this.hasSeed=r,this.seed=i,e.call(this)}return Dt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new G(e,this))},t}(xn);G.prototype.onNext=function(e){if(!this.isStopped){!this.hasValue&&(this.hasValue=!0);try{this.hasAccumulation?this.accumulation=this.accumulator(this.accumulation,e):(this.accumulation=this.hasSeed?this.accumulator(this.seed,e):e,this.hasAccumulation=!0)}catch(t){return this.observer.onError(t)}this.observer.onNext(this.accumulation)}},G.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.observer.onError(e))},G.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,!this.hasValue&&this.hasSeed&&this.observer.onNext(this.seed),this.observer.onCompleted())},G.prototype.dispose=function(){this.isStopped=!0},G.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(e),!0)},mn.scan=function(){var e,t,n=!1;return 2===arguments.length?(n=!0,e=arguments[0],t=arguments[1]):t=arguments[0],new dr(this,t,n,e)},mn.skipLast=function(e){if(0>e)throw new Qe;var t=this;return new Zr(function(n){var r=[];return t.subscribe(function(t){r.push(t),r.length>e&&n.onNext(r.shift())},function(e){n.onError(e)},function(){n.onCompleted()})},t)},mn.startWith=function(){var e,t=0;arguments.length&&Ht(arguments[0])?(e=arguments[0],t=1):e=tn;for(var n=[],r=t,i=arguments.length;i>r;r++)n.push(arguments[r]);return Rn([Vn(n,e),this]).concat()},mn.takeLast=function(e){if(0>e)throw new Qe;var t=this;return new Zr(function(n){var r=[];return t.subscribe(function(t){r.push(t),r.length>e&&r.shift()},function(e){n.onError(e)},function(){for(;r.length>0;)n.onNext(r.shift());n.onCompleted()})},t)},mn.takeLastBuffer=function(e){var t=this;return new Zr(function(n){var r=[];return t.subscribe(function(t){r.push(t),r.length>e&&r.shift()},function(e){n.onError(e)},function(){n.onNext(r),n.onCompleted()})},t)},mn.windowWithCount=function(e,t){var n=this;if(+e||(e=0),Math.abs(e)===1/0&&(e=0),0>=e)throw new Qe;if(null==t&&(t=e),+t||(t=0),Math.abs(t)===1/0&&(t=0),0>=t)throw new Qe;return new Zr(function(r){function i(){var e=new Vr;u.push(e),r.onNext(Ot(e,s))}var o=new Xt,s=new Jt(o),a=0,u=[];return i(),o.setDisposable(n.subscribe(function(n){for(var r=0,o=u.length;o>r;r++)u[r].onNext(n);var s=a-e+1;s>=0&&s%t===0&&u.shift().onCompleted(),++a%t===0&&i()},function(e){for(;u.length>0;)u.shift().onError(e);r.onError(e)},function(){for(;u.length>0;)u.shift().onCompleted();r.onCompleted()})),s},n)},mn.selectConcat=mn.concatMap=function(e,t,n){return Ve(e)&&Ve(t)?this.concatMap(function(n,r){var i=e(n,r);return Be(i)&&(i=Un(i)),(rt(i)||nt(i))&&(i=Bn(i)),i.map(function(e,i){return t(n,e,r,i)})}):Ve(e)?z(this,e,n):z(this,function(){return e})},mn.concatMapObserver=mn.selectConcatObserver=function(e,t,n,r){var i=this,o=ot(e,r,2),s=ot(t,r,1),a=ot(n,r,0);return new Zr(function(e){var t=0;return i.subscribe(function(n){var r;try{r=o(n,t++)}catch(i){return void e.onError(i)}Be(r)&&(r=Un(r)),e.onNext(r)},function(t){var n;try{n=s(t)}catch(r){return void e.onError(r)}Be(n)&&(n=Un(n)),e.onNext(n),e.onCompleted()},function(){var t;try{t=a()}catch(n){return void e.onError(n)}Be(t)&&(t=Un(t)),e.onNext(t),e.onCompleted()})},this).concatAll()},mn.defaultIfEmpty=function(e){var t=this;return e===i&&(e=null),new Zr(function(n){var r=!1;return t.subscribe(function(e){r=!0,n.onNext(e)},function(e){n.onError(e)},function(){!r&&n.onNext(e),n.onCompleted()})},t)},X.prototype.push=function(e){var t=-1===F(this.set,e,this.comparer);return t&&this.set.push(e),t},mn.distinct=function(e,t){var n=this;return t||(t=We),new Zr(function(r){var i=new X(t);return n.subscribe(function(t){var n=t;if(e)try{n=e(t)}catch(o){return void r.onError(o)}i.push(n)&&r.onNext(t)},function(e){r.onError(e)},function(){r.onCompleted()})},this)},mn.groupBy=function(e,t,n){return this.groupByUntil(e,t,zn,n)},mn.groupByUntil=function(e,t,n,r){var i=this;return t||(t=Oe),r||(r=We),new Zr(function(o){function s(e){return function(t){t.onError(e)}}var a=new Ur(0,r),u=new Zt,c=new Jt(u);return u.add(i.subscribe(function(r){var i;try{i=e(r)}catch(l){return a.getValues().forEach(s(l)),void o.onError(l)}var d=!1,f=a.tryGetValue(i);if(f||(f=new Vr,a.set(i,f),d=!0),d){var h=new Lr(i,f,c),p=new Lr(i,f);try{duration=n(p)}catch(l){return a.getValues().forEach(s(l)),void o.onError(l)}o.onNext(h);var m=new Xt;u.add(m);var v=function(){a.remove(i)&&f.onCompleted(),u.remove(m)};m.setDisposable(duration.take(1).subscribe(Ae,function(e){a.getValues().forEach(s(e)),o.onError(e)},v))}var b;try{b=t(r)}catch(l){return a.getValues().forEach(s(l)),void o.onError(l)}f.onNext(b)},function(e){a.getValues().forEach(s(e)),o.onError(e)},function(){a.getValues().forEach(function(e){e.onCompleted()}),o.onCompleted()})),c},i)};var fr=function(e){function t(t,n,r){this.source=t,this.selector=ot(n,r,3),e.call(this)}function n(e,t){return function(n,r,i){return e.call(this,t.selector(n,r,i),r,i)}}function r(e,t,n){this.o=e,this.selector=t,this.source=n,this.i=0,this.isStopped=!1}return Dt(t,e),t.prototype.internalMap=function(e,r){return new t(this.source,n(e,this),r)},t.prototype.subscribeCore=function(e){return this.source.subscribe(new r(e,this.selector,this))},r.prototype.onNext=function(e){if(!this.isStopped){var t=w(this.selector)(e,this.i++,this.source);return t===It?this.o.onError(t.e):void this.o.onNext(t)}},r.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},r.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(xn);mn.map=mn.select=function(e,t){var n="function"==typeof e?e:function(){return e};return this instanceof fr?this.internalMap(n,t):new fr(this,n,t)},mn.pluck=function(){var e=arguments,t=arguments.length;if(0===t)throw new Error("List of properties cannot be empty.");return this.map(function(n){for(var r=n,o=0;t>o;o++){var s=r[e[o]];if("undefined"==typeof s)return i;r=s}return r})},mn.selectMany=mn.flatMap=function(e,t,n){return Ve(e)&&Ve(t)?this.flatMap(function(n,r){var i=e(n,r);return Be(i)&&(i=Un(i)),(rt(i)||nt(i))&&(i=Bn(i)),i.map(function(e,i){return t(n,e,r,i)})},n):Ve(e)?Y(this,e,n):Y(this,function(){return e})},mn.flatMapObserver=mn.selectManyObserver=function(e,t,n,r){var i=this;return new Zr(function(o){var s=0;return i.subscribe(function(t){var n;try{n=e.call(r,t,s++)}catch(i){return void o.onError(i)}Be(n)&&(n=Un(n)),o.onNext(n)},function(e){var n;try{n=t.call(r,e)}catch(i){return void o.onError(i)}Be(n)&&(n=Un(n)),o.onNext(n),o.onCompleted()},function(){var e;try{e=n.call(r)}catch(t){return void o.onError(t)}Be(e)&&(e=Un(e)),o.onNext(e),o.onCompleted()})},i).mergeAll()},mn.selectSwitch=mn.flatMapLatest=mn.switchMap=function(e,t){return this.select(e,t).switchLatest()};var hr=function(e){function t(t,n){this.source=t,this.skipCount=n,e.call(this)}function n(e,t){this.c=t,this.r=t,this.o=e,this.isStopped=!1}return Dt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this.skipCount))},n.prototype.onNext=function(e){this.isStopped||(this.r<=0?this.o.onNext(e):this.r--)},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(xn);mn.skip=function(e){if(0>e)throw new Qe;return new hr(this,e)},mn.skipWhile=function(e,t){var n=this,r=ot(e,t,3);return new Zr(function(e){var t=0,i=!1;return n.subscribe(function(o){if(!i)try{i=!r(o,t++,n)}catch(s){return void e.onError(s)}i&&e.onNext(o)},function(t){e.onError(t)},function(){e.onCompleted()})},n)},mn.take=function(e,t){if(0>e)throw new Qe;if(0===e)return In(t);var n=this;return new Zr(function(t){var r=e;return n.subscribe(function(e){r-->0&&(t.onNext(e),0>=r&&t.onCompleted())},function(e){t.onError(e)},function(){t.onCompleted()})},n)},mn.takeWhile=function(e,t){var n=this,r=ot(e,t,3);return new Zr(function(e){var t=0,i=!0;return n.subscribe(function(o){if(i){try{i=r(o,t++,n)}catch(s){return void e.onError(s)}i?e.onNext(o):e.onCompleted()}},function(t){e.onError(t)},function(){e.onCompleted()})},n)};var pr=function(e){function t(t,n,r){this.source=t,this.predicate=ot(n,r,3),e.call(this)}function n(e,t){return function(n,r,i){return t.predicate(n,r,i)&&e.call(this,n,r,i)}}function r(e,t,n){this.o=e,this.predicate=t,this.source=n,this.i=0,this.isStopped=!1}return Dt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new r(e,this.predicate,this))},t.prototype.internalFilter=function(e,r){return new t(this.source,n(e,this),r)},r.prototype.onNext=function(e){if(!this.isStopped){var t=w(this.predicate)(e,this.i++,this.source);return t===It?this.o.onError(t.e):void(t&&this.o.onNext(e))}},r.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},r.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(xn);mn.filter=mn.where=function(e,t){return this instanceof pr?this.internalFilter(e,t):new pr(this,e,t)},mn.aggregate=function(){var e,t,n=!1,r=this;return 2===arguments.length?(n=!0,t=arguments[0],e=arguments[1]):e=arguments[0],new Zr(function(i){var o,s,a;return r.subscribe(function(r){!a&&(a=!0);try{o?s=e(s,r):(s=n?e(t,r):r,o=!0)}catch(u){return i.onError(u)}},function(e){i.onError(e)},function(){a&&i.onNext(s),!a&&n&&i.onNext(t),!a&&!n&&i.onError(new Je),i.onCompleted()})},r)};var mr=function(e){function t(t,n,r,i){this.source=t,this.acc=n,this.hasSeed=r,this.seed=i,e.call(this)}function n(e,t){this.o=e,this.acc=t.acc,this.hasSeed=t.hasSeed,this.seed=t.seed,this.hasAccumulation=!1,this.result=null,this.hasValue=!1,this.isStopped=!1}return Dt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this))},n.prototype.onNext=function(e){this.isStopped||(!this.hasValue&&(this.hasValue=!0),this.hasAccumulation?this.result=w(this.acc)(this.result,e):(this.result=this.hasSeed?w(this.acc)(this.seed,e):e,this.hasAccumulation=!0),this.result===It&&this.o.onError(this.result.e))},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.hasValue&&this.o.onNext(this.result),!this.hasValue&&this.hasSeed&&this.o.onNext(this.seed),!this.hasValue&&!this.hasSeed&&this.o.onError(new Je),this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(xn);mn.reduce=function(e){var t=!1;if(2===arguments.length){t=!0;var n=arguments[1]}return new mr(this,e,t,n)},mn.some=function(e,t){var n=this;return e?n.filter(e,t).some():new Zr(function(e){return n.subscribe(function(){e.onNext(!0),e.onCompleted()},function(t){e.onError(t)},function(){e.onNext(!1),e.onCompleted()})},n)},mn.any=function(){return this.some.apply(this,arguments)},mn.isEmpty=function(){return this.any().map(Le)},mn.every=function(e,t){return this.filter(function(t){return!e(t)},t).some().map(Le)},mn.all=function(){return this.every.apply(this,arguments)},mn.includes=function(e,t){function n(e,t){return 0===e&&0===t||e===t||isNaN(e)&&isNaN(t)}var r=this;return new Zr(function(i){var o=0,s=+t||0;return Math.abs(s)===1/0&&(s=0),0>s?(i.onNext(!1),i.onCompleted(),Gt):r.subscribe(function(t){o++>=s&&n(t,e)&&(i.onNext(!0),i.onCompleted())},function(e){i.onError(e)},function(){i.onNext(!1),i.onCompleted()})},this)},mn.contains=function(e,t){mn.includes(e,t)},mn.count=function(e,t){return e?this.filter(e,t).count():this.reduce(function(e){return e+1},0)},mn.indexOf=function(e,t){var n=this;return new Zr(function(r){var i=0,o=+t||0;return Math.abs(o)===1/0&&(o=0),0>o?(r.onNext(-1),r.onCompleted(),Gt):n.subscribe(function(t){i>=o&&t===e&&(r.onNext(i),r.onCompleted()),i++},function(e){r.onError(e)},function(){r.onNext(-1),r.onCompleted()})},n)},mn.sum=function(e,t){return e&&Ve(e)?this.map(e,t).sum():this.reduce(function(e,t){return e+t},0)},mn.minBy=function(e,t){return t||(t=Me),J(this,e,function(e,n){return-1*t(e,n)})},mn.min=function(e){return this.minBy(Oe,e).map(function(e){return q(e)})},mn.maxBy=function(e,t){return t||(t=Me),J(this,e,t)},mn.max=function(e){return this.maxBy(Oe,e).map(function(e){return q(e)})},mn.average=function(e,t){return e&&Ve(e)?this.map(e,t).average():this.reduce(function(e,t){return{sum:e.sum+t,count:e.count+1}},{sum:0,count:0}).map(function(e){if(0===e.count)throw new Je;return e.sum/e.count})},mn.sequenceEqual=function(e,t){var n=this;return t||(t=We),new Zr(function(r){var i=!1,o=!1,s=[],a=[],u=n.subscribe(function(e){var n,i;if(a.length>0){i=a.shift();try{n=t(i,e)}catch(u){return void r.onError(u)}n||(r.onNext(!1),r.onCompleted())}else o?(r.onNext(!1),r.onCompleted()):s.push(e)},function(e){r.onError(e)},function(){i=!0,0===s.length&&(a.length>0?(r.onNext(!1),r.onCompleted()):o&&(r.onNext(!0),r.onCompleted()))});(rt(e)||nt(e))&&(e=Bn(e)),Be(e)&&(e=Un(e));var c=e.subscribe(function(e){var n;if(s.length>0){var o=s.shift();try{n=t(o,e)}catch(u){return void r.onError(u)}n||(r.onNext(!1),r.onCompleted())}else i?(r.onNext(!1),r.onCompleted()):a.push(e)},function(e){r.onError(e)},function(){o=!0,0===a.length&&(s.length>0?(r.onNext(!1),r.onCompleted()):i&&(r.onNext(!0),r.onCompleted()))});return new Zt(u,c)},n)},mn.elementAt=function(e){return Q(this,e,!1)},mn.elementAtOrDefault=function(e,t){return Q(this,e,!0,t)},mn.single=function(e,t){return e&&Ve(e)?this.where(e,t).single():P(this,!1)},mn.singleOrDefault=function(e,t,n){return e&&Ve(e)?this.filter(e,n).singleOrDefault(null,t):P(this,!0,t)},mn.first=function(e,t){return e?this.where(e,t).first():H(this,!1)},mn.firstOrDefault=function(e,t,n){return e?this.where(e).firstOrDefault(null,t):H(this,!0,t)},mn.last=function(e,t){
return e?this.where(e,t).last():K(this,!1)},mn.lastOrDefault=function(e,t,n){return e?this.where(e,n).lastOrDefault(null,t):K(this,!0,t)},mn.find=function(e,t){return $(this,e,t,!1)},mn.findIndex=function(e,t){return $(this,e,t,!0)},mn.toSet=function(){if("undefined"==typeof je.Set)throw new TypeError;var e=this;return new Zr(function(t){var n=new je.Set;return e.subscribe(function(e){n.add(e)},function(e){t.onError(e)},function(){t.onNext(n),t.onCompleted()})},e)},mn.toMap=function(e,t){if("undefined"==typeof je.Map)throw new TypeError;var n=this;return new Zr(function(r){var i=new je.Map;return n.subscribe(function(n){var o;try{o=e(n)}catch(s){return void r.onError(s)}var a=n;if(t)try{a=t(n)}catch(s){return void r.onError(s)}i.set(o,a)},function(e){r.onError(e)},function(){r.onNext(i),r.onCompleted()})},n)};var vr="function",br="throw",jt=De.internals.isObject,gr=De.spawn=function(e){var t=oe(e);return function(n){function r(e,t){an.schedule(n.bind(o,e,t))}function i(e,t){var n;if(arguments.length>2)for(var t=[],a=1,u=arguments.length;u>a;a++)t.push(arguments[a]);if(e)try{n=s[br](e)}catch(c){return r(c)}if(!e)try{n=s.next(t)}catch(c){return r(c)}if(n.done)return r(null,n.value);if(n.value=ee(n.value,o),typeof n.value!==vr)i(new TypeError("Rx.spawn only supports a function, Promise, Observable, Object or Array."));else{var l=!1;try{n.value.call(o,function(){l||(l=!0,i.apply(o,arguments))})}catch(c){an.schedule(function(){l||(l=!0,i.call(o,c))})}}}var o=this,s=e;if(t){for(var a=[],u=0,c=arguments.length;c>u;u++)a.push(arguments[u]);var c=a.length,l=c&&typeof a[c-1]===vr;n=l?a.pop():ae,s=e.apply(this,a)}else n=n||ae;i()}};_n.start=function(e,t,n){return yr(e,t,n)()};var yr=_n.toAsync=function(e,t,n){return Ht(n)||(n=an),function(){var r=arguments,i=new Gr;return n.schedule(function(){var n;try{n=e.apply(t,r)}catch(o){return void i.onError(o)}i.onNext(n),i.onCompleted()}),i.asObservable()}};_n.fromCallback=function(e,t,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;r>o;o++)i[o]=arguments[o];return new Zr(function(r){function o(){for(var e=arguments.length,i=new Array(e),o=0;e>o;o++)i[o]=arguments[o];if(n){try{i=n.apply(t,i)}catch(s){return r.onError(s)}r.onNext(i)}else i.length<=1?r.onNext.apply(r,i):r.onNext(i);r.onCompleted()}i.push(o),e.apply(t,i)}).publishLast().refCount()}},_n.fromNodeCallback=function(e,t,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;r>o;o++)i[o]=arguments[o];return new Zr(function(r){function o(e){if(e)return void r.onError(e);for(var i=arguments.length,o=[],s=1;i>s;s++)o[s-1]=arguments[s];if(n){try{o=n.apply(t,o)}catch(a){return r.onError(a)}r.onNext(o)}else o.length<=1?r.onNext.apply(r,o):r.onNext(o);r.onCompleted()}i.push(o),e.apply(t,i)}).publishLast().refCount()}},De.config.useNativeEvents=!1,_n.fromEvent=function(e,t,n){return e.addListener?wr(function(n){e.addListener(t,n)},function(n){e.removeListener(t,n)},n):De.config.useNativeEvents||"function"!=typeof e.on||"function"!=typeof e.off?new Zr(function(r){return ce(e,t,function(e){var t=e;if(n)try{t=n(arguments)}catch(i){return r.onError(i)}r.onNext(t)})}).publish().refCount():wr(function(n){e.on(t,n)},function(n){e.off(t,n)},n)};var wr=_n.fromEventPattern=function(e,t,n){return new Zr(function(r){function i(e){var t=e;if(n)try{t=n(arguments)}catch(i){return r.onError(i)}r.onNext(t)}var o=e(i);return Vt(function(){t&&t(i,o)})}).publish().refCount()};_n.startAsync=function(e){var t;try{t=e()}catch(n){return Pn(n)}return Un(t)};var _r=function(e){function t(e){var t=this.source.publish(),n=t.subscribe(e),r=Gt,i=this.pauser.distinctUntilChanged().subscribe(function(e){e?r=t.connect():(r.dispose(),r=Gt)});return new Zt(n,r,i)}function n(n,r){this.source=n,this.controller=new Vr,this.pauser=r&&r.subscribe?this.controller.merge(r):this.controller,e.call(this,t,n)}return Dt(n,e),n.prototype.pause=function(){this.controller.onNext(!1)},n.prototype.resume=function(){this.controller.onNext(!0)},n}(_n);mn.pausable=function(e){return new _r(this,e)};var xr=function(e){function t(e){function t(){for(;r.length>0;)e.onNext(r.shift())}var n,r=[],o=le(this.source,this.pauser.distinctUntilChanged().startWith(!1),function(e,t){return{data:e,shouldFire:t}}).subscribe(function(o){n!==i&&o.shouldFire!=n?(n=o.shouldFire,o.shouldFire&&t()):(n=o.shouldFire,o.shouldFire?e.onNext(o.data):r.push(o.data))},function(n){t(),e.onError(n)},function(){t(),e.onCompleted()});return o}function n(n,r){this.source=n,this.controller=new Vr,this.pauser=r&&r.subscribe?this.controller.merge(r):this.controller,e.call(this,t,n)}return Dt(n,e),n.prototype.pause=function(){this.controller.onNext(!1)},n.prototype.resume=function(){this.controller.onNext(!0)},n}(_n);mn.pausableBuffered=function(e){return new xr(this,e)};var kr=function(e){function t(e){return this.source.subscribe(e)}function n(n,r,i){e.call(this,t,n),this.subject=new Sr(r,i),this.source=n.multicast(this.subject).refCount()}return Dt(n,e),n.prototype.request=function(e){return this.subject.request(null==e?-1:e)},n}(_n),Sr=function(e){function t(e){return this.subject.subscribe(e)}function n(n,r){null==n&&(n=!0),e.call(this,t),this.subject=new Vr,this.enableQueue=n,this.queue=n?[]:null,this.requestedCount=0,this.requestedDisposable=Gt,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=r||nn}return Dt(n,e),At(n.prototype,hn,{onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(cn.createOnCompleted()):this.subject.onCompleted()},onError:function(e){this.hasFailed=!0,this.error=e,this.enableQueue&&0!==this.queue.length?this.queue.push(cn.createOnError(e)):this.subject.onError(e)},onNext:function(e){var t=!1;0===this.requestedCount?this.enableQueue&&this.queue.push(cn.createOnNext(e)):(-1!==this.requestedCount&&0===this.requestedCount--&&this.disposeCurrentRequest(),t=!0),t&&this.subject.onNext(e)},_processRequest:function(e){if(this.enableQueue){for(;this.queue.length>=e&&e>0||this.queue.length>0&&"N"!==this.queue[0].kind;){var t=this.queue.shift();t.accept(this.subject),"N"===t.kind?e--:(this.disposeCurrentRequest(),this.queue=[])}return{numberOfItems:e,returnValue:0!==this.queue.length}}return{numberOfItems:e,returnValue:!1}},request:function(e){this.disposeCurrentRequest();var t=this;return this.requestedDisposable=this.scheduler.scheduleWithState(e,function(e,n){var r=t._processRequest(n),i=r.numberOfItems;r.returnValue||(t.requestedCount=i,t.requestedDisposable=Vt(function(){t.requestedCount=0}))}),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable.dispose(),this.requestedDisposable=Gt}}),n}(_n);mn.controlled=function(e,t){return e&&Ht(e)&&(t=e,e=!0),null==e&&(e=!0),new kr(this,e,t)};var Cr=function(e){function t(e){this.subscription=this.source.subscribe(new r(e,this,this.subscription));var t=this;return an.schedule(function(){t.source.request(1)}),this.subscription}function n(n){e.call(this,t,n),this.source=n}Dt(n,e);var r=function(e){function t(t,n,r){e.call(this),this.observer=t,this.observable=n,this.cancel=r}Dt(t,e);var n=t.prototype;return n.completed=function(){this.observer.onCompleted(),this.dispose()},n.error=function(e){this.observer.onError(e),this.dispose()},n.next=function(e){this.observer.onNext(e);var t=this;an.schedule(function(){t.observable.source.request(1)})},n.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),e.prototype.dispose.call(this)},t}(vn);return n}(_n);kr.prototype.stopAndWait=function(){return new Cr(this)};var Er=function(e){function t(e){this.subscription=this.source.subscribe(new r(e,this,this.subscription));var t=this;return an.schedule(function(){t.source.request(t.windowSize)}),this.subscription}function n(n,r){e.call(this,t,n),this.source=n,this.windowSize=r}Dt(n,e);var r=function(e){function t(e,t,n){this.observer=e,this.observable=t,this.cancel=n,this.received=0}Dt(t,e);var n=t.prototype;return n.completed=function(){this.observer.onCompleted(),this.dispose()},n.error=function(e){this.observer.onError(e),this.dispose()},n.next=function(e){if(this.observer.onNext(e),this.received=++this.received%this.observable.windowSize,0===this.received){var t=this;an.schedule(function(){t.observable.source.request(t.observable.windowSize)})}},n.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),e.prototype.dispose.call(this)},t}(vn);return n}(_n);kr.prototype.windowed=function(e){return new Er(this,e)},mn.pipe=function(e){function t(){n.resume()}var n=this.pausableBuffered();return e.addListener("drain",t),n.subscribe(function(t){!e.write(String(t))&&n.pause()},function(t){e.emit("error",t)},function(){!e._isStdio&&e.end(),e.removeListener("drain",t)}),n.resume(),e},mn.multicast=function(e,t){var n=this;return"function"==typeof e?new Zr(function(r){var i=n.multicast(e());return new Zt(t(i).subscribe(r),i.connect())},n):new Tr(n,e)},mn.publish=function(e){return e&&Ve(e)?this.multicast(function(){return new Vr},e):this.multicast(new Vr)},mn.share=function(){return this.publish().refCount()},mn.publishLast=function(e){return e&&Ve(e)?this.multicast(function(){return new Gr},e):this.multicast(new Gr)},mn.publishValue=function(e,t){return 2===arguments.length?this.multicast(function(){return new Nr(t)},e):this.multicast(new Nr(e))},mn.shareValue=function(e){return this.publishValue(e).refCount()},mn.replay=function(e,t,n,r){return e&&Ve(e)?this.multicast(function(){return new Rr(t,n,r)},e):this.multicast(new Rr(t,n,r))},mn.shareReplay=function(e,t,n){return this.replay(null,e,t,n).refCount()};var jr=function(e,t){this.subject=e,this.observer=t};jr.prototype.dispose=function(){if(!this.subject.isDisposed&&null!==this.observer){var e=this.subject.observers.indexOf(this.observer);this.subject.observers.splice(e,1),this.observer=null}};var Nr=De.BehaviorSubject=function(e){function t(e){return Ft(this),this.isStopped?(this.hasError?e.onError(this.error):e.onCompleted(),Gt):(this.observers.push(e),e.onNext(this.value),new jr(this,e))}function n(n){e.call(this,t),this.value=n,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return Dt(n,e),At(n.prototype,hn,{getValue:function(){if(Ft(this),this.hasError)throw this.error;return this.value},hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(Ft(this),!this.isStopped){this.isStopped=!0;for(var e=0,t=o(this.observers),n=t.length;n>e;e++)t[e].onCompleted();this.observers.length=0}},onError:function(e){if(Ft(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=e;for(var t=0,n=o(this.observers),r=n.length;r>t;t++)n[t].onError(e);this.observers.length=0}},onNext:function(e){if(Ft(this),!this.isStopped){this.value=e;for(var t=0,n=o(this.observers),r=n.length;r>t;t++)n[t].onNext(e)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.exception=null}}),n}(_n),Rr=De.ReplaySubject=function(e){function t(e,t){return Vt(function(){t.dispose(),!e.isDisposed&&e.observers.splice(e.observers.indexOf(t),1)})}function n(e){var n=new yn(this.scheduler,e),r=t(this,n);Ft(this),this._trim(this.scheduler.now()),this.observers.push(n);for(var i=0,o=this.q.length;o>i;i++)n.onNext(this.q[i].value);return this.hasError?n.onError(this.error):this.isStopped&&n.onCompleted(),n.ensureActive(),r}function r(t,r,o){this.bufferSize=null==t?i:t,this.windowSize=null==r?i:r,this.scheduler=o||nn,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,e.call(this,n)}var i=Math.pow(2,53)-1;return Dt(r,e),At(r.prototype,hn.prototype,{hasObservers:function(){return this.observers.length>0},_trim:function(e){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&e-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(e){if(Ft(this),!this.isStopped){var t=this.scheduler.now();this.q.push({interval:t,value:e}),this._trim(t);for(var n=0,r=o(this.observers),i=r.length;i>n;n++){var s=r[n];s.onNext(e),s.ensureActive()}}},onError:function(e){if(Ft(this),!this.isStopped){this.isStopped=!0,this.error=e,this.hasError=!0;var t=this.scheduler.now();this._trim(t);for(var n=0,r=o(this.observers),i=r.length;i>n;n++){var s=r[n];s.onError(e),s.ensureActive()}this.observers.length=0}},onCompleted:function(){if(Ft(this),!this.isStopped){this.isStopped=!0;var e=this.scheduler.now();this._trim(e);for(var t=0,n=o(this.observers),r=n.length;r>t;t++){var i=n[t];i.onCompleted(),i.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),r}(_n),Tr=De.ConnectableObservable=function(e){function t(t,n){var r,i=!1,o=t.asObservable();this.connect=function(){return i||(i=!0,r=new Zt(o.subscribe(n),Vt(function(){i=!1}))),r},e.call(this,function(e){return n.subscribe(e)})}return Dt(t,e),t.prototype.refCount=function(){var e,t=0,n=this;return new Zr(function(r){var i=1===++t,o=n.subscribe(r);return i&&(e=n.connect()),function(){o.dispose(),0===--t&&e.dispose()}})},t}(_n);mn.singleInstance=function(){function e(){return r||(r=!0,t=n["finally"](function(){r=!1}).publish().refCount()),t}var t,n=this,r=!1;return new Zr(function(t){return e().subscribe(t)})};var Ur=function(){function e(e){if(0===(1&e))return 2===e;for(var t=Math.sqrt(e),n=3;t>=n;){if(e%n===0)return!1;n+=2}return!0}function t(t){var n,r,i;for(n=0;n<a.length;++n)if(r=a[n],r>=t)return r;for(i=1|t;i<a[a.length-1];){if(e(i))return i;i+=2}return t}function n(e){var t=757602046;if(!e.length)return t;for(var n=0,r=e.length;r>n;n++){var i=e.charCodeAt(n);t=(t<<5)-t+i,t&=t}return t}function r(e){var t=668265261;return e=61^e^e>>>16,e+=e<<3,e^=e>>>4,e*=t,e^=e>>>15}function o(){return{key:null,value:null,next:0,hashCode:0}}function s(e,t){if(0>e)throw new Qe;e>0&&this._initialize(e),this.comparer=t||We,this.freeCount=0,this.size=0,this.freeList=-1}var a=[1,3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143,4194301,8388593,16777213,33554393,67108859,134217689,268435399,536870909,1073741789,2147483647],u="no such key",c="duplicate key",l=function(){var e=0;return function(t){if(null==t)throw new Error(u);if("string"==typeof t)return n(t);if("number"==typeof t)return r(t);if("boolean"==typeof t)return t===!0?1:0;if(t instanceof Date)return r(t.valueOf());if(t instanceof RegExp)return n(t.toString());if("function"==typeof t.valueOf){var i=t.valueOf();if("number"==typeof i)return r(i);if("string"==typeof i)return n(i)}if(t.hashCode)return t.hashCode();var o=17*e++;return t.hashCode=function(){return o},o}}(),d=s.prototype;return d._initialize=function(e){var n,r=t(e);for(this.buckets=new Array(r),this.entries=new Array(r),n=0;r>n;n++)this.buckets[n]=-1,this.entries[n]=o();this.freeList=-1},d.add=function(e,t){this._insert(e,t,!0)},d._insert=function(e,t,n){this.buckets||this._initialize(0);for(var r,i=2147483647&l(e),o=i%this.buckets.length,s=this.buckets[o];s>=0;s=this.entries[s].next)if(this.entries[s].hashCode===i&&this.comparer(this.entries[s].key,e)){if(n)throw new Error(c);return void(this.entries[s].value=t)}this.freeCount>0?(r=this.freeList,this.freeList=this.entries[r].next,--this.freeCount):(this.size===this.entries.length&&(this._resize(),o=i%this.buckets.length),r=this.size,++this.size),this.entries[r].hashCode=i,this.entries[r].next=this.buckets[o],this.entries[r].key=e,this.entries[r].value=t,this.buckets[o]=r},d._resize=function(){var e=t(2*this.size),n=new Array(e);for(i=0;i<n.length;++i)n[i]=-1;var r=new Array(e);for(i=0;i<this.size;++i)r[i]=this.entries[i];for(var i=this.size;e>i;++i)r[i]=o();for(var s=0;s<this.size;++s){var a=r[s].hashCode%e;r[s].next=n[a],n[a]=s}this.buckets=n,this.entries=r},d.remove=function(e){if(this.buckets)for(var t=2147483647&l(e),n=t%this.buckets.length,r=-1,i=this.buckets[n];i>=0;i=this.entries[i].next){if(this.entries[i].hashCode===t&&this.comparer(this.entries[i].key,e))return 0>r?this.buckets[n]=this.entries[i].next:this.entries[r].next=this.entries[i].next,this.entries[i].hashCode=-1,this.entries[i].next=this.freeList,this.entries[i].key=null,this.entries[i].value=null,this.freeList=i,++this.freeCount,!0;r=i}return!1},d.clear=function(){var e,t;if(!(this.size<=0)){for(e=0,t=this.buckets.length;t>e;++e)this.buckets[e]=-1;for(e=0;e<this.size;++e)this.entries[e]=o();this.freeList=-1,this.size=0}},d._findEntry=function(e){if(this.buckets)for(var t=2147483647&l(e),n=this.buckets[t%this.buckets.length];n>=0;n=this.entries[n].next)if(this.entries[n].hashCode===t&&this.comparer(this.entries[n].key,e))return n;return-1},d.count=function(){return this.size-this.freeCount},d.tryGetValue=function(e){var t=this._findEntry(e);return t>=0?this.entries[t].value:i},d.getValues=function(){var e=0,t=[];if(this.entries)for(var n=0;n<this.size;n++)this.entries[n].hashCode>=0&&(t[e++]=this.entries[n].value);return t},d.get=function(e){var t=this._findEntry(e);if(t>=0)return this.entries[t].value;throw new Error(u)},d.set=function(e,t){this._insert(e,t,!1)},d.containskey=function(e){return this._findEntry(e)>=0},s}();mn.join=function(e,t,n,r){var i=this;return new Zr(function(o){var s=new Zt,a=!1,u=!1,c=0,l=0,d=new Ur,f=new Ur;return s.add(i.subscribe(function(e){var n=c++,i=new Xt;d.add(n,e),s.add(i);var u,l=function(){d.remove(n)&&0===d.count()&&a&&o.onCompleted(),s.remove(i)};try{u=t(e)}catch(h){return void o.onError(h)}i.setDisposable(u.take(1).subscribe(Ae,o.onError.bind(o),l)),f.getValues().forEach(function(t){var n;try{n=r(e,t)}catch(i){return void o.onError(i)}o.onNext(n)})},o.onError.bind(o),function(){a=!0,(u||0===d.count())&&o.onCompleted()})),s.add(e.subscribe(function(e){var t=l++,i=new Xt;f.add(t,e),s.add(i);var a,c=function(){f.remove(t)&&0===f.count()&&u&&o.onCompleted(),s.remove(i)};try{a=n(e)}catch(h){return void o.onError(h)}i.setDisposable(a.take(1).subscribe(Ae,o.onError.bind(o),c)),d.getValues().forEach(function(t){var n;try{n=r(t,e)}catch(i){return void o.onError(i)}o.onNext(n)})},o.onError.bind(o),function(){u=!0,(a||0===f.count())&&o.onCompleted()})),s},i)},mn.groupJoin=function(e,t,n,r){var i=this;return new Zr(function(o){function s(e){return function(t){t.onError(e)}}var a=new Zt,u=new Jt(a),c=new Ur,l=new Ur,d=0,f=0;return a.add(i.subscribe(function(e){var n=new Vr,i=d++;c.add(i,n);var f;try{f=r(e,Ot(n,u))}catch(h){return c.getValues().forEach(s(h)),void o.onError(h)}o.onNext(f),l.getValues().forEach(function(e){n.onNext(e)});var p=new Xt;a.add(p);var m,v=function(){c.remove(i)&&n.onCompleted(),a.remove(p)};try{m=t(e)}catch(h){return c.getValues().forEach(s(h)),void o.onError(h)}p.setDisposable(m.take(1).subscribe(Ae,function(e){c.getValues().forEach(s(e)),o.onError(e)},v))},function(e){c.getValues().forEach(s(e)),o.onError(e)},o.onCompleted.bind(o))),a.add(e.subscribe(function(e){var t=f++;l.add(t,e);var r=new Xt;a.add(r);var i,u=function(){l.remove(t),a.remove(r)};try{i=n(e)}catch(d){return c.getValues().forEach(s(d)),void o.onError(d)}r.setDisposable(i.take(1).subscribe(Ae,function(e){c.getValues().forEach(s(e)),o.onError(e)},u)),c.getValues().forEach(function(t){t.onNext(e)})},function(e){c.getValues().forEach(s(e)),o.onError(e)})),u},i)},mn.buffer=function(e,t){return this.window.apply(this,arguments).selectMany(function(e){return e.toArray()})},mn.window=function(e,t){return 1===arguments.length&&"function"!=typeof arguments[0]?fe.call(this,e):"function"==typeof e?he.call(this,e):de.call(this,e,t)},mn.pairwise=function(){var e=this;return new Zr(function(t){var n,r=!1;return e.subscribe(function(e){r?t.onNext([n,e]):r=!0,n=e},t.onError.bind(t),t.onCompleted.bind(t))},e)},mn.partition=function(e,t){return[this.filter(e,t),this.filter(function(n,r,i){return!e.call(t,n,r,i)})]};var Dr=function(e){function t(e,t){this.c=e,this.s=t}return Dt(t,e),t.prototype[et]=function(){var e=this;return{next:function(){return e.c()?{done:!1,value:e.s}:{done:!0,value:void 0}}}},t}(kn);mn.letBind=mn.let=function(e){return e(this)},_n["if"]=_n.ifThen=function(e,t,n){return An(function(){return n||(n=In()),Be(t)&&(t=Un(t)),Be(n)&&(n=Un(n)),"function"==typeof n.now&&(n=In(n)),e()?t:n})},_n["for"]=_n.forIn=function(e,t,n){return Rn(e,t,n).concat()};var Ar=_n["while"]=_n.whileDo=function(e,t){return Be(t)&&(t=Un(t)),pe(e,t).concat()};mn.doWhile=function(e){return er([this,Ar(e,this)])},_n["case"]=_n.switchCase=function(e,t,n){return An(function(){Be(n)&&(n=Un(n)),n||(n=In()),"function"==typeof n.now&&(n=In(n));var r=t[e()];return Be(r)&&(r=Un(r)),r||n})},mn.expand=function(e,t){Ht(t)||(t=tn);var n=this;return new Zr(function(r){var i=[],o=new Yt,s=new Zt(o),a=0,u=!1,c=function(){var n=!1;i.length>0&&(n=!u,u=!0),n&&o.setDisposable(t.scheduleRecursive(function(t){var n;if(!(i.length>0))return void(u=!1);n=i.shift();var o=new Xt;s.add(o),o.setDisposable(n.subscribe(function(t){r.onNext(t);var n=null;try{n=e(t)}catch(o){r.onError(o)}i.push(n),a++,c()},r.onError.bind(r),function(){s.remove(o),a--,0===a&&r.onCompleted()})),t()}))};return i.push(n),a++,c(),s},this)},_n.forkJoin=function(){var e=[];if(Array.isArray(arguments[0]))e=arguments[0];else for(var t=0,n=arguments.length;n>t;t++)e.push(arguments[t]);return new Zr(function(t){var n=e.length;if(0===n)return t.onCompleted(),Gt;for(var r=new Zt,i=!1,o=new Array(n),s=new Array(n),a=new Array(n),u=0;n>u;u++)!function(u){var c=e[u];Be(c)&&(c=Un(c)),r.add(c.subscribe(function(e){i||(o[u]=!0,a[u]=e)},function(e){i=!0,t.onError(e),r.dispose()},function(){if(!i){if(!o[u])return void t.onCompleted();s[u]=!0;for(var e=0;n>e;e++)if(!s[e])return;i=!0,t.onNext(a),t.onCompleted()}}))}(u);return r})},mn.forkJoin=function(e,t){var n=this;return new Zr(function(r){var i,o,s=!1,a=!1,u=!1,c=!1,l=new Xt,d=new Xt;return Be(e)&&(e=Un(e)),l.setDisposable(n.subscribe(function(e){u=!0,i=e},function(e){d.dispose(),r.onError(e)},function(){if(s=!0,a)if(u)if(c){var e;try{e=t(i,o)}catch(n){return void r.onError(n)}r.onNext(e),r.onCompleted()}else r.onCompleted();else r.onCompleted()})),d.setDisposable(e.subscribe(function(e){c=!0,o=e},function(e){l.dispose(),r.onError(e)},function(){if(a=!0,s)if(u)if(c){var e;try{e=t(i,o)}catch(n){return void r.onError(n)}r.onNext(e),r.onCompleted()}else r.onCompleted();else r.onCompleted()})),new Zt(l,d)},n)},mn.manySelect=mn.extend=function(e,t){Ht(t)||(t=tn);var n=this;return An(function(){var r;return n.map(function(e){var t=new Or(e);return r&&r.onNext(e),r=t,t}).tap(Ae,function(e){r&&r.onError(e)},function(){r&&r.onCompleted()}).observeOn(t).map(e)},n)};var Or=function(e){function t(e){var t=this,n=new Zt;return n.add(nn.schedule(function(){e.onNext(t.head),n.add(t.tail.mergeAll().subscribe(e))})),n}function n(n){e.call(this,t),this.head=n,this.tail=new Gr}return Dt(n,e),At(n.prototype,hn,{onCompleted:function(){this.onNext(_n.empty())},onError:function(e){this.onNext(_n.throwError(e))},onNext:function(e){this.tail.onNext(e),this.tail.onCompleted()}}),n}(_n),Ir=je.Map||function(){function e(){this._keys=[],this._values=[]}return e.prototype.get=function(e){var t=this._keys.indexOf(e);return-1!==t?this._values[t]:i},e.prototype.set=function(e,t){var n=this._keys.indexOf(e);-1!==n&&(this._values[n]=t),this._values[this._keys.push(e)-1]=t},e.prototype.forEach=function(e,t){for(var n=0,r=this._keys.length;r>n;n++)e.call(t,this._values[n],this._keys[n])},e}();me.prototype.and=function(e){return new me(this.patterns.concat(e))},me.prototype.thenDo=function(e){return new ve(this,e)},ve.prototype.activate=function(e,t,n){for(var r=this,i=[],o=0,s=this.expression.patterns.length;s>o;o++)i.push(be(e,this.expression.patterns[o],t.onError.bind(t)));var a=new ge(i,function(){var e;try{e=r.selector.apply(r,arguments)}catch(n){return void t.onError(n)}t.onNext(e)},function(){for(var e=0,t=i.length;t>e;e++)i[e].removeActivePlan(a);n(a)});for(o=0,s=i.length;s>o;o++)i[o].addActivePlan(a);return a},ge.prototype.dequeue=function(){this.joinObservers.forEach(function(e){e.queue.shift()})},ge.prototype.match=function(){var e,t,n=!0;for(e=0,t=this.joinObserverArray.length;t>e;e++)if(0===this.joinObserverArray[e].queue.length){n=!1;break}if(n){var r=[],i=!1;for(e=0,t=this.joinObserverArray.length;t>e;e++)r.push(this.joinObserverArray[e].queue[0]),"C"===this.joinObserverArray[e].queue[0].kind&&(i=!0);if(i)this.onCompleted();else{this.dequeue();var o=[];for(e=0,t=r.length;e<r.length;e++)o.push(r[e].value);this.onNext.apply(this,o)}}};var Wr=function(e){function t(t,n){e.call(this),this.source=t,this.onError=n,this.queue=[],this.activePlans=[],this.subscription=new Xt,this.isDisposed=!1}Dt(t,e);var n=t.prototype;return n.next=function(e){if(!this.isDisposed){if("E"===e.kind)return this.onError(e.exception);this.queue.push(e);for(var t=this.activePlans.slice(0),n=0,r=t.length;r>n;n++)t[n].match()}},n.error=Ae,n.completed=Ae,n.addActivePlan=function(e){this.activePlans.push(e)},n.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},n.removeActivePlan=function(e){this.activePlans.splice(this.activePlans.indexOf(e),1),0===this.activePlans.length&&this.dispose()},n.dispose=function(){e.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},t}(vn);mn.and=function(e){return new me([this,e])},mn.thenDo=function(e){return new me([this]).thenDo(e)},_n.when=function(){var e,t=arguments.length;if(Array.isArray(arguments[0]))e=arguments[0];else{e=new Array(t);for(var n=0;t>n;n++)e[n]=arguments[n]}return new Zr(function(t){var n=[],r=new Ir,i=pn(function(e){t.onNext(e)},function(e){r.forEach(function(t){t.onError(e)}),t.onError(e)},function(e){t.onCompleted()});try{for(var o=0,s=e.length;s>o;o++)n.push(e[o].activate(r,i,function(e){var r=n.indexOf(e);n.splice(r,1),0===n.length&&t.onCompleted()}))}catch(a){Pn(a).subscribe(t)}var u=new Zt;return r.forEach(function(e){e.subscribe(),u.add(e)}),u})};{var Mr=_n.interval=function(e,t){return xe(e,e,Ht(t)?t:an)};_n.timer=function(e,t,n){var r;return Ht(n)||(n=an),t!==i&&"number"==typeof t?r=t:Ht(t)&&(n=t),e instanceof Date&&r===i?ye(e.getTime(),n):e instanceof Date&&r!==i?(r=t,we(e.getTime(),r,n)):r===i?_e(e,n):xe(e,r,n)}}mn.delay=function(e,t){return Ht(t)||(t=an),e instanceof Date?Se(this,e.getTime(),t):ke(this,e,t)},mn.debounce=mn.throttleWithTimeout=function(e,t){Ht(t)||(t=an);var n=this;return new Zr(function(r){var i,o=new Yt,s=!1,a=0,u=n.subscribe(function(n){s=!0,i=n,a++;var u=a,c=new Xt;o.setDisposable(c),c.setDisposable(t.scheduleWithRelative(e,function(){s&&a===u&&r.onNext(i),s=!1}))},function(e){o.dispose(),r.onError(e),s=!1,a++},function(){o.dispose(),s&&r.onNext(i),r.onCompleted(),s=!1,a++});return new Zt(u,o)},this)},mn.throttle=function(e,t){return this.debounce(e,t)},mn.windowWithTime=function(e,t,n){var r,i=this;return null==t&&(r=e),Ht(n)||(n=an),"number"==typeof t?r=t:Ht(t)&&(r=e,n=t),new Zr(function(t){function o(){var e=new Xt,i=!1,s=!1;d.setDisposable(e),c===u?(i=!0,s=!0):u>c?i=!0:s=!0;var h=i?c:u,p=h-f;f=h,i&&(c+=r),s&&(u+=r),e.setDisposable(n.scheduleWithRelative(p,function(){if(s){var e=new Vr;l.push(e),t.onNext(Ot(e,a))}i&&l.shift().onCompleted(),o()}))}var s,a,u=r,c=e,l=[],d=new Yt,f=0;return s=new Zt(d),a=new Jt(s),l.push(new Vr),t.onNext(Ot(l[0],a)),o(),s.add(i.subscribe(function(e){for(var t=0,n=l.length;n>t;t++)l[t].onNext(e)},function(e){for(var n=0,r=l.length;r>n;n++)l[n].onError(e);t.onError(e)},function(){for(var e=0,n=l.length;n>e;e++)l[e].onCompleted();t.onCompleted()})),a},i)},mn.windowWithTimeOrCount=function(e,t,n){var r=this;return Ht(n)||(n=an),new Zr(function(i){function o(t){var r=new Xt;s.setDisposable(r),r.setDisposable(n.scheduleWithRelative(e,function(){if(t===l){c=0;var e=++l;d.onCompleted(),d=new Vr,i.onNext(Ot(d,u)),o(e)}}))}var s=new Yt,a=new Zt(s),u=new Jt(a),c=0,l=0,d=new Vr;return i.onNext(Ot(d,u)),o(0),a.add(r.subscribe(function(e){var n=0,r=!1;d.onNext(e),++c===t&&(r=!0,c=0,n=++l,d.onCompleted(),d=new Vr,i.onNext(Ot(d,u))),r&&o(n)},function(e){d.onError(e),i.onError(e)},function(){d.onCompleted(),i.onCompleted()})),u},r)},mn.bufferWithTime=function(e,t,n){return this.windowWithTime.apply(this,arguments).selectMany(function(e){return e.toArray()})},mn.bufferWithTimeOrCount=function(e,t,n){return this.windowWithTimeOrCount(e,t,n).selectMany(function(e){return e.toArray()})},mn.timeInterval=function(e){var t=this;return Ht(e)||(e=an),An(function(){var n=e.now();return t.map(function(t){var r=e.now(),i=r-n;return n=r,{value:t,interval:i}})})},mn.timestamp=function(e){return Ht(e)||(e=an),this.map(function(t){return{value:t,timestamp:e.now()}})},mn.sample=mn.throttleLatest=function(e,t){return Ht(t)||(t=an),"number"==typeof e?Ce(this,Mr(e,t)):Ce(this,e)},mn.timeout=function(e,t,n){(null==t||"string"==typeof t)&&(t=Pn(new Error(t||"Timeout"))),Ht(n)||(n=an);var r=this,i=e instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new Zr(function(o){function s(){var r=a;d.setDisposable(n[i](e,function(){a===r&&(Be(t)&&(t=Un(t)),c.setDisposable(t.subscribe(o)))}))}var a=0,u=new Xt,c=new Yt,l=!1,d=new Yt;return c.setDisposable(u),s(),u.setDisposable(r.subscribe(function(e){l||(a++,o.onNext(e),s())},function(e){l||(a++,o.onError(e))},function(){l||(a++,o.onCompleted())})),new Zt(c,d)},r)},_n.generateWithAbsoluteTime=function(e,t,n,r,i,o){return Ht(o)||(o=an),new Zr(function(s){var a=!0,u=!1;return o.scheduleRecursiveWithAbsoluteAndState(e,o.now(),function(e,o){u&&s.onNext(e);try{if(a?a=!1:e=n(e),u=t(e))var c=r(e),l=i(e)}catch(d){return void s.onError(d)}u?o(c,l):s.onCompleted()})})},_n.generateWithRelativeTime=function(e,t,n,r,i,o){return Ht(o)||(o=an),new Zr(function(s){var a=!0,u=!1;return o.scheduleRecursiveWithRelativeAndState(e,0,function(e,o){u&&s.onNext(e);try{if(a?a=!1:e=n(e),u=t(e))var c=r(e),l=i(e)}catch(d){return void s.onError(d)}u?o(c,l):s.onCompleted()})})},mn.delaySubscription=function(e,t){var n=e instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative",r=this;return Ht(t)||(t=an),new Zr(function(i){var o=new Yt;return o.setDisposable(t[n](e,function(){o.setDisposable(r.subscribe(i))})),o},this)},mn.delayWithSelector=function(e,t){var n,r,i=this;return Ve(e)?r=e:(n=e,r=t),new Zr(function(e){function t(){u.setDisposable(i.subscribe(function(t){var n=w(r)(t);if(n===It)return e.onError(n.e);var i=new Xt;s.add(i),i.setDisposable(n.subscribe(function(){e.onNext(t),s.remove(i),o()},function(t){e.onError(t)},function(){e.onNext(t),s.remove(i),o()}))},function(t){e.onError(t)},function(){a=!0,u.dispose(),o()}))}function o(){a&&0===s.length&&e.onCompleted()}var s=new Zt,a=!1,u=new Yt;return n?u.setDisposable(n.subscribe(t,function(t){e.onError(t)},t)):t(),new Zt(u,s)},this)},mn.timeoutWithSelector=function(e,t,n){1===arguments.length&&(t=e,e=zn()),n||(n=Pn(new Error("Timeout")));var r=this;return new Zr(function(i){function o(e){function t(){return l===r}var r=l,o=new Xt;u.setDisposable(o),o.setDisposable(e.subscribe(function(){t()&&a.setDisposable(n.subscribe(i)),o.dispose()},function(e){t()&&i.onError(e)},function(){t()&&a.setDisposable(n.subscribe(i))}))}function s(){var e=!d;return e&&l++,e}var a=new Yt,u=new Yt,c=new Xt;a.setDisposable(c);var l=0,d=!1;return o(e),c.setDisposable(r.subscribe(function(e){if(s()){i.onNext(e);var n;try{n=t(e)}catch(r){return void i.onError(r)}o(Be(n)?Un(n):n)}},function(e){s()&&i.onError(e)},function(){s()&&i.onCompleted()})),new Zt(a,u)},r)},mn.debounceWithSelector=function(e){var t=this;return new Zr(function(n){var r,i=!1,o=new Yt,s=0,a=t.subscribe(function(t){var a;try{a=e(t)}catch(u){return void n.onError(u)}Be(a)&&(a=Un(a)),i=!0,r=t,s++;var c=s,l=new Xt;o.setDisposable(l),l.setDisposable(a.subscribe(function(){i&&s===c&&n.onNext(r),i=!1,l.dispose()},n.onError.bind(n),function(){i&&s===c&&n.onNext(r),i=!1,l.dispose()}))},function(e){o.dispose(),n.onError(e),i=!1,s++},function(){o.dispose(),i&&n.onNext(r),n.onCompleted(),i=!1,s++});return new Zt(a,o)},t)},mn.throttleWithSelector=function(e){return this.debounceWithSelector(e)},mn.skipLastWithTime=function(e,t){Ht(t)||(t=an);var n=this;

return new Zr(function(r){var i=[];return n.subscribe(function(n){var o=t.now();for(i.push({interval:o,value:n});i.length>0&&o-i[0].interval>=e;)r.onNext(i.shift().value)},function(e){r.onError(e)},function(){for(var n=t.now();i.length>0&&n-i[0].interval>=e;)r.onNext(i.shift().value);r.onCompleted()})},n)},mn.takeLastWithTime=function(e,t){var n=this;return Ht(t)||(t=an),new Zr(function(r){var i=[];return n.subscribe(function(n){var r=t.now();for(i.push({interval:r,value:n});i.length>0&&r-i[0].interval>=e;)i.shift()},function(e){r.onError(e)},function(){for(var n=t.now();i.length>0;){var o=i.shift();n-o.interval<=e&&r.onNext(o.value)}r.onCompleted()})},n)},mn.takeLastBufferWithTime=function(e,t){var n=this;return Ht(t)||(t=an),new Zr(function(r){var i=[];return n.subscribe(function(n){var r=t.now();for(i.push({interval:r,value:n});i.length>0&&r-i[0].interval>=e;)i.shift()},function(e){r.onError(e)},function(){for(var n=t.now(),o=[];i.length>0;){var s=i.shift();n-s.interval<=e&&o.push(s.value)}r.onNext(o),r.onCompleted()})},n)},mn.takeWithTime=function(e,t){var n=this;return Ht(t)||(t=an),new Zr(function(r){return new Zt(t.scheduleWithRelative(e,function(){r.onCompleted()}),n.subscribe(r))},n)},mn.skipWithTime=function(e,t){var n=this;return Ht(t)||(t=an),new Zr(function(r){var i=!1;return new Zt(t.scheduleWithRelative(e,function(){i=!0}),n.subscribe(function(e){i&&r.onNext(e)},r.onError.bind(r),r.onCompleted.bind(r)))},n)},mn.skipUntilWithTime=function(e,t){Ht(t)||(t=an);var n=this,r=e instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new Zr(function(i){var o=!1;return new Zt(t[r](e,function(){o=!0}),n.subscribe(function(e){o&&i.onNext(e)},function(e){i.onError(e)},function(){i.onCompleted()}))},n)},mn.takeUntilWithTime=function(e,t){Ht(t)||(t=an);var n=this,r=e instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new Zr(function(i){return new Zt(t[r](e,function(){i.onCompleted()}),n.subscribe(i))},n)},mn.throttleFirst=function(e,t){Ht(t)||(t=an);var n=+e||0;if(0>=n)throw new RangeError("windowDuration cannot be less or equal zero.");var r=this;return new Zr(function(e){var i=0;return r.subscribe(function(r){var o=t.now();(0===i||o-i>=n)&&(i=o,e.onNext(r))},function(t){e.onError(t)},function(){e.onCompleted()})},r)},mn.transduce=function(e){function t(e){return{"@@transducer/init":function(){return e},"@@transducer/step":function(e,t){return e.onNext(t)},"@@transducer/result":function(e){return e.onCompleted()}}}var n=this;return new Zr(function(r){var i=e(t(r));return n.subscribe(function(e){try{i["@@transducer/step"](r,e)}catch(t){r.onError(t)}},function(e){r.onError(e)},function(){i["@@transducer/result"](r)})},n)},mn.exclusive=function(){var e=this;return new Zr(function(t){var n=!1,r=!1,i=new Xt,o=new Zt;return o.add(i),i.setDisposable(e.subscribe(function(e){if(!n){n=!0,Be(e)&&(e=Un(e));var i=new Xt;o.add(i),i.setDisposable(e.subscribe(t.onNext.bind(t),t.onError.bind(t),function(){o.remove(i),n=!1,r&&1===o.length&&t.onCompleted()}))}},t.onError.bind(t),function(){r=!0,n||1!==o.length||t.onCompleted()})),o},this)},mn.exclusiveMap=function(e,t){var n=this,r=ot(e,t,3);return new Zr(function(e){var t=0,i=!1,o=!0,s=new Xt,a=new Zt;return a.add(s),s.setDisposable(n.subscribe(function(n){i||(i=!0,innerSubscription=new Xt,a.add(innerSubscription),Be(n)&&(n=Un(n)),innerSubscription.setDisposable(n.subscribe(function(i){var o;try{o=r(i,t++,n)}catch(s){return void e.onError(s)}e.onNext(o)},function(t){e.onError(t)},function(){a.remove(innerSubscription),i=!1,o&&1===a.length&&e.onCompleted()})))},function(t){e.onError(t)},function(){o=!0,1!==a.length||i||e.onCompleted()})),a},this)},De.VirtualTimeScheduler=function(e){function t(){return this.toDateTimeOffset(this.clock)}function n(e,t){return this.scheduleAbsoluteWithState(e,this.clock,t)}function r(e,t,n){return this.scheduleRelativeWithState(e,this.toRelative(t),n)}function i(e,t,n){return this.scheduleRelativeWithState(e,this.toRelative(t-this.now()),n)}function o(e,t){return t(),Gt}function s(o,s){this.clock=o,this.comparer=s,this.isEnabled=!1,this.queue=new Wt(1024),e.call(this,t,n,r,i)}Dt(s,e);var a=s.prototype;return a.add=Ke,a.toDateTimeOffset=Ke,a.toRelative=Ke,a.schedulePeriodicWithState=function(e,t,n){var r=new en(this,e,t,n);return r.start()},a.scheduleRelativeWithState=function(e,t,n){var r=this.add(this.clock,t);return this.scheduleAbsoluteWithState(e,r,n)},a.scheduleRelative=function(e,t){return this.scheduleRelativeWithState(t,e,o)},a.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var e=this.getNext();null!==e?(this.comparer(e.dueTime,this.clock)>0&&(this.clock=e.dueTime),e.invoke()):this.isEnabled=!1}while(this.isEnabled)}},a.stop=function(){this.isEnabled=!1},a.advanceTo=function(e){var t=this.comparer(this.clock,e);if(this.comparer(this.clock,e)>0)throw new Qe;if(0!==t&&!this.isEnabled){this.isEnabled=!0;do{var n=this.getNext();null!==n&&this.comparer(n.dueTime,e)<=0?(this.comparer(n.dueTime,this.clock)>0&&(this.clock=n.dueTime),n.invoke()):this.isEnabled=!1}while(this.isEnabled);this.clock=e}},a.advanceBy=function(e){var t=this.add(this.clock,e),n=this.comparer(this.clock,t);if(n>0)throw new Qe;0!==n&&this.advanceTo(t)},a.sleep=function(e){var t=this.add(this.clock,e);if(this.comparer(this.clock,t)>=0)throw new Qe;this.clock=t},a.getNext=function(){for(;this.queue.length>0;){var e=this.queue.peek();if(!e.isCancelled())return e;this.queue.dequeue()}return null},a.scheduleAbsolute=function(e,t){return this.scheduleAbsoluteWithState(t,e,o)},a.scheduleAbsoluteWithState=function(e,t,n){function r(e,t){return i.queue.remove(o),n(e,t)}var i=this,o=new qt(this,e,r,t,this.comparer);return this.queue.enqueue(o),o.disposable},s}(Qt),De.HistoricalScheduler=function(e){function t(t,n){var r=null==t?0:t,i=n||Me;e.call(this,r,i)}Dt(t,e);var n=t.prototype;return n.add=function(e,t){return e+t},n.toDateTimeOffset=function(e){return new Date(e).getTime()},n.toRelative=function(e){return e},t}(De.VirtualTimeScheduler);var Zr=De.AnonymousObservable=function(e){function t(e){return e&&Ve(e.dispose)?e:Ve(e)?Vt(e):Gt}function n(e,n){var r=n[0],i=n[1],o=w(i)(r);return o!==It||r.fail(It.e)?void r.setDisposable(t(o)):_(It.e)}function r(t,r){function i(e){var r=new Br(e),i=[r,t];return nn.scheduleRequired()?nn.scheduleWithState(i,n):n(null,i),r}this.source=r,e.call(this,i)}return Dt(r,e),r}(_n),Br=function(e){function t(t){e.call(this),this.observer=t,this.m=new Xt}Dt(t,e);var n=t.prototype;return n.next=function(e){var t=w(this.observer.onNext).call(this.observer,e);t===It&&(this.dispose(),_(t.e))},n.error=function(e){var t=w(this.observer.onError).call(this.observer,e);this.dispose(),t===It&&_(t.e)},n.completed=function(){var e=w(this.observer.onCompleted).call(this.observer);this.dispose(),e===It&&_(e.e)},n.setDisposable=function(e){this.m.setDisposable(e)},n.getDisposable=function(){return this.m.getDisposable()},n.dispose=function(){e.prototype.dispose.call(this),this.m.dispose()},t}(vn),Lr=function(e){function t(e){return this.underlyingObservable.subscribe(e)}function n(n,r,i){e.call(this,t),this.key=n,this.underlyingObservable=i?new Zr(function(e){return new Zt(i.getDisposable(),r.subscribe(e))}):r}return Dt(n,e),n}(_n),Vr=De.Subject=function(e){function t(e){return Ft(this),this.isStopped?this.hasError?(e.onError(this.error),Gt):(e.onCompleted(),Gt):(this.observers.push(e),new jr(this,e))}function n(){e.call(this,t),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return Dt(n,e),At(n.prototype,hn.prototype,{hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(Ft(this),!this.isStopped){this.isStopped=!0;for(var e=0,t=o(this.observers),n=t.length;n>e;e++)t[e].onCompleted();this.observers.length=0}},onError:function(e){if(Ft(this),!this.isStopped){this.isStopped=!0,this.error=e,this.hasError=!0;for(var t=0,n=o(this.observers),r=n.length;r>t;t++)n[t].onError(e);this.observers.length=0}},onNext:function(e){if(Ft(this),!this.isStopped)for(var t=0,n=o(this.observers),r=n.length;r>t;t++)n[t].onNext(e)},dispose:function(){this.isDisposed=!0,this.observers=null}}),n.create=function(e,t){return new zr(e,t)},n}(_n),Gr=De.AsyncSubject=function(e){function t(e){return Ft(this),this.isStopped?(this.hasError?e.onError(this.error):this.hasValue?(e.onNext(this.value),e.onCompleted()):e.onCompleted(),Gt):(this.observers.push(e),new jr(this,e))}function n(){e.call(this,t),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return Dt(n,e),At(n.prototype,hn,{hasObservers:function(){return Ft(this),this.observers.length>0},onCompleted:function(){var e,t;if(Ft(this),!this.isStopped){this.isStopped=!0;var n=o(this.observers),t=n.length;if(this.hasValue)for(e=0;t>e;e++){var r=n[e];r.onNext(this.value),r.onCompleted()}else for(e=0;t>e;e++)n[e].onCompleted();this.observers.length=0}},onError:function(e){if(Ft(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=e;for(var t=0,n=o(this.observers),r=n.length;r>t;t++)n[t].onError(e);this.observers.length=0}},onNext:function(e){Ft(this),this.isStopped||(this.value=e,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.exception=null,this.value=null}}),n}(_n),zr=De.AnonymousSubject=function(e){function t(e){return this.observable.subscribe(e)}function n(n,r){this.observer=n,this.observable=r,e.call(this,t)}return Dt(n,e),At(n.prototype,hn.prototype,{onCompleted:function(){this.observer.onCompleted()},onError:function(e){this.observer.onError(e)},onNext:function(e){this.observer.onNext(e)}}),n}(_n);De.Pauser=function(e){function t(){e.call(this)}return Dt(t,e),t.prototype.pause=function(){this.onNext(!1)},t.prototype.resume=function(){this.onNext(!0)},t}(Vr),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(je.Rx=De,define(function(){return De})):Ne&&Re?Te?(Re.exports=De).Rx=De:Ne.Rx=De:je.Rx=De;var Fr=d()}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/string_decoder/index.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/string_decoder/index.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/string_decoder/index.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/string_decoder/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/through/index.js":[function(e,t,n){(function(r){function i(e,t,n){function i(){for(;c.length&&!d.paused;){var e=c.shift();if(null===e)return d.emit("end");d.emit("data",e)}}function s(){d.writable=!1,t.call(d),!d.readable&&d.autoDestroy&&d.destroy()}e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var a=!1,u=!1,c=[],l=!1,d=new o;return d.readable=d.writable=!0,d.paused=!1,d.autoDestroy=!(n&&n.autoDestroy===!1),d.write=function(t){return e.call(this,t),!d.paused},d.queue=d.push=function(e){return l?d:(null===e&&(l=!0),c.push(e),i(),d)},d.on("end",function(){d.readable=!1,!d.writable&&d.autoDestroy&&r.nextTick(function(){d.destroy()})}),d.end=function(e){return a?void 0:(a=!0,arguments.length&&d.write(e),s(),d)},d.destroy=function(){return u?void 0:(u=!0,a=!0,c.length=0,d.writable=d.readable=!1,d.emit("close"),d)},d.pause=function(){return d.paused?void 0:(d.paused=!0,d)},d.resume=function(){return d.paused&&(d.paused=!1,d.emit("resume")),i(),d.paused||d.emit("drain"),d},d}var o=e("stream");n=t.exports=i,i.through=i}).call(this,e("_process"))},{_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",stream:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/stream-browserify/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/through2/node_modules/readable-stream/lib/_stream_duplex.js":[function(e,t,n){(function(n){function r(e){return this instanceof r?(u.call(this,e),c.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(e)}function i(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}function o(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}t.exports=r;var s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},a=e("core-util-is");a.inherits=e("inherits");var u=e("./_stream_readable"),c=e("./_stream_writable");a.inherits(r,u),o(s(c.prototype),function(e){r.prototype[e]||(r.prototype[e]=c.prototype[e])})}).call(this,e("_process"))},{"./_stream_readable":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/through2/node_modules/readable-stream/lib/_stream_readable.js","./_stream_writable":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/through2/node_modules/readable-stream/lib/_stream_writable.js",_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/core-util-is/lib/util.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/inherits/inherits_browser.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/through2/node_modules/readable-stream/lib/_stream_readable.js":[function(e,t,n){(function(n){function r(t,n){t=t||{};var r=t.highWaterMark;this.highWaterMark=r||0===r?r:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(N||(N=e("string_decoder/").StringDecoder),this.decoder=new N(t.encoding),this.encoding=t.encoding)}function i(e){return this instanceof i?(this._readableState=new r(e,this),this.readable=!0,void E.call(this)):new i(e)}function o(e,t,n,r,i){var o=c(t,n);if(o)e.emit("error",o);else if(null===n||void 0===n)t.reading=!1,t.ended||l(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else!t.decoder||i||r||(n=t.decoder.write(n)),t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):(t.reading=!1,t.buffer.push(n)),t.needReadable&&d(e),h(e,t);else i||(t.reading=!1);return s(t)}function s(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function a(e){if(e>=R)e=R;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function u(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=a(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e,t){var n=null;return S.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.length>0?d(e):w(e)}function d(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?n.nextTick(function(){f(e)}):f(e))}function f(e){e.emit("readable")}function h(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(function(){p(e,t)}))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function m(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&v(e)}}function v(e){function t(e,t,i){var o=e.write(n);!1===o&&r.awaitDrain++}var n,r=e._readableState;for(r.awaitDrain=0;r.pipesCount&&null!==(n=e.read());)if(1===r.pipesCount?t(r.pipes,0,null):_(r.pipes,t),e.emit("data",n),r.awaitDrain>0)return;return 0===r.pipesCount?(r.flowing=!1,void(C.listenerCount(e,"data")>0&&g(e))):void(r.ranOut=!0)}function b(){this._readableState.ranOut&&(this._readableState.ranOut=!1,v(this))}function g(e,t){var r=e._readableState;if(r.flowing)throw new Error("Cannot switch to old mode now.");var i=t||!1,o=!1;e.readable=!0,e.pipe=E.prototype.pipe,e.on=e.addListener=E.prototype.on,e.on("readable",function(){o=!0;for(var t;!i&&null!==(t=e.read());)e.emit("data",t);null===t&&(o=!1,e._readableState.needReadable=!0)}),e.pause=function(){i=!0,this.emit("pause")},e.resume=function(){i=!1,o?n.nextTick(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}function y(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,s=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!e||e>=i)n=o?r.join(""):S.concat(r,i),r.length=0;else if(e<r[0].length){var a=r[0];n=a.slice(0,e),r[0]=a.slice(e)}else if(e===r[0].length)n=r.shift();else{n=o?"":new S(e);for(var u=0,c=0,l=r.length;l>c&&e>u;c++){var a=r[0],d=Math.min(e-u,a.length);o?n+=a.slice(0,d):a.copy(n,u,0,d),d<a.length?r[0]=a.slice(d):r.shift(),u+=d}}return n}function w(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,n.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function _(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}function x(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}t.exports=i;var k=e("isarray"),S=e("buffer").Buffer;i.ReadableState=r;var C=e("events").EventEmitter;C.listenerCount||(C.listenerCount=function(e,t){return e.listeners(t).length});var E=e("stream"),j=e("core-util-is");j.inherits=e("inherits");var N;j.inherits(i,E),i.prototype.push=function(e,t){var n=this._readableState;return"string"!=typeof e||n.objectMode||(t=t||n.defaultEncoding,t!==n.encoding&&(e=new S(e,t),t="")),o(this,n,e,t,!1)},i.prototype.unshift=function(e){var t=this._readableState;return o(this,t,e,"",!0)},i.prototype.setEncoding=function(t){N||(N=e("string_decoder/").StringDecoder),this._readableState.decoder=new N(t),this._readableState.encoding=t};var R=8388608;i.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var n,r=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d(this),null;if(e=u(e,t),0===e&&t.ended)return n=null,t.length>0&&t.decoder&&(n=y(e,t),t.length-=n.length),0===t.length&&w(this),n;var i=t.needReadable;return t.length-e<=t.highWaterMark&&(i=!0),(t.ended||t.reading)&&(i=!1),i&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=u(r,t)),n=e>0?y(e,t):null,null===n&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&w(this),n},i.prototype._read=function(e){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,t){function r(e){e===l&&o()}function i(){e.end()}function o(){e.removeListener("close",a),e.removeListener("finish",u),e.removeListener("drain",p),e.removeListener("error",s),e.removeListener("unpipe",r),l.removeListener("end",i),l.removeListener("end",o),(!e._writableState||e._writableState.needDrain)&&p()}function s(t){c(),e.removeListener("error",s),0===C.listenerCount(e,"error")&&e.emit("error",t)}function a(){e.removeListener("finish",u),c()}function u(){e.removeListener("close",a),c()}function c(){l.unpipe(e)}var l=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=e;break;case 1:d.pipes=[d.pipes,e];break;default:d.pipes.push(e)}d.pipesCount+=1;var f=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,h=f?i:o;d.endEmitted?n.nextTick(h):l.once("end",h),e.on("unpipe",r);var p=m(l);return e.on("drain",p),e._events&&e._events.error?k(e._events.error)?e._events.error.unshift(s):e._events.error=[s,e._events.error]:e.on("error",s),e.once("close",a),e.once("finish",u),e.emit("pipe",l),d.flowing||(this.on("readable",b),d.flowing=!0,n.nextTick(function(){v(l)})),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",b),t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",b),t.flowing=!1;for(var i=0;r>i;i++)n[i].emit("unpipe",this);return this}var i=x(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,t){var n=E.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||g(this),"readable"===e&&this.readable){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&d(this,r):this.read(0))}return n},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){g(this),this.read(0),this.emit("resume")},i.prototype.pause=function(){g(this,!0),this.emit("pause")},i.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)){var o=r.push(i);o||(n=!0,e.pause())}});for(var i in e)"function"==typeof e[i]&&"undefined"==typeof this[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return _(o,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){n&&(n=!1,e.resume())},r},i._fromList=y}).call(this,e("_process"))},{_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/core-util-is/lib/util.js",events:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/events/events.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/inherits/inherits_browser.js",isarray:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/isarray/index.js",stream:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/stream-browserify/index.js","string_decoder/":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/string_decoder/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/through2/node_modules/readable-stream/lib/_stream_transform.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/lib/_stream_transform.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/lib/_stream_transform.js":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/lib/_stream_transform.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/through2/node_modules/readable-stream/lib/_stream_writable.js":[function(e,t,n){(function(n){function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function i(e,t){e=e||{};var n=e.highWaterMark;this.highWaterMark=n||0===n?n:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var r=e.decodeStrings===!1;this.decodeStrings=!r,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){h(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function o(t){var n=e("./_stream_duplex");return this instanceof o||this instanceof n?(this._writableState=new i(t,this),this.writable=!0,void x.call(this)):new o(t)}function s(e,t,r){var i=new Error("write after end");e.emit("error",i),n.nextTick(function(){r(i)})}function a(e,t,r,i){var o=!0;if(!w.isBuffer(r)&&"string"!=typeof r&&null!==r&&void 0!==r&&!t.objectMode){var s=new TypeError("Invalid non-string/buffer chunk");e.emit("error",s),n.nextTick(function(){i(s)}),o=!1}return o}function u(e,t,n){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=new w(t,n)),t}function c(e,t,n,i,o){n=u(t,n,i),w.isBuffer(n)&&(i="buffer");var s=t.objectMode?1:n.length;t.length+=s;var a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing?t.buffer.push(new r(n,i,o)):l(e,t,s,n,i,o),a}function l(e,t,n,r,i,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,e._write(r,i,t.onwrite),t.sync=!1}function d(e,t,r,i,o){r?n.nextTick(function(){o(i)}):o(i),e._writableState.errorEmitted=!0,e.emit("error",i)}function f(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function h(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(f(r),t)d(e,r,i,t,o);else{var s=b(e,r);s||r.bufferProcessing||!r.buffer.length||v(e,r),i?n.nextTick(function(){p(e,r,s,o)}):p(e,r,s,o)}}function p(e,t,n,r){n||m(e,t),r(),n&&g(e,t)}function m(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function v(e,t){t.bufferProcessing=!0;for(var n=0;n<t.buffer.length;n++){var r=t.buffer[n],i=r.chunk,o=r.encoding,s=r.callback,a=t.objectMode?1:i.length;if(l(e,t,a,i,o,s),t.writing){n++;break}}t.bufferProcessing=!1,n<t.buffer.length?t.buffer=t.buffer.slice(n):t.buffer.length=0}function b(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function g(e,t){var n=b(e,t);return n&&(t.finished=!0,e.emit("finish")),n}function y(e,t,r){t.ending=!0,g(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0}t.exports=o;var w=e("buffer").Buffer;o.WritableState=i;var _=e("core-util-is");_.inherits=e("inherits");var x=e("stream");_.inherits(o,x),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return"function"==typeof t&&(n=t,t=null),w.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=function(){}),r.ended?s(this,r,n):a(this,r,e,n)&&(i=c(this,r,e,t,n)),i},o.prototype._write=function(e,t,n){n(new Error("not implemented"))},o.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),"undefined"!=typeof e&&null!==e&&this.write(e,t),r.ending||r.finished||y(this,r,n)}}).call(this,e("_process"))},{"./_stream_duplex":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/through2/node_modules/readable-stream/lib/_stream_duplex.js",_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/core-util-is/lib/util.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/inherits/inherits_browser.js",stream:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/stream-browserify/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/through2/node_modules/readable-stream/transform.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/transform.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/transform.js":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/transform.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/through2/through2.js":[function(e,t,n){(function(n){function r(e){s.call(this,e),this._destroyed=!1}function i(e,t,n){n(null,e)}function o(e){return function(t,n,r){return"function"==typeof t&&(r=n,n=t,t={}),"function"!=typeof n&&(n=i),"function"!=typeof r&&(r=null),e(t,n,r)}}var s=e("readable-stream/transform"),a=e("util").inherits,u=e("xtend");a(r,s),r.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var t=this;n.nextTick(function(){e&&t.emit("error",e),t.emit("close")})}},t.exports=o(function(e,t,n){var i=new r(e);return i._transform=t,n&&(i._flush=n),i}),t.exports.ctor=o(function(e,t,n){function i(t){return this instanceof i?(this.options=u(e,t),void r.call(this,this.options)):new i(t)}return a(i,r),i.prototype._transform=t,n&&(i.prototype._flush=n),i}),t.exports.obj=o(function(e,t,n){var i=new r(u({objectMode:!0,highWaterMark:16},e));return i._transform=t,n&&(i._flush=n),i})}).call(this,e("_process"))},{_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js","readable-stream/transform":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/through2/node_modules/readable-stream/transform.js",util:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/util/util.js",xtend:"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/xtend/immutable.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/xtend/immutable.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/xtend/immutable.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/xtend/immutable.js":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/xtend/immutable.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/lodash/index.js":[function(e,t,n){(function(e){(function(){function r(e,t){if(e!==t){var n=e===e,r=t===t;if(e>t||!n||"undefined"==typeof e&&r)return 1;if(t>e||!r||"undefined"==typeof t&&n)return-1}return 0}function i(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function o(e,t,n){if(t!==t)return v(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function s(e){return"function"==typeof e||!1}function a(e){return"string"==typeof e?e:null==e?"":e+""}function u(e){return e.charCodeAt(0)}function c(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function l(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function d(e,t){return r(e.criteria,t.criteria)||e.index-t.index}function f(e,t,n){for(var i=-1,o=e.criteria,s=t.criteria,a=o.length,u=n.length;++i<a;){var c=r(o[i],s[i]);if(c)return i>=u?c:c*(n[i]?1:-1)}return e.index-t.index}function h(e){return Ve[e]}function p(e){return Ge[e]}function m(e){return"\\"+Xe[e]}function v(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function b(e){return!!e&&"object"==typeof e}function g(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e);

}function y(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)e[n]===t&&(e[n]=F,o[++i]=n);return o}function w(e,t){for(var n,r=-1,i=e.length,o=-1,s=[];++r<i;){var a=e[r],u=t?t(a,r,e):a;r&&n===u||(n=u,s[++o]=a)}return s}function _(e){for(var t=-1,n=e.length;++t<n&&g(e.charCodeAt(t)););return t}function x(e){for(var t=e.length;t--&&g(e.charCodeAt(t)););return t}function k(e){return ze[e]}function S(e){function t(e){if(b(e)&&!sa(e)&&!(e instanceof H)){if(e instanceof g)return e;if(Uo.call(e,"__chain__")&&Uo.call(e,"__wrapped__"))return qn(e)}return new g(e)}function n(){}function g(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function H(e){this.__wrapped__=e,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=as,this.__views__=null}function te(){var e=this.__actions__,t=this.__iteratees__,n=this.__views__,r=new H(this.__wrapped__);return r.__actions__=e?Pe(e):null,r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=t?Pe(t):null,r.__takeCount__=this.__takeCount__,r.__views__=n?Pe(n):null,r}function re(){if(this.__filtered__){var e=new H(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Ve(){var e=this.__wrapped__.value();if(!sa(e))return Jt(e,this.__actions__);var t=this.__dir__,n=0>t,r=Un(0,e.length,this.__views__),i=r.start,o=r.end,s=o-i,a=n?o:i-1,u=ts(s,this.__takeCount__),c=this.__iteratees__,l=c?c.length:0,d=0,f=[];e:for(;s--&&u>d;){a+=t;for(var h=-1,p=e[a];++h<l;){var m=c[h],v=m.iteratee,b=m.type;if(b==L){if(m.done&&(n?a>m.index:a<m.index)&&(m.count=0,m.done=!1),m.index=a,!m.done){var g=m.limit;if(!(m.done=g>-1?m.count++>=g:!v(p)))continue e}}else{var y=v(p);if(b==G)p=y;else if(!y){if(b==V)continue e;break e}}}f[d++]=p}return f}function Ge(){this.__data__={}}function ze(e){return this.has(e)&&delete this.__data__[e]}function Fe(e){return"__proto__"==e?C:this.__data__[e]}function Xe(e){return"__proto__"!=e&&Uo.call(this.__data__,e)}function Ye(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Je(e){var t=e?e.length:0;for(this.data={hash:Ho(null),set:new Fo};t--;)this.push(e[t])}function qe(e,t){var n=e.data,r="string"==typeof t||fi(t)?n.set.has(t):n.hash[t];return r?0:-1}function Qe(e){var t=this.data;"string"==typeof e||fi(e)?t.set.add(e):t.hash[e]=!0}function Pe(e,t){var n=-1,r=e.length;for(t||(t=mo(r));++n<r;)t[n]=e[n];return t}function He(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function et(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function tt(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function nt(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[++i]=s)}return o}function rt(e,t){for(var n=-1,r=e.length,i=mo(r);++n<r;)i[n]=t(e[n],n,e);return i}function it(e){for(var t=-1,n=e.length,r=ss;++t<n;){var i=e[t];i>r&&(r=i)}return r}function ot(e){for(var t=-1,n=e.length,r=as;++t<n;){var i=e[t];r>i&&(r=i)}return r}function st(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function at(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function ut(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ct(e){for(var t=e.length,n=0;t--;)n+=+e[t]||0;return n}function lt(e,t){return"undefined"==typeof e?t:e}function dt(e,t,n,r){return"undefined"!=typeof e&&Uo.call(r,n)?e:t}function ft(e,t,n){var r=ga(t);if(!n)return pt(t,e,r);for(var i=-1,o=r.length;++i<o;){var s=r[i],a=e[s],u=n(a,t[s],s,e,t);(u===u?u===a:a!==a)&&("undefined"!=typeof a||s in e)||(e[s]=u)}return e}function ht(e,t){for(var n=-1,r=e.length,i=Zn(r),o=t.length,s=mo(o);++n<o;){var a=t[n];i?(a=parseFloat(a),s[n]=In(a,r)?e[a]:C):s[n]=e[a]}return s}function pt(e,t,n){n||(n=t,t={});for(var r=-1,i=n.length;++r<i;){var o=n[r];t[o]=e[o]}return t}function mt(e,t,n){var r=typeof e;return"function"==r?"undefined"==typeof t?e:Pt(e,t,n):null==e?to:"object"==r?Dt(e):"undefined"==typeof t?Wt(e+""):At(e+"",t)}function vt(e,t,n,r,i,o,s){var a;if(n&&(a=i?n(e,r,i):n(e)),"undefined"!=typeof a)return a;if(!fi(e))return e;var u=sa(e);if(u){if(a=Dn(e),!t)return Pe(e,a)}else{var c=Ao.call(e),l=c==P;if(c!=$&&c!=X&&(!l||i))return Be[c]?On(e,c,t):i?e:{};if(a=An(l?{}:e),!t)return pt(e,a,ga(e))}o||(o=[]),s||(s=[]);for(var d=o.length;d--;)if(o[d]==e)return s[d];return o.push(e),s.push(a),(u?He:Ct)(e,function(r,i){a[i]=vt(r,t,n,i,e,o,s)}),a}function bt(e,t,n){if("function"!=typeof e)throw new So(z);return Xo(function(){e.apply(C,n)},t)}function gt(e,t){var n=e?e.length:0,r=[];if(!n)return r;var i=-1,s=Tn(),a=s==o,u=a&&t.length>=200?xs(t):null,c=t.length;u&&(s=qe,a=!1,t=u);e:for(;++i<n;){var l=e[i];if(a&&l===l){for(var d=c;d--;)if(t[d]===l)continue e;r.push(l)}else s(t,l,0)<0&&r.push(l)}return r}function yt(e,t){var n=!0;return bs(e,function(e,r,i){return n=!!t(e,r,i)}),n}function wt(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r="undefined"==typeof r||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e}function _t(e,t){var n=[];return bs(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function xt(e,t,n,r){var i;return n(e,function(e,n,o){return t(e,n,o)?(i=r?n:e,!1):void 0}),i}function kt(e,t,n){for(var r=-1,i=e.length,o=-1,s=[];++r<i;){var a=e[r];if(b(a)&&Zn(a.length)&&(sa(a)||oi(a))){t&&(a=kt(a,t,n));var u=-1,c=a.length;for(s.length+=c;++u<c;)s[++o]=a[u]}else n||(s[++o]=a)}return s}function St(e,t){return ys(e,t,Ni)}function Ct(e,t){return ys(e,t,ga)}function Et(e,t){return ws(e,t,ga)}function jt(e,t){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var s=t[n];ua(e[s])&&(o[++i]=s)}return o}function Nt(e,t,n,r,i,o){if(e===t)return 0!==e||1/e==1/t;var s=typeof e,a=typeof t;return"function"!=s&&"object"!=s&&"function"!=a&&"object"!=a||null==e||null==t?e!==e&&t!==t:Rt(e,t,Nt,n,r,i,o)}function Rt(e,t,n,r,i,o,s){var a=sa(e),u=sa(t),c=Y,l=Y;a||(c=Ao.call(e),c==X?c=$:c!=$&&(a=wi(e))),u||(l=Ao.call(t),l==X?l=$:l!=$&&(u=wi(t)));var d=c==$||i&&c==P,f=l==$||i&&l==P,h=c==l;if(h&&!a&&!d)return En(e,t,c);if(i){if(!(h||d&&f))return!1}else{var p=d&&Uo.call(e,"__wrapped__"),m=f&&Uo.call(t,"__wrapped__");if(p||m)return n(p?e.value():e,m?t.value():t,r,i,o,s);if(!h)return!1}o||(o=[]),s||(s=[]);for(var v=o.length;v--;)if(o[v]==e)return s[v]==t;o.push(e),s.push(t);var b=(a?Cn:jn)(e,t,n,r,i,o,s);return o.pop(),s.pop(),b}function Tt(e,t,n,r,i){for(var o=-1,s=t.length,a=!i;++o<s;)if(a&&r[o]?n[o]!==e[t[o]]:!(t[o]in e))return!1;for(o=-1;++o<s;){var u=t[o],c=e[u],l=n[o];if(a&&r[o])var d="undefined"!=typeof c||u in e;else d=i?i(c,l,u):C,"undefined"==typeof d&&(d=Nt(l,c,i,!0));if(!d)return!1}return!0}function Ut(e,t){var n=[];return bs(e,function(e,r,i){n.push(t(e,r,i))}),n}function Dt(e){var t=ga(e),n=t.length;if(!n)return eo(!0);if(1==n){var r=t[0],i=e[r];if(Bn(i))return function(e){return null!=e&&e[r]===i&&("undefined"!=typeof i||r in Jn(e))}}for(var o=mo(n),s=mo(n);n--;)i=e[t[n]],o[n]=i,s[n]=Bn(i);return function(e){return null!=e&&Tt(Jn(e),t,o,s)}}function At(e,t){return Bn(t)?function(n){return null!=n&&n[e]===t&&("undefined"!=typeof t||e in Jn(n))}:function(n){return null!=n&&Nt(t,n[e],null,!0)}}function Ot(e,t,n,r,i){if(!fi(e))return e;var o=Zn(t.length)&&(sa(t)||wi(t));return(o?He:Ct)(t,function(t,s,a){if(b(t))return r||(r=[]),i||(i=[]),It(e,a,s,Ot,n,r,i);var u=e[s],c=n?n(u,t,s,e,a):C,l="undefined"==typeof c;l&&(c=t),!o&&"undefined"==typeof c||!l&&(c===c?c===u:u!==u)||(e[s]=c)}),e}function It(e,t,n,r,i,o,s){for(var a=o.length,u=t[n];a--;)if(o[a]==u)return void(e[n]=s[a]);var c=e[n],l=i?i(c,u,n,e,t):C,d="undefined"==typeof l;d&&(l=u,Zn(u.length)&&(sa(u)||wi(u))?l=sa(c)?c:c&&c.length?Pe(c):[]:ca(u)||oi(u)?l=oi(c)?ki(c):ca(c)?c:{}:d=!1),o.push(u),s.push(l),d?e[n]=r(l,u,i,o,s):(l===l?l!==c:c===c)&&(e[n]=l)}function Wt(e){return function(t){return null==t?C:t[e]}}function Mt(e,t){return e+Lo(os()*(t-e+1))}function Zt(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function Bt(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n="undefined"==typeof n||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=mo(i);++r<i;)o[r]=e[r+t];return o}function Lt(e,t){var n;return bs(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Vt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Gt(e,t,n){var r=-1,i=e.length,o=Zn(i)?mo(i):[];return bs(e,function(e){for(var n=t.length,i=mo(n);n--;)i[n]=null==e?C:e[t[n]];o[++r]={criteria:i,index:r,value:e}}),Vt(o,function(e,t){return f(e,t,n)})}function zt(e,t){var n=0;return bs(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function Ft(e,t){var n=-1,r=Tn(),i=e.length,s=r==o,a=s&&i>=200,u=a?xs():null,c=[];u?(r=qe,s=!1):(a=!1,u=t?[]:c);e:for(;++n<i;){var l=e[n],d=t?t(l,n,e):l;if(s&&l===l){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),c.push(l)}else r(u,d,0)<0&&((t||a)&&u.push(d),c.push(l))}return c}function Xt(e,t){for(var n=-1,r=t.length,i=mo(r);++n<r;)i[n]=e[t[n]];return i}function Yt(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Bt(e,r?0:o,r?o+1:i):Bt(e,r?o+1:0,r?i:o)}function Jt(e,t){var n=e;n instanceof H&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var o=[n],s=t[r];Go.apply(o,s.args),n=s.func.apply(s.thisArg,o)}return n}function qt(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&ls>=i){for(;i>r;){var o=r+i>>>1,s=e[o];(n?t>=s:t>s)?r=o+1:i=o}return i}return Qt(e,t,to,n)}function Qt(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,s=t!==t,a="undefined"==typeof t;o>i;){var u=Lo((i+o)/2),c=n(e[u]),l=c===c;if(s)var d=l||r;else d=a?l&&(r||"undefined"!=typeof c):r?t>=c:t>c;d?i=u+1:o=u}return ts(o,cs)}function Pt(e,t,n){if("function"!=typeof e)return to;if("undefined"==typeof t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,s){return e.call(t,n,r,i,o,s)}}return function(){return e.apply(t,arguments)}}function Ht(e){return Mo.call(e,0)}function Kt(e,t,n){for(var r=n.length,i=-1,o=es(e.length-r,0),s=-1,a=t.length,u=mo(o+a);++s<a;)u[s]=t[s];for(;++i<r;)u[n[i]]=e[i];for(;o--;)u[s++]=e[i++];return u}function $t(e,t,n){for(var r=-1,i=n.length,o=-1,s=es(e.length-i,0),a=-1,u=t.length,c=mo(s+u);++o<s;)c[o]=e[o];for(var l=o;++a<u;)c[l+a]=t[a];for(;++r<i;)c[l+n[r]]=e[o++];return c}function en(e,t){return function(n,r,i){var o=t?t():{};if(r=Rn(r,i,3),sa(n))for(var s=-1,a=n.length;++s<a;){var u=n[s];e(o,u,r(u,s,n),n)}else bs(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function tn(e){return function(){var t=arguments,n=t.length,r=t[0];if(2>n||null==r)return r;var i=t[n-2],o=t[n-1],s=t[3];n>3&&"function"==typeof i?(i=Pt(i,o,5),n-=2):(i=n>2&&"function"==typeof o?o:null,n-=i?1:0),s&&Wn(t[1],t[2],s)&&(i=3==n?null:i,n=2);for(var a=0;++a<n;){var u=t[a];u&&e(r,u,i)}return r}}function nn(e,t){return function(n,r){var i=n?n.length:0;if(!Zn(i))return e(n,r);for(var o=t?i:-1,s=Jn(n);(t?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}function rn(e){return function(t,n,r){for(var i=Jn(t),o=r(t),s=o.length,a=e?s:-1;e?a--:++a<s;){var u=o[a];if(n(i[u],u,i)===!1)break}return t}}function on(e,t){function n(){var i=this&&this!==Ke&&this instanceof n?r:e;return i.apply(t,arguments)}var r=an(e);return n}function sn(e){return function(t){for(var n=-1,r=Ki(Zi(t)),i=r.length,o="";++n<i;)o=e(o,r[n],n);return o}}function an(e){return function(){var t=vs(e.prototype),n=e.apply(t,arguments);return fi(n)?n:t}}function un(e){function t(n,r,i){i&&Wn(n,r,i)&&(r=null);var o=Sn(n,e,null,null,null,null,null,r);return o.placeholder=t.placeholder,o}return t}function cn(e,t){return function(n,r,i){i&&Wn(n,r,i)&&(r=null);var o=Rn(),s=null==r;if(o===mt&&s||(s=!1,r=o(r,i,3)),s){var a=sa(n);if(a||!yi(n))return e(a?n:Yn(n));r=u}return Nn(n,r,t)}}function ln(e,t){return function(n,r,o){if(r=Rn(r,o,3),sa(n)){var s=i(n,r,t);return s>-1?n[s]:C}return xt(n,r,e)}}function dn(e){return function(t,n,r){return t&&t.length?(n=Rn(n,r,3),i(t,n,e)):-1}}function fn(e){return function(t,n,r){return n=Rn(n,r,3),xt(t,n,e,!0)}}function hn(e){return function(){var t=arguments.length;if(!t)return function(){return arguments[0]};for(var n,r=e?t:-1,i=0,o=mo(t);e?r--:++r<t;){var s=o[i++]=arguments[r];if("function"!=typeof s)throw new So(z);var a=n?"":Ss(s);n="wrapper"==a?new g([]):n}for(r=n?-1:t;++r<t;){s=o[r],a=Ss(s);var u="wrapper"==a?ks(s):null;n=u&&Mn(u[0])?n[Ss(u[0])].apply(n,u[3]):1==s.length&&Mn(s)?n[a]():n.thru(s)}return function(){var e=arguments;if(n&&1==e.length&&sa(e[0]))return n.plant(e[0]).value();for(var r=0,i=o[r].apply(this,e);++r<t;)i=o[r].call(this,i);return i}}}function pn(e,t){return function(n,r,i){return"function"==typeof r&&"undefined"==typeof i&&sa(n)?e(n,r):t(n,Pt(r,i,3))}}function mn(e){return function(t,n,r){return("function"!=typeof n||"undefined"!=typeof r)&&(n=Pt(n,r,3)),e(t,n,Ni)}}function vn(e){return function(t,n,r){return("function"!=typeof n||"undefined"!=typeof r)&&(n=Pt(n,r,3)),e(t,n)}}function bn(e){return function(t,n,r){return t=a(t),t&&(e?t:"")+_n(t,n,r)+(e?"":t)}}function gn(e){var t=$r(function(n,r){var i=y(r,t.placeholder);return Sn(n,e,null,r,i)});return t}function yn(e,t){return function(n,r,i,o){var s=arguments.length<3;return"function"==typeof r&&"undefined"==typeof o&&sa(n)?e(n,r,i,s):Zt(n,Rn(r,o,4),i,s,t)}}function wn(e,t,n,r,i,o,s,a,u,c){function l(){for(var w=arguments.length,_=w,x=mo(w);_--;)x[_]=arguments[_];if(r&&(x=Kt(x,r,i)),o&&(x=$t(x,o,s)),p||v){var k=l.placeholder,S=y(x,k);if(w-=S.length,c>w){var E=a?Pe(a):null,R=es(c-w,0),T=p?S:null,U=p?null:S,O=p?x:null,I=p?null:x;t|=p?D:A,t&=~(p?A:D),m||(t&=~(j|N));var W=[e,t,n,O,T,I,U,E,u,R],M=wn.apply(C,W);return Mn(e)&&Cs(M,W),M.placeholder=k,M}}var Z=f?n:this;h&&(e=Z[g]),a&&(x=zn(x,a)),d&&u<x.length&&(x.length=u);var B=this&&this!==Ke&&this instanceof l?b||an(e):e;return B.apply(Z,x)}var d=t&O,f=t&j,h=t&N,p=t&T,m=t&R,v=t&U,b=!h&&an(e),g=e;return l}function _n(e,t,n){var r=e.length;if(t=+t,r>=t||!Ko(t))return"";var i=t-r;return n=null==n?" ":n+"",Fi(n,Zo(i/n.length)).slice(0,i)}function xn(e,t,n,r){function i(){for(var t=-1,a=arguments.length,u=-1,c=r.length,l=mo(a+c);++u<c;)l[u]=r[u];for(;a--;)l[u++]=arguments[++t];var d=this&&this!==Ke&&this instanceof i?s:e;return d.apply(o?n:this,l)}var o=t&j,s=an(e);return i}function kn(e){return function(t,n,r,i){var o=Rn(r);return o===mt&&null==r?qt(t,n,e):Qt(t,n,o(r,i,1),e)}}function Sn(e,t,n,r,i,o,s,a){var u=t&N;if(!u&&"function"!=typeof e)throw new So(z);var c=r?r.length:0;if(c||(t&=~(D|A),r=i=null),c-=i?i.length:0,t&A){var l=r,d=i;r=i=null}var f=u?null:ks(e),h=[e,t,n,r,i,l,d,o,s,a];if(f&&(Ln(h,f),t=h[1],a=h[9]),h[9]=null==a?u?0:e.length:es(a-c,0)||0,t==j)var p=on(h[0],h[2]);else p=t!=D&&t!=(j|D)||h[4].length?wn.apply(C,h):xn.apply(C,h);var m=f?_s:Cs;return m(p,h)}function Cn(e,t,n,r,i,o,s){var a=-1,u=e.length,c=t.length,l=!0;if(u!=c&&!(i&&c>u))return!1;for(;l&&++a<u;){var d=e[a],f=t[a];if(l=C,r&&(l=i?r(f,d,a):r(d,f,a)),"undefined"==typeof l)if(i)for(var h=c;h--&&(f=t[h],!(l=d&&d===f||n(d,f,r,i,o,s))););else l=d&&d===f||n(d,f,r,i,o,s)}return!!l}function En(e,t,n){switch(n){case J:case q:return+e==+t;case Q:return e.name==t.name&&e.message==t.message;case K:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case ee:case ne:return e==t+""}return!1}function jn(e,t,n,r,i,o,s){var a=ga(e),u=a.length,c=ga(t),l=c.length;if(u!=l&&!i)return!1;for(var d=i,f=-1;++f<u;){var h=a[f],p=i?h in t:Uo.call(t,h);if(p){var m=e[h],v=t[h];p=C,r&&(p=i?r(v,m,h):r(m,v,h)),"undefined"==typeof p&&(p=m&&m===v||n(m,v,r,i,o,s))}if(!p)return!1;d||(d="constructor"==h)}if(!d){var b=e.constructor,g=t.constructor;if(b!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof g&&g instanceof g))return!1}return!0}function Nn(e,t,n){var r=n?as:ss,i=r,o=i;return bs(e,function(e,s,a){var u=t(e,s,a);((n?i>u:u>i)||u===r&&u===o)&&(i=u,o=e)}),o}function Rn(e,n,r){var i=t.callback||$i;return i=i===$i?mt:i,r?i(e,n,r):i}function Tn(e,n,r){var i=t.indexOf||or;return i=i===or?o:i,e?i(e,n,r):i}function Un(e,t,n){for(var r=-1,i=n?n.length:0;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=ts(t,e+s);break;case"takeRight":e=es(e,t-s)}}return{start:e,end:t}}function Dn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Uo.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function An(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=_o),new t}function On(e,t,n){var r=e.constructor;switch(t){case ie:return Ht(e);case J:case q:return new r(+e);case oe:case se:case ae:case ue:case ce:case le:case de:case fe:case he:var i=e.buffer;return new r(n?Ht(i):i,e.byteOffset,e.length);case K:case ne:return new r(e);case ee:var o=new r(e.source,Ee.exec(e));o.lastIndex=e.lastIndex}return o}function In(e,t){return e=+e,t=null==t?fs:t,e>-1&&e%1==0&&t>e}function Wn(e,t,n){if(!fi(n))return!1;var r=typeof t;if("number"==r)var i=n.length,o=Zn(i)&&In(t,i);else o="string"==r&&t in n;if(o){var s=n[t];return e===e?e===s:s!==s}return!1}function Mn(e){var n=Ss(e);return!!n&&e===t[n]&&n in H.prototype}function Zn(e){return"number"==typeof e&&e>-1&&e%1==0&&fs>=e}function Bn(e){return e===e&&(0===e?1/e>0:!fi(e))}function Ln(e,t){var n=e[1],r=t[1],i=n|r,o=O>i,s=r==O&&n==T||r==O&&n==I&&e[7].length<=t[8]||r==(O|I)&&n==T;if(!o&&!s)return e;r&j&&(e[2]=t[2],i|=n&j?0:R);var a=t[3];if(a){var u=e[3];e[3]=u?Kt(u,a,t[4]):Pe(a),e[4]=u?y(e[3],F):Pe(t[4])}return a=t[5],a&&(u=e[5],e[5]=u?$t(u,a,t[6]):Pe(a),e[6]=u?y(e[5],F):Pe(t[6])),a=t[7],a&&(e[7]=Pe(a)),r&O&&(e[8]=null==e[8]?t[8]:ts(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function Vn(e,t){e=Jn(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}function Gn(e,t){var n={};return St(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function zn(e,t){for(var n=e.length,r=ts(t.length,n),i=Pe(e);r--;){var o=t[r];e[r]=In(o,n)?i[o]:C}return e}function Fn(e){{var n;t.support}if(!b(e)||Ao.call(e)!=$||!Uo.call(e,"constructor")&&(n=e.constructor,"function"==typeof n&&!(n instanceof n)))return!1;var r;return St(e,function(e,t){r=t}),"undefined"==typeof r||Uo.call(e,r)}function Xn(e){for(var n=Ni(e),r=n.length,i=r&&e.length,o=t.support,s=i&&Zn(i)&&(sa(e)||o.nonEnumArgs&&oi(e)),a=-1,u=[];++a<r;){var c=n[a];(s&&In(c,i)||Uo.call(e,c))&&u.push(c)}return u}function Yn(e){return null==e?[]:Zn(e.length)?fi(e)?e:_o(e):Ai(e)}function Jn(e){return fi(e)?e:_o(e)}function qn(e){return e instanceof H?e.clone():new g(e.__wrapped__,e.__chain__,Pe(e.__actions__))}function Qn(e,t,n){t=(n?Wn(e,t,n):null==t)?1:es(+t||1,1);for(var r=0,i=e?e.length:0,o=-1,s=mo(Zo(i/t));i>r;)s[++o]=Bt(e,r,r+=t);return s}function Pn(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i}function Hn(e,t,n){var r=e?e.length:0;return r?((n?Wn(e,t,n):null==t)&&(t=1),Bt(e,0>t?0:t)):[]}function Kn(e,t,n){var r=e?e.length:0;return r?((n?Wn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Bt(e,0,0>t?0:t)):[]}function $n(e,t,n){return e&&e.length?Yt(e,Rn(t,n,3),!0,!0):[]}function er(e,t,n){return e&&e.length?Yt(e,Rn(t,n,3),!0):[]}function tr(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Wn(e,t,n)&&(n=0,r=i),wt(e,t,n,r)):[]}function nr(e){return e?e[0]:C}function rr(e,t,n){var r=e?e.length:0;return n&&Wn(e,t,n)&&(t=!1),r?kt(e,t):[]}function ir(e){var t=e?e.length:0;return t?kt(e,!0):[]}function or(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?es(r+n,0):n;else if(n){var i=qt(e,t),s=e[i];return(t===t?t===s:s!==s)?i:-1}return o(e,t,n||0)}function sr(e){return Kn(e,1)}function ar(){for(var e=[],t=-1,n=arguments.length,r=[],i=Tn(),s=i==o;++t<n;){var a=arguments[t];(sa(a)||oi(a))&&(e.push(a),r.push(s&&a.length>=120?xs(t&&a):null))}n=e.length;var u=e[0],c=-1,l=u?u.length:0,d=[],f=r[0];e:for(;++c<l;)if(a=u[c],(f?qe(f,a):i(d,a,0))<0){for(t=n;--t;){var h=r[t];if((h?qe(h,a):i(e[t],a,0))<0)continue e}f&&f.push(a),d.push(a)}return d}function ur(e){var t=e?e.length:0;return t?e[t-1]:C}function cr(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?es(r+n,0):ts(n||0,r-1))+1;else if(n){i=qt(e,t,!0)-1;var o=e[i];return(t===t?t===o:o!==o)?i:-1}if(t!==t)return v(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function lr(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=Tn(),i=e.length;++n<i;)for(var o=0,s=e[n];(o=r(t,s,o))>-1;)Yo.call(t,o,1);return t}function dr(e,t,n){var r=-1,i=e?e.length:0,o=[];for(t=Rn(t,n,3);++r<i;){var s=e[r];t(s,r,e)&&(o.push(s),Yo.call(e,r--,1),i--)}return o}function fr(e){return Hn(e,1)}function hr(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Wn(e,t,n)&&(t=0,n=r),Bt(e,t,n)):[]}function pr(e,t,n){var r=e?e.length:0;return r?((n?Wn(e,t,n):null==t)&&(t=1),Bt(e,0,0>t?0:t)):[]}function mr(e,t,n){var r=e?e.length:0;return r?((n?Wn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Bt(e,0>t?0:t)):[]}function vr(e,t,n){return e&&e.length?Yt(e,Rn(t,n,3),!1,!0):[]}function br(e,t,n){return e&&e.length?Yt(e,Rn(t,n,3)):[]}function gr(e,t,n,r){var i=e?e.length:0;if(!i)return[];null!=t&&"boolean"!=typeof t&&(r=n,n=Wn(e,t,r)?null:t,t=!1);var s=Rn();return(s!==mt||null!=n)&&(n=s(n,r,3)),t&&Tn()==o?w(e,n):Ft(e,n)}function yr(e){for(var t=-1,n=(e&&e.length&&it(rt(e,To)))>>>0,r=mo(n);++t<n;)r[t]=rt(e,Wt(t));return r}function wr(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(sa(n)||oi(n))var r=r?gt(r,n).concat(gt(n,r)):n}return r?Ft(r):[]}function _r(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||sa(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function xr(e){var n=t(e);return n.__chain__=!0,n}function kr(e,t,n){return t.call(n,e),e}function Sr(e,t,n){return t.call(n,e)}function Cr(){return xr(this)}function Er(){return new g(this.value(),this.__chain__)}function jr(e){for(var t,r=this;r instanceof n;){var i=qn(r);t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t}function Nr(){var e=this.__wrapped__;return e instanceof H?(this.__actions__.length&&(e=new H(this)),new g(e.reverse(),this.__chain__)):this.thru(function(e){return e.reverse()})}function Rr(){return this.value()+""}function Tr(){return Jt(this.__wrapped__,this.__actions__)}function Ur(e,t,n){var r=sa(e)?tt:yt;return n&&Wn(e,t,n)&&(t=null),("function"!=typeof t||"undefined"!=typeof n)&&(t=Rn(t,n,3)),r(e,t)}function Dr(e,t,n){var r=sa(e)?nt:_t;return t=Rn(t,n,3),r(e,t)}function Ar(e,t){return Ms(e,Dt(t))}function Or(e,t,n,r){var i=e?e.length:0;return Zn(i)||(e=Ai(e),i=e.length),i?(n="number"!=typeof n||r&&Wn(t,n,r)?0:0>n?es(i+n,0):n||0,"string"==typeof e||!sa(e)&&yi(e)?i>n&&e.indexOf(t,n)>-1:Tn(e,t,n)>-1):!1}function Ir(e,t,n){var r=sa(e)?rt:Ut;return t=Rn(t,n,3),r(e,t)}function Wr(e,t){return Ir(e,Wt(t))}function Mr(e,t,n){var r=sa(e)?nt:_t;return t=Rn(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function Zr(e,t,n){if(n?Wn(e,t,n):null==t){e=Yn(e);var r=e.length;return r>0?e[Mt(0,r-1)]:C}var i=Br(e);return i.length=ts(0>t?0:+t||0,i.length),i}function Br(e){e=Yn(e);for(var t=-1,n=e.length,r=mo(n);++t<n;){var i=Mt(0,t);t!=i&&(r[t]=r[i]),r[i]=e[t]}return r}function Lr(e){var t=e?e.length:0;return Zn(t)?t:ga(e).length}function Vr(e,t,n){var r=sa(e)?ut:Lt;return n&&Wn(e,t,n)&&(t=null),("function"!=typeof t||"undefined"!=typeof n)&&(t=Rn(t,n,3)),r(e,t)}function Gr(e,t,n){if(null==e)return[];var r=-1,i=e.length,o=Zn(i)?mo(i):[];return n&&Wn(e,t,n)&&(t=null),t=Rn(t,n,3),bs(e,function(e,n,i){o[++r]={criteria:t(e,n,i),index:r,value:e}}),Vt(o,d)}function zr(){var e=arguments,t=e[0],n=e[3],r=0,i=e.length-1;if(null==t)return[];for(var o=mo(i);i>r;)o[r]=e[++r];return n&&Wn(e[1],e[2],n)&&(o=e[1]),Gt(t,kt(o),[])}function Fr(e,t,n,r){return null==e?[]:(r&&Wn(t,n,r)&&(n=null),sa(t)||(t=null==t?[]:[t]),sa(n)||(n=null==n?[]:[n]),Gt(e,t,n))}function Xr(e,t){return Dr(e,Dt(t))}function Yr(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new So(z);var n=e;e=t,t=n}return e=Ko(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function Jr(e,t,n){return n&&Wn(e,t,n)&&(t=null),t=e&&null==t?e.length:es(+t||0,0),Sn(e,O,null,null,null,null,t)}function qr(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new So(z);var r=e;e=t,t=r}return function(){return--e>0?n=t.apply(this,arguments):t=null,n}}function Qr(e,t,n){function r(){f&&Bo(f),u&&Bo(u),u=f=h=C}function i(){var n=t-(Js()-l);if(0>=n||n>t){u&&Bo(u);var r=h;u=f=h=C,r&&(p=Js(),c=e.apply(d,a),f||u||(a=d=null))}else f=Xo(i,n)}function o(){f&&Bo(f),u=f=h=C,(v||m!==t)&&(p=Js(),c=e.apply(d,a),f||u||(a=d=null))}function s(){if(a=arguments,l=Js(),d=this,h=v&&(f||!b),m===!1)var n=b&&!f;else{u||b||(p=l);var r=m-(l-p),s=0>=r||r>m;s?(u&&(u=Bo(u)),p=l,c=e.apply(d,a)):u||(u=Xo(o,r))}return s&&f?f=Bo(f):f||t===m||(f=Xo(i,t)),n&&(s=!0,c=e.apply(d,a)),!s||f||u||(a=d=null),c}var a,u,c,l,d,f,h,p=0,m=!1,v=!0;if("function"!=typeof e)throw new So(z);if(t=0>t?0:+t||0,n===!0){var b=!0;v=!1}else fi(n)&&(b=n.leading,m="maxWait"in n&&es(+n.maxWait||0,t),v="trailing"in n?n.trailing:v);return s.cancel=r,s}function Pr(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new So(z);var n=function(){var r=arguments,i=n.cache,o=t?t.apply(this,r):r[0];if(i.has(o))return i.get(o);var s=e.apply(this,r);return i.set(o,s),s};return n.cache=new Pr.Cache,n}function Hr(e){if("function"!=typeof e)throw new So(z);return function(){return!e.apply(this,arguments)}}function Kr(e){return qr(e,2)}function $r(e,t){if("function"!=typeof e)throw new So(z);return t=es("undefined"==typeof t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=es(n.length-t,0),o=mo(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var s=mo(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=o,e.apply(this,s)}}function ei(e){if("function"!=typeof e)throw new So(z);return function(t){return e.apply(this,t)}}function ti(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new So(z);return n===!1?r=!1:fi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Le.leading=r,Le.maxWait=+t,Le.trailing=i,Qr(e,t,Le)}function ni(e,t){return t=null==t?to:t,Sn(t,D,null,[e],[])}function ri(e,t,n,r){return t&&"boolean"!=typeof t&&Wn(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),n="function"==typeof n&&Pt(n,r,1),vt(e,t,n)}function ii(e,t,n){return t="function"==typeof t&&Pt(t,n,1),vt(e,!0,t)}function oi(e){var t=b(e)?e.length:C;return Zn(t)&&Ao.call(e)==X}function si(e){return e===!0||e===!1||b(e)&&Ao.call(e)==J}function ai(e){return b(e)&&Ao.call(e)==q}function ui(e){return!!e&&1===e.nodeType&&b(e)&&Ao.call(e).indexOf("Element")>-1}function ci(e){if(null==e)return!0;var t=e.length;return Zn(t)&&(sa(e)||yi(e)||oi(e)||b(e)&&ua(e.splice))?!t:!ga(e).length}function li(e,t,n,r){if(n="function"==typeof n&&Pt(n,r,3),!n&&Bn(e)&&Bn(t))return e===t;var i=n?n(e,t):C;return"undefined"==typeof i?Nt(e,t,n):!!i}function di(e){return b(e)&&"string"==typeof e.message&&Ao.call(e)==Q}function fi(e){var t=typeof e;return"function"==t||!!e&&"object"==t}function hi(e,t,n,r){var i=ga(t),o=i.length;if(!o)return!0;if(null==e)return!1;if(n="function"==typeof n&&Pt(n,r,3),!n&&1==o){var s=i[0],a=t[s];if(Bn(a))return a===e[s]&&("undefined"!=typeof a||s in Jn(e))}for(var u=mo(o),c=mo(o);o--;)a=u[o]=t[i[o]],c[o]=Bn(a);return Tt(Jn(e),i,u,c,n)}function pi(e){return bi(e)&&e!=+e}function mi(e){return null==e?!1:Ao.call(e)==P?Io.test(Ro.call(e)):b(e)&&Ne.test(e)}function vi(e){return null===e}function bi(e){return"number"==typeof e||b(e)&&Ao.call(e)==K}function gi(e){return b(e)&&Ao.call(e)==ee||!1}function yi(e){return"string"==typeof e||b(e)&&Ao.call(e)==ne}function wi(e){return b(e)&&Zn(e.length)&&!!Ze[Ao.call(e)]}function _i(e){return"undefined"==typeof e}function xi(e){var t=e?e.length:0;return Zn(t)?t?Pe(e):[]:Ai(e)}function ki(e){return pt(e,Ni(e))}function Si(e,t,n){var r=vs(e);return n&&Wn(e,t,n)&&(t=null),t?pt(t,r,ga(t)):r}function Ci(e){return jt(e,Ni(e))}function Ei(e,t){return e?Uo.call(e,t):!1}function ji(e,t,n){n&&Wn(e,t,n)&&(t=null);for(var r=-1,i=ga(e),o=i.length,s={};++r<o;){var a=i[r],u=e[a];t?Uo.call(s,u)?s[u].push(a):s[u]=[a]:s[u]=a}return s}function Ni(e){if(null==e)return[];fi(e)||(e=_o(e));var t=e.length;t=t&&Zn(t)&&(sa(e)||ms.nonEnumArgs&&oi(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,o=mo(t),s=t>0;++r<t;)o[r]=r+"";for(var a in e)s&&In(a,t)||"constructor"==a&&(i||!Uo.call(e,a))||o.push(a);return o}function Ri(e,t,n){var r={};return t=Rn(t,n,3),Ct(e,function(e,n,i){r[n]=t(e,n,i)}),r}function Ti(e){for(var t=-1,n=ga(e),r=n.length,i=mo(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function Ui(e,t,n){var r=null==e?C:e[t];return"undefined"==typeof r&&(r=n),ua(r)?r.call(e):r}function Di(e,t,n,r){var i=sa(e)||wi(e);if(t=Rn(t,r,4),null==n)if(i||fi(e)){var o=e.constructor;n=i?sa(e)?new o:[]:vs(ua(o)&&o.prototype)}else n={};return(i?He:Ct)(e,function(e,r,i){return t(n,e,r,i)}),n}function Ai(e){return Xt(e,ga(e))}function Oi(e){return Xt(e,Ni(e))}function Ii(e,t,n){return t=+t||0,"undefined"==typeof n?(n=t,t=0):n=+n||0,e>=t&&n>e}function Wi(e,t,n){n&&Wn(e,t,n)&&(t=n=null);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=os();return ts(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t)}return Mt(e,t)}function Mi(e){return e=a(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function Zi(e){return e=a(e),e&&e.replace(Re,h).replace(Se,"")}function Bi(e,t,n){e=a(e),t+="";var r=e.length;return n="undefined"==typeof n?r:ts(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function Li(e){return e=a(e),e&&we.test(e)?e.replace(ge,p):e}function Vi(e){return e=a(e),e&&De.test(e)?e.replace(Ue,"\\$&"):e}function Gi(e,t,n){e=a(e),t=+t;var r=e.length;if(r>=t||!Ko(t))return e;var i=(t-r)/2,o=Lo(i),s=Zo(i);return n=_n("",s,n),n.slice(0,o)+e+n}function zi(e,t,n){return n&&Wn(e,t,n)&&(t=0),is(e,t)}function Fi(e,t){var n="";if(e=a(e),t=+t,1>t||!e||!Ko(t))return n;do t%2&&(n+=e),t=Lo(t/2),e+=e;while(t);return n}function Xi(e,t,n){return e=a(e),n=null==n?0:ts(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function Yi(e,n,r){var i=t.templateSettings;r&&Wn(e,n,r)&&(n=r=null),e=a(e),n=ft(ft({},r||n),i,dt);var o,s,u=ft(ft({},n.imports),i.imports,dt),c=ga(u),l=Xt(u,c),d=0,f=n.interpolate||Te,h="__p += '",p=xo((n.escape||Te).source+"|"+f.source+"|"+(f===ke?Ce:Te).source+"|"+(n.evaluate||Te).source+"|$","g"),v="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Me+"]")+"\n";e.replace(p,function(t,n,r,i,a,u){return r||(r=i),h+=e.slice(d,u).replace(Ae,m),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=u+t.length,t}),h+="';\n";var b=n.variable;b||(h="with (obj) {\n"+h+"\n}\n"),h=(s?h.replace(pe,""):h).replace(me,"$1").replace(ve,"$1;"),h="function("+(b||"obj")+") {\n"+(b?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Na(function(){return go(c,v+"return "+h).apply(C,l)});if(g.source=h,di(g))throw g;return g}function Ji(e,t,n){var r=e;return(e=a(e))?(n?Wn(r,t,n):null==t)?e.slice(_(e),x(e)+1):(t+="",e.slice(c(e,t),l(e,t)+1)):e}function qi(e,t,n){var r=e;return e=a(e),e?e.slice((n?Wn(r,t,n):null==t)?_(e):c(e,t+"")):e}function Qi(e,t,n){var r=e;return e=a(e),e?(n?Wn(r,t,n):null==t)?e.slice(0,x(e)+1):e.slice(0,l(e,t+"")+1):e}function Pi(e,t,n){n&&Wn(e,t,n)&&(t=null);var r=W,i=M;if(null!=t)if(fi(t)){var o="separator"in t?t.separator:o;r="length"in t?+t.length||0:r,i="omission"in t?a(t.omission):i}else r=+t||0;if(e=a(e),r>=e.length)return e;var s=r-i.length;if(1>s)return i;var u=e.slice(0,s);if(null==o)return u+i;if(gi(o)){if(e.slice(s).search(o)){var c,l,d=e.slice(0,s);for(o.global||(o=xo(o.source,(Ee.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(d);)l=c.index;

u=u.slice(0,null==l?s:l)}}else if(e.indexOf(o,s)!=s){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+i}function Hi(e){return e=a(e),e&&ye.test(e)?e.replace(be,k):e}function Ki(e,t,n){return n&&Wn(e,t,n)&&(t=null),e=a(e),e.match(t||Oe)||[]}function $i(e,t,n){return n&&Wn(e,t,n)&&(t=null),b(e)?no(e):mt(e,t)}function eo(e){return function(){return e}}function to(e){return e}function no(e){return Dt(vt(e,!0))}function ro(e,t){return At(e+"",vt(t,!0))}function io(e,t,n){if(null==n){var r=fi(t),i=r&&ga(t),o=i&&i.length&&jt(t,i);(o?o.length:r)||(o=!1,n=t,t=e,e=this)}o||(o=jt(t,ga(t)));var s=!0,a=-1,u=ua(e),c=o.length;n===!1?s=!1:fi(n)&&"chain"in n&&(s=n.chain);for(;++a<c;){var l=o[a],d=t[l];e[l]=d,u&&(e.prototype[l]=function(t){return function(){var n=this.__chain__;if(s||n){var r=e(this.__wrapped__),i=r.__actions__=Pe(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}var o=[this.value()];return Go.apply(o,arguments),t.apply(e,o)}}(d))}return e}function oo(){return e._=Oo,this}function so(){}function ao(e){return Wt(e+"")}function uo(e){return function(t){return null==e?C:e[t]}}function co(e,t,n){n&&Wn(e,t,n)&&(t=n=null),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=es(Zo((t-e)/(n||1)),0),o=mo(i);++r<i;)o[r]=e,e+=n;return o}function lo(e,t,n){if(e=+e,1>e||!Ko(e))return[];var r=-1,i=mo(ts(e,us));for(t=Pt(t,n,1);++r<e;)us>r?i[r]=t(r):t(r);return i}function fo(e){var t=++Do;return a(e)+t}function ho(e,t){return e+t}function po(e,t,n){n&&Wn(e,t,n)&&(t=null);var r=Rn(),i=null==t;return r===mt&&i||(i=!1,t=r(t,n,3)),i?ct(sa(e)?e:Yn(e)):zt(e,t)}e=e?$e.defaults(Ke.Object(),e,$e.pick(Ke,We)):Ke;var mo=e.Array,vo=e.Date,bo=e.Error,go=e.Function,yo=e.Math,wo=e.Number,_o=e.Object,xo=e.RegExp,ko=e.String,So=e.TypeError,Co=mo.prototype,Eo=_o.prototype,jo=ko.prototype,No=(No=e.window)&&No.document,Ro=go.prototype.toString,To=Wt("length"),Uo=Eo.hasOwnProperty,Do=0,Ao=Eo.toString,Oo=e._,Io=xo("^"+Vi(Ao).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wo=mi(Wo=e.ArrayBuffer)&&Wo,Mo=mi(Mo=Wo&&new Wo(0).slice)&&Mo,Zo=yo.ceil,Bo=e.clearTimeout,Lo=yo.floor,Vo=mi(Vo=_o.getPrototypeOf)&&Vo,Go=Co.push,zo=Eo.propertyIsEnumerable,Fo=mi(Fo=e.Set)&&Fo,Xo=e.setTimeout,Yo=Co.splice,Jo=mi(Jo=e.Uint8Array)&&Jo,qo=mi(qo=e.WeakMap)&&qo,Qo=function(){try{var t=mi(t=e.Float64Array)&&t,n=new t(new Wo(10),0,1)&&t}catch(r){}return n}(),Po=mi(Po=mo.isArray)&&Po,Ho=mi(Ho=_o.create)&&Ho,Ko=e.isFinite,$o=mi($o=_o.keys)&&$o,es=yo.max,ts=yo.min,ns=mi(ns=vo.now)&&ns,rs=mi(rs=wo.isFinite)&&rs,is=e.parseInt,os=yo.random,ss=wo.NEGATIVE_INFINITY,as=wo.POSITIVE_INFINITY,us=yo.pow(2,32)-1,cs=us-1,ls=us>>>1,ds=Qo?Qo.BYTES_PER_ELEMENT:0,fs=yo.pow(2,53)-1,hs=qo&&new qo,ps={},ms=t.support={};!function(e){ms.funcDecomp=/\bthis\b/.test(function(){return this}),ms.funcNames="string"==typeof go.name;try{ms.dom=11===No.createDocumentFragment().nodeType}catch(t){ms.dom=!1}try{ms.nonEnumArgs=!zo.call(arguments,1)}catch(t){ms.nonEnumArgs=!0}}(0,0),t.templateSettings={escape:_e,evaluate:xe,interpolate:ke,variable:"",imports:{_:t}};var vs=function(){function t(){}return function(n){if(fi(n)){t.prototype=n;var r=new t;t.prototype=null}return r||e.Object()}}(),bs=nn(Ct),gs=nn(Et,!0),ys=rn(),ws=rn(!0),_s=hs?function(e,t){return hs.set(e,t),e}:to;Mo||(Ht=Wo&&Jo?function(e){var t=e.byteLength,n=Qo?Lo(t/ds):0,r=n*ds,i=new Wo(t);if(n){var o=new Qo(i,0,n);o.set(new Qo(e,0,n))}return t!=r&&(o=new Jo(i,r),o.set(new Jo(e,r))),i}:eo(null));var xs=Ho&&Fo?function(e){return new Je(e)}:eo(null),ks=hs?function(e){return hs.get(e)}:so,Ss=function(){return ms.funcNames?"constant"==eo.name?Wt("name"):function(e){for(var t=e.name,n=ps[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}:eo("")}(),Cs=function(){var e=0,t=0;return function(n,r){var i=Js(),o=B-(i-t);if(t=i,o>0){if(++e>=Z)return n}else e=0;return _s(n,r)}}(),Es=$r(function(e,t){return sa(e)||oi(e)?gt(e,kt(t,!1,!0)):[]}),js=dn(),Ns=dn(!0),Rs=$r(function(e,t){e||(e=[]),t=kt(t);var n=t.length,i=ht(e,t);for(t.sort(r);n--;){var o=parseFloat(t[n]);if(o!=s&&In(o)){var s=o;Yo.call(e,o,1)}}return i}),Ts=kn(),Us=kn(!0),Ds=$r(function(e){return Ft(kt(e,!1,!0))}),As=$r(function(e,t){return sa(e)||oi(e)?gt(e,t):[]}),Os=$r(yr),Is=$r(function(e,t){var n=e?e.length:0;return Zn(n)&&(e=Yn(e)),ht(e,kt(t))}),Ws=en(function(e,t,n){Uo.call(e,n)?++e[n]:e[n]=1}),Ms=ln(bs),Zs=ln(gs,!0),Bs=pn(He,bs),Ls=pn(et,gs),Vs=en(function(e,t,n){Uo.call(e,n)?e[n].push(t):e[n]=[t]}),Gs=en(function(e,t,n){e[n]=t}),zs=$r(function(e,t,n){var r=-1,i="function"==typeof t,o=e?e.length:0,s=Zn(o)?mo(o):[];return bs(e,function(e){var o=i?t:null!=e&&e[t];s[++r]=o?o.apply(e,n):C}),s}),Fs=en(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Xs=yn(st,bs),Ys=yn(at,gs),Js=ns||function(){return(new vo).getTime()},qs=$r(function(e,t,n){var r=j;if(n.length){var i=y(n,qs.placeholder);r|=D}return Sn(e,r,t,n,i)}),Qs=$r(function(e,t){t=t.length?kt(t):Ci(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Sn(e[i],j,e)}return e}),Ps=$r(function(e,t,n){var r=j|N;if(n.length){var i=y(n,Ps.placeholder);r|=D}return Sn(t,r,e,n,i)}),Hs=un(T),Ks=un(U),$s=$r(function(e,t){return bt(e,1,t)}),ea=$r(function(e,t,n){return bt(e,t,n)}),ta=hn(),na=hn(!0),ra=gn(D),ia=gn(A),oa=$r(function(e,t){return Sn(e,I,null,null,null,kt(t))}),sa=Po||function(e){return b(e)&&Zn(e.length)&&Ao.call(e)==Y};ms.dom||(ui=function(e){return!!e&&1===e.nodeType&&b(e)&&!ca(e)});var aa=rs||function(e){return"number"==typeof e&&Ko(e)},ua=s(/x/)||Jo&&!s(Jo)?function(e){return Ao.call(e)==P}:s,ca=Vo?function(e){if(!e||Ao.call(e)!=$)return!1;var t=e.valueOf,n=mi(t)&&(n=Vo(t))&&Vo(n);return n?e==n||Vo(e)==n:Fn(e)}:Fn,la=tn(ft),da=$r(function(e){var t=e[0];return null==t?t:(e.push(lt),la.apply(C,e))}),fa=fn(Ct),ha=fn(Et),pa=mn(ys),ma=mn(ws),va=vn(Ct),ba=vn(Et),ga=$o?function(e){if(e)var t=e.constructor,n=e.length;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&n&&Zn(n)?Xn(e):fi(e)?$o(e):[]}:Xn,ya=tn(Ot),wa=$r(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=rt(kt(t),ko);return Vn(e,gt(Ni(e),t))}var n=Pt(t[0],t[1],3);return Gn(e,function(e,t,r){return!n(e,t,r)})}),_a=$r(function(e,t){return null==e?{}:"function"==typeof t[0]?Gn(e,Pt(t[0],t[1],3)):Vn(e,kt(t))}),xa=sn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),ka=sn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Sa=bn(),Ca=bn(!0);8!=is(Ie+"08")&&(zi=function(e,t,n){return(n?Wn(e,t,n):null==t)?t=0:t&&(t=+t),e=Ji(e),is(e,t||(je.test(e)?16:10))});var Ea=sn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),ja=sn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Na=$r(function(e,t){try{return e.apply(C,t)}catch(n){return di(n)?n:new bo(n)}}),Ra=cn(it),Ta=cn(ot,!0);return t.prototype=n.prototype,g.prototype=vs(n.prototype),g.prototype.constructor=g,H.prototype=vs(n.prototype),H.prototype.constructor=H,Ge.prototype["delete"]=ze,Ge.prototype.get=Fe,Ge.prototype.has=Xe,Ge.prototype.set=Ye,Je.prototype.push=Qe,Pr.Cache=Ge,t.after=Yr,t.ary=Jr,t.assign=la,t.at=Is,t.before=qr,t.bind=qs,t.bindAll=Qs,t.bindKey=Ps,t.callback=$i,t.chain=xr,t.chunk=Qn,t.compact=Pn,t.constant=eo,t.countBy=Ws,t.create=Si,t.curry=Hs,t.curryRight=Ks,t.debounce=Qr,t.defaults=da,t.defer=$s,t.delay=ea,t.difference=Es,t.drop=Hn,t.dropRight=Kn,t.dropRightWhile=$n,t.dropWhile=er,t.fill=tr,t.filter=Dr,t.flatten=rr,t.flattenDeep=ir,t.flow=ta,t.flowRight=na,t.forEach=Bs,t.forEachRight=Ls,t.forIn=pa,t.forInRight=ma,t.forOwn=va,t.forOwnRight=ba,t.functions=Ci,t.groupBy=Vs,t.indexBy=Gs,t.initial=sr,t.intersection=ar,t.invert=ji,t.invoke=zs,t.keys=ga,t.keysIn=Ni,t.map=Ir,t.mapValues=Ri,t.matches=no,t.matchesProperty=ro,t.memoize=Pr,t.merge=ya,t.mixin=io,t.negate=Hr,t.omit=wa,t.once=Kr,t.pairs=Ti,t.partial=ra,t.partialRight=ia,t.partition=Fs,t.pick=_a,t.pluck=Wr,t.property=ao,t.propertyOf=uo,t.pull=lr,t.pullAt=Rs,t.range=co,t.rearg=oa,t.reject=Mr,t.remove=dr,t.rest=fr,t.restParam=$r,t.shuffle=Br,t.slice=hr,t.sortBy=Gr,t.sortByAll=zr,t.sortByOrder=Fr,t.spread=ei,t.take=pr,t.takeRight=mr,t.takeRightWhile=vr,t.takeWhile=br,t.tap=kr,t.throttle=ti,t.thru=Sr,t.times=lo,t.toArray=xi,t.toPlainObject=ki,t.transform=Di,t.union=Ds,t.uniq=gr,t.unzip=yr,t.values=Ai,t.valuesIn=Oi,t.where=Xr,t.without=As,t.wrap=ni,t.xor=wr,t.zip=Os,t.zipObject=_r,t.backflow=na,t.collect=Ir,t.compose=na,t.each=Bs,t.eachRight=Ls,t.extend=la,t.iteratee=$i,t.methods=Ci,t.object=_r,t.select=Dr,t.tail=fr,t.unique=gr,io(t,t),t.add=ho,t.attempt=Na,t.camelCase=xa,t.capitalize=Mi,t.clone=ri,t.cloneDeep=ii,t.deburr=Zi,t.endsWith=Bi,t.escape=Li,t.escapeRegExp=Vi,t.every=Ur,t.find=Ms,t.findIndex=js,t.findKey=fa,t.findLast=Zs,t.findLastIndex=Ns,t.findLastKey=ha,t.findWhere=Ar,t.first=nr,t.has=Ei,t.identity=to,t.includes=Or,t.indexOf=or,t.inRange=Ii,t.isArguments=oi,t.isArray=sa,t.isBoolean=si,t.isDate=ai,t.isElement=ui,t.isEmpty=ci,t.isEqual=li,t.isError=di,t.isFinite=aa,t.isFunction=ua,t.isMatch=hi,t.isNaN=pi,t.isNative=mi,t.isNull=vi,t.isNumber=bi,t.isObject=fi,t.isPlainObject=ca,t.isRegExp=gi,t.isString=yi,t.isTypedArray=wi,t.isUndefined=_i,t.kebabCase=ka,t.last=ur,t.lastIndexOf=cr,t.max=Ra,t.min=Ta,t.noConflict=oo,t.noop=so,t.now=Js,t.pad=Gi,t.padLeft=Sa,t.padRight=Ca,t.parseInt=zi,t.random=Wi,t.reduce=Xs,t.reduceRight=Ys,t.repeat=Fi,t.result=Ui,t.runInContext=S,t.size=Lr,t.snakeCase=Ea,t.some=Vr,t.sortedIndex=Ts,t.sortedLastIndex=Us,t.startCase=ja,t.startsWith=Xi,t.sum=po,t.template=Yi,t.trim=Ji,t.trimLeft=qi,t.trimRight=Qi,t.trunc=Pi,t.unescape=Hi,t.uniqueId=fo,t.words=Ki,t.all=Ur,t.any=Vr,t.contains=Or,t.detect=Ms,t.foldl=Xs,t.foldr=Ys,t.head=nr,t.include=Or,t.inject=Xs,io(t,function(){var e={};return Ct(t,function(n,r){t.prototype[r]||(e[r]=n)}),e}(),!1),t.sample=Zr,t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return Zr(t,e)}):Zr(this.value())},t.VERSION=E,He(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),He(["dropWhile","filter","map","takeWhile"],function(e,t){var n=t!=G,r=t==L;H.prototype[e]=function(e,i){var o=this.__filtered__,s=o&&r?new H(this):this.clone(),a=s.__iteratees__||(s.__iteratees__=[]);return a.push({done:!1,count:0,index:0,iteratee:Rn(e,i,1),limit:-1,type:t}),s.__filtered__=o||n,s}}),He(["drop","take"],function(e,t){var n=e+"While";H.prototype[e]=function(n){var r=this.__filtered__,i=r&&!t?this.dropWhile():this.clone();if(n=null==n?1:es(Lo(n)||0,0),r)t?i.__takeCount__=ts(i.__takeCount__,n):ur(i.__iteratees__).limit=n;else{var o=i.__views__||(i.__views__=[]);o.push({size:n,type:e+(i.__dir__<0?"Right":"")})}return i},H.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()},H.prototype[e+"RightWhile"]=function(e,t){return this.reverse()[n](e,t).reverse()}}),He(["first","last"],function(e,t){var n="take"+(t?"Right":"");H.prototype[e]=function(){return this[n](1).value()[0]}}),He(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");H.prototype[e]=function(){return this[n](1)}}),He(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Dt:Wt;H.prototype[e]=function(e){return this[n](r(e))}}),H.prototype.compact=function(){return this.filter(to)},H.prototype.reject=function(e,t){return e=Rn(e,t,1),this.filter(function(t){return!e(t)})},H.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=0>e?this.takeRight(-e):this.drop(e);return"undefined"!=typeof t&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n},H.prototype.toArray=function(){return this.drop(0)},Ct(H.prototype,function(e,n){var r=t[n];if(r){var i=/^(?:filter|map|reject)|While$/.test(n),o=/^(?:first|last)$/.test(n);t.prototype[n]=function(){var n=arguments,s=(n.length,this.__chain__),a=this.__wrapped__,u=!!this.__actions__.length,c=a instanceof H,l=n[0],d=c||sa(a);d&&i&&"function"==typeof l&&1!=l.length&&(c=d=!1);var f=c&&!u;if(o&&!s)return f?e.call(a):r.call(t,this.value());var h=function(e){var i=[e];return Go.apply(i,n),r.apply(t,i)};if(d){var p=f?a:new H(this),m=e.apply(p,n);if(!o&&(u||m.__actions__)){var v=m.__actions__||(m.__actions__=[]);v.push({func:Sr,args:[h],thisArg:t})}return new g(m,s)}return this.thru(h)}}}),He(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?jo:Co)[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?n.apply(this.value(),e):this[r](function(t){return n.apply(t,e)})}}),Ct(H.prototype,function(e,n){var r=t[n];if(r){var i=r.name,o=ps[i]||(ps[i]=[]);o.push({name:n,func:r})}}),ps[wn(null,N).name]=[{name:"wrapper",func:null}],H.prototype.clone=te,H.prototype.reverse=re,H.prototype.value=Ve,t.prototype.chain=Cr,t.prototype.commit=Er,t.prototype.plant=jr,t.prototype.reverse=Nr,t.prototype.toString=Rr,t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Tr,t.prototype.collect=t.prototype.map,t.prototype.head=t.prototype.first,t.prototype.select=t.prototype.filter,t.prototype.tail=t.prototype.rest,t}var C,E="3.6.0",j=1,N=2,R=4,T=8,U=16,D=32,A=64,O=128,I=256,W=30,M="...",Z=150,B=16,L=0,V=1,G=2,z="Expected a function",F="__lodash_placeholder__",X="[object Arguments]",Y="[object Array]",J="[object Boolean]",q="[object Date]",Q="[object Error]",P="[object Function]",H="[object Map]",K="[object Number]",$="[object Object]",ee="[object RegExp]",te="[object Set]",ne="[object String]",re="[object WeakMap]",ie="[object ArrayBuffer]",oe="[object Float32Array]",se="[object Float64Array]",ae="[object Int8Array]",ue="[object Int16Array]",ce="[object Int32Array]",le="[object Uint8Array]",de="[object Uint8ClampedArray]",fe="[object Uint16Array]",he="[object Uint32Array]",pe=/\b__p \+= '';/g,me=/\b(__p \+=) '' \+/g,ve=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/&(?:amp|lt|gt|quot|#39|#96);/g,ge=/[&<>"'`]/g,ye=RegExp(be.source),we=RegExp(ge.source),_e=/<%-([\s\S]+?)%>/g,xe=/<%([\s\S]+?)%>/g,ke=/<%=([\s\S]+?)%>/g,Se=/[\u0300-\u036f\ufe20-\ufe23]/g,Ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ee=/\w*$/,je=/^0[xX]/,Ne=/^\[object .+?Constructor\]$/,Re=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Te=/($^)/,Ue=/[.*+?^${}()|[\]\/\\]/g,De=RegExp(Ue.source),Ae=/['\n\r\u2028\u2029\\]/g,Oe=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Ie=" 	\f\ufeff\n\r\u2028\u2029",We=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],Me=-1,Ze={};Ze[oe]=Ze[se]=Ze[ae]=Ze[ue]=Ze[ce]=Ze[le]=Ze[de]=Ze[fe]=Ze[he]=!0,Ze[X]=Ze[Y]=Ze[ie]=Ze[J]=Ze[q]=Ze[Q]=Ze[P]=Ze[H]=Ze[K]=Ze[$]=Ze[ee]=Ze[te]=Ze[ne]=Ze[re]=!1;var Be={};Be[X]=Be[Y]=Be[ie]=Be[J]=Be[q]=Be[oe]=Be[se]=Be[ae]=Be[ue]=Be[ce]=Be[K]=Be[$]=Be[ee]=Be[ne]=Be[le]=Be[de]=Be[fe]=Be[he]=!0,Be[Q]=Be[P]=Be[H]=Be[te]=Be[re]=!1;var Le={leading:!1,maxWait:0,trailing:!1},Ve={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Ge={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},ze={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Fe={"function":!0,object:!0},Xe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ye=Fe[typeof n]&&n&&!n.nodeType&&n,Je=Fe[typeof t]&&t&&!t.nodeType&&t,qe=Ye&&Je&&"object"==typeof e&&e,Qe=Fe[typeof self]&&self&&self.Object&&self,Pe=Fe[typeof window]&&window&&window.Object&&window,He=Je&&Je.exports===Ye&&Ye,Ke=qe||Pe!==(this&&this.window)&&Pe||Qe||this,$e=S();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Ke._=$e,define(function(){return $e})):Ye&&Je?He?(Je.exports=$e)._=$e:Ye._=$e:Ke._=$e}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/andersriutta/Sites/kaavio/node_modules/mithril/mithril.js":[function(e,t,n){var r=function i(e,t){function n(e){R=e.document,T=e.location,D=e.cancelAnimationFrame||e.clearTimeout,U=e.requestAnimationFrame||e.setTimeout}function r(){var e,t=[].slice.call(arguments),n=!(null==t[1]||M.call(t[1])!==A||"tag"in t[1]||"view"in t[1]||"subtree"in t[1]),r=n?t[1]:{},i="class"in r?"class":"className",o={tag:"div",attrs:{}},s=[];if(M.call(t[0])!=I)throw new Error("selector in m(selector, attrs, children) should be a string");for(;e=Z.exec(t[0]);)if(""===e[1]&&e[2])o.tag=e[2];else if("#"===e[1])o.attrs.id=e[2];else if("."===e[1])s.push(e[2]);else if("["===e[3][0]){var a=B.exec(e[3]);o.attrs[a[1]]=a[3]||(a[2]?"":!0)}var u=t.slice(n?2:1);o.children=1===u.length&&M.call(u[0])===O?u[0]:u;for(var c in r)r.hasOwnProperty(c)&&(c===i&&null!=r[c]&&""!==r[c]?(s.push(r[c]),o.attrs[c]=""):o.attrs[c]=r[c]);return s.length>0&&(o.attrs[i]=s.join(" ")),o}function o(e,n,i,c,d,f,h,p,m,v,b){try{(null==d||null==d.toString())&&(d="")}catch(g){d=""}if("retain"===d.subtree)return f;var y=M.call(f),w=M.call(d);if(null==f||y!==w){if(null!=f)if(i&&i.nodes){var _=p-c,x=_+(w===O?d:f.nodes).length;u(i.nodes.slice(_,x),i.slice(_,x))}else f.nodes&&u(f.nodes,f);f=new d.constructor,f.tag&&(f={}),f.nodes=[]}if(w===O){for(var k=0,S=d.length;S>k;k++)M.call(d[k])===O&&(d=d.concat.apply([],d),k--,S=d.length);for(var C=[],E=f.length===d.length,j=0,N=1,T=2,U=3,D={},Z=!1,k=0;k<f.length;k++)f[k]&&f[k].attrs&&null!=f[k].attrs.key&&(Z=!0,D[f[k].attrs.key]={action:N,index:k});for(var B=0,k=0,S=d.length;S>k;k++)if(d[k]&&d[k].attrs&&null!=d[k].attrs.key){for(var G=0,S=d.length;S>G;G++)d[G]&&d[G].attrs&&null==d[G].attrs.key&&(d[G].attrs.key="__mithril__"+B++);break}if(Z){var z=!1;if(d.length!=f.length)z=!0;else for(var F,X,k=0;F=f[k],X=d[k];k++)if(F.attrs&&X.attrs&&F.attrs.key!=X.attrs.key){z=!0;break}if(z){for(var k=0,S=d.length;S>k;k++)if(d[k]&&d[k].attrs&&null!=d[k].attrs.key){var Y=d[k].attrs.key;D[Y]=D[Y]?{action:U,index:k,from:D[Y].index,element:f.nodes[D[Y].index]||R.createElement("div")}:{action:T,index:k}}var J=[];for(var q in D)J.push(D[q]);var Q=J.sort(s),P=new Array(f.length);P.nodes=f.nodes.slice();for(var H,k=0;H=Q[k];k++){if(H.action===N&&(u(f[H.index].nodes,f[H.index]),P.splice(H.index,1)),H.action===T){var K=R.createElement("div");K.key=d[H.index].attrs.key,e.insertBefore(K,e.childNodes[H.index]||null),P.splice(H.index,0,{attrs:{key:d[H.index].attrs.key},nodes:[K]}),P.nodes[H.index]=K}H.action===U&&(e.childNodes[H.index]!==H.element&&null!==H.element&&e.insertBefore(H.element,e.childNodes[H.index]||null),P[H.index]=f[H.from],P.nodes[H.index]=H.element)}f=P}}for(var k=0,$=0,S=d.length;S>k;k++){var te=o(e,n,f,p,d[k],f[$],h,p+j||j,m,v,b);te!==t&&(te.nodes.intact||(E=!1),j+=te.$trusted?(te.match(/<[^\/]|\>\s*[^<]/g)||[0]).length:M.call(te)===O?te.length:1,f[$++]=te)}if(!E){for(var k=0,S=d.length;S>k;k++)null!=f[k]&&C.push.apply(C,f[k].nodes);for(var ne,k=0;ne=f.nodes[k];k++)null!=ne.parentNode&&C.indexOf(ne)<0&&u([ne],[f[k]]);d.length<f.length&&(f.length=d.length),f.nodes=C}}else if(null!=d&&w===A){for(var ie=[],oe=[];d.view;){var se=d.view.$original||d.view,ae="diff"==r.redraw.strategy()&&f.views?f.views.indexOf(se):-1,ue=ae>-1?f.controllers[ae]:new(d.controller||V),Y=d&&d.attrs&&d.attrs.key;if(d=0==re||f&&f.controllers&&f.controllers.indexOf(ue)>-1?d.view(ue):{tag:"placeholder"},"retain"===d.subtree)return f;Y&&(d.attrs||(d.attrs={}),d.attrs.key=Y),ue.onunload&&ee.push({controller:ue,handler:ue.onunload}),ie.push(se),oe.push(ue)}if(!d.tag&&oe.length)throw new Error("Component template must return a virtual element, not an array, string, etc.");d.attrs||(d.attrs={}),f.attrs||(f.attrs={});var ce=Object.keys(d.attrs),le=ce.length>("key"in d.attrs?1:0);if((d.tag!=f.tag||ce.sort().join()!=Object.keys(f.attrs).sort().join()||d.attrs.id!=f.attrs.id||d.attrs.key!=f.attrs.key||"all"==r.redraw.strategy()&&(!f.configContext||f.configContext.retain!==!0)||"diff"==r.redraw.strategy()&&f.configContext&&f.configContext.retain===!1)&&(f.nodes.length&&u(f.nodes),f.configContext&&typeof f.configContext.onunload===W&&f.configContext.onunload(),f.controllers))for(var ue,k=0;ue=f.controllers[k];k++)typeof ue.onunload===W&&ue.onunload({preventDefault:V});if(M.call(d.tag)!=I)return;var ne,de=0===f.nodes.length;if(d.attrs.xmlns?v=d.attrs.xmlns:"svg"===d.tag?v="http://www.w3.org/2000/svg":"math"===d.tag&&(v="http://www.w3.org/1998/Math/MathML"),de){if(ne=d.attrs.is?v===t?R.createElement(d.tag,d.attrs.is):R.createElementNS(v,d.tag,d.attrs.is):v===t?R.createElement(d.tag):R.createElementNS(v,d.tag),f={tag:d.tag,attrs:le?a(ne,d.tag,d.attrs,{},v):d.attrs,children:null!=d.children&&d.children.length>0?o(ne,d.tag,t,t,d.children,f.children,!0,0,d.attrs.contenteditable?ne:m,v,b):d.children,nodes:[ne]},oe.length){f.views=ie,f.controllers=oe;for(var ue,k=0;ue=oe[k];k++)if(ue.onunload&&ue.onunload.$old&&(ue.onunload=ue.onunload.$old),re&&ue.onunload){var fe=ue.onunload;ue.onunload=V,ue.onunload.$old=fe}}f.children&&!f.children.nodes&&(f.children.nodes=[]),"select"===d.tag&&"value"in d.attrs&&a(ne,d.tag,{value:d.attrs.value},{},v),e.insertBefore(ne,e.childNodes[p]||null)}else ne=f.nodes[0],le&&a(ne,d.tag,d.attrs,f.attrs,v),f.children=o(ne,d.tag,t,t,d.children,f.children,!1,0,d.attrs.contenteditable?ne:m,v,b),f.nodes.intact=!0,oe.length&&(f.views=ie,f.controllers=oe),h===!0&&null!=ne&&e.insertBefore(ne,e.childNodes[p]||null);if(typeof d.attrs.config===W){var he=f.configContext=f.configContext||{},pe=function(e,t){return function(){return e.attrs.config.apply(e,t)}};b.push(pe(d,[ne,!de,he,f]))}}else if(typeof d!=W){var C;0===f.nodes.length?(d.$trusted?C=l(e,p,d):(C=[R.createTextNode(d)],e.nodeName.match(L)||e.insertBefore(C[0],e.childNodes[p]||null)),f="string number boolean".indexOf(typeof d)>-1?new d.constructor(d):d,f.nodes=C):f.valueOf()!==d.valueOf()||h===!0?(C=f.nodes,m&&m===R.activeElement||(d.$trusted?(u(C,f),C=l(e,p,d)):"textarea"===n?e.value=d:m?m.innerHTML=d:((1===C[0].nodeType||C.length>1)&&(u(f.nodes,f),C=[R.createTextNode(d)]),e.insertBefore(C[0],e.childNodes[p]||null),C[0].nodeValue=d)),f=new d.constructor(d),f.nodes=C):f.nodes.intact=!0}return f}function s(e,t){return e.action-t.action||e.index-t.index}function a(e,t,n,r,i){for(var o in n){var s=n[o],a=r[o];if(o in r&&a===s)"value"===o&&"input"===t&&e.value!=s&&(e.value=s);else{r[o]=s;try{if("config"===o||"key"==o)continue;if(typeof s===W&&0===o.indexOf("on"))e[o]=d(s,e);else if("style"===o&&null!=s&&M.call(s)===A){for(var u in s)(null==a||a[u]!==s[u])&&(e.style[u]=s[u]);for(var u in a)u in s||(e.style[u]="")}else null!=i?"href"===o?e.setAttributeNS("http://www.w3.org/1999/xlink","href",s):"className"===o?e.setAttribute("class",s):e.setAttribute(o,s):o in e&&"list"!==o&&"style"!==o&&"form"!==o&&"type"!==o&&"width"!==o&&"height"!==o?("input"!==t||e[o]!==s)&&(e[o]=s):e.setAttribute(o,s)}catch(c){if(c.message.indexOf("Invalid argument")<0)throw c}}}return r}function u(e,t){for(var n=e.length-1;n>-1;n--)if(e[n]&&e[n].parentNode){try{e[n].parentNode.removeChild(e[n])}catch(r){}t=[].concat(t),t[n]&&c(t[n])}0!=e.length&&(e.length=0)}function c(e){if(e.configContext&&typeof e.configContext.onunload===W&&(e.configContext.onunload(),e.configContext.onunload=null),e.controllers)for(var t,n=0;t=e.controllers[n];n++)typeof t.onunload===W&&t.onunload({preventDefault:V});if(e.children)if(M.call(e.children)===O)for(var r,n=0;r=e.children[n];n++)c(r);else e.children.tag&&c(e.children)}function l(e,t,n){var r=e.childNodes[t];if(r){var i=1!=r.nodeType,o=R.createElement("span");i?(e.insertBefore(o,r||null),o.insertAdjacentHTML("beforebegin",n),e.removeChild(o)):r.insertAdjacentHTML("beforebegin",n)}else e.insertAdjacentHTML("beforeend",n);for(var s=[];e.childNodes[t]!==r;)s.push(e.childNodes[t]),t++;return s}function d(e,t){return function(n){n=n||event,r.redraw.strategy("diff"),r.startComputation();try{return e.call(t,n)}finally{ie()}}}function f(e){var t=F.indexOf(e);return 0>t?F.push(e)-1:t}function h(e){var t=function(){return arguments.length&&(e=arguments[0]),e};return t.toJSON=function(){return e},t}function p(e,t){var n=function(){return(e.controller||V).apply(this,t)||this},r=function(n){return arguments.length>1&&(t=t.concat([].slice.call(arguments,1))),e.view.apply(e,t?[n].concat(t):[n])};r.$original=e.view;var i={controller:n,view:r};return t[0]&&null!=t[0].key&&(i.attrs={key:t[0].key}),i}function m(){K&&(K(),K=null);for(var e,t=0;e=J[t];t++)if(Q[t]){var n=q[t].controller&&q[t].controller.$$args?[Q[t]].concat(q[t].controller.$$args):[Q[t]];r.render(e,q[t].view?q[t].view(Q[t],n):"")}$&&($(),$=null),P=null,H=new Date,r.redraw.strategy("diff")}function v(e){return e.slice(ae[r.route.mode].length)}function b(e,t,n){oe={};var i=n.indexOf("?");-1!==i&&(oe=_(n.substr(i+1,n.length)),n=n.substr(0,i));var o=Object.keys(t),s=o.indexOf(n);if(-1!==s)return r.mount(e,t[o[s]]),!0;for(var a in t){if(a===n)return r.mount(e,t[a]),!0;var u=new RegExp("^"+a.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(u.test(n))return n.replace(u,function(){for(var n=a.match(/:[^\/]+/g)||[],i=[].slice.call(arguments,1,-2),o=0,s=n.length;s>o;o++)oe[n[o].replace(/:|\./g,"")]=decodeURIComponent(i[o]);r.mount(e,t[a])}),!0}}function g(e){if(e=e||event,!e.ctrlKey&&!e.metaKey&&2!==e.which){e.preventDefault?e.preventDefault():e.returnValue=!1;for(var t=e.currentTarget||e.srcElement,n="pathname"===r.route.mode&&t.search?_(t.search.slice(1)):{};t&&"A"!=t.nodeName.toUpperCase();)t=t.parentNode;r.route(t[r.route.mode].slice(ae[r.route.mode].length),n)}}function y(){"hash"!=r.route.mode&&T.hash?T.hash=T.hash:e.scrollTo(0,0)}function w(e,n){var r={},i=[];for(var o in e){var s=n?n+"["+o+"]":o,a=e[o],u=M.call(a),c=null===a?encodeURIComponent(s):u===A?w(a,s):u===O?a.reduce(function(e,t){return r[s]||(r[s]={}),r[s][t]?e:(r[s][t]=!0,e.concat(encodeURIComponent(s)+"="+encodeURIComponent(t)))},[]).join("&"):encodeURIComponent(s)+"="+encodeURIComponent(a);a!==t&&i.push(c)}return i.join("&")}function _(e){"?"===e.charAt(0)&&(e=e.substring(1));for(var t=e.split("&"),n={},r=0,i=t.length;i>r;r++){var o=t[r].split("="),s=decodeURIComponent(o[0]),a=2==o.length?decodeURIComponent(o[1]):null;null!=n[s]?(M.call(n[s])!==O&&(n[s]=[n[s]]),n[s].push(a)):n[s]=a}return n}function x(e){var n=f(e);u(e.childNodes,X[n]),X[n]=t}function k(e,t){var n=r.prop(t);return e.then(n),n.then=function(n,r){return k(e.then(n,r),t)},n}function S(e,t){function n(e){d=e||c,h.map(function(e){d===u&&e.resolve(f)||e.reject(f)})}function i(e,t,n,i){if((null!=f&&M.call(f)===A||typeof f===W)&&typeof e===W)try{var o=0;e.call(f,function(e){o++||(f=e,t())},function(e){o++||(f=e,n())})}catch(s){r.deferred.onerror(s),f=s,n()}else i()}function o(){var c;try{c=f&&f.then}catch(h){return r.deferred.onerror(h),f=h,d=a,o()}i(c,function(){d=s,o()},function(){d=a,o()},function(){try{d===s&&typeof e===W?f=e(f):d===a&&"function"==typeof t&&(f=t(f),d=s)}catch(o){return r.deferred.onerror(o),f=o,n()}f===l?(f=TypeError(),n()):i(c,function(){n(u)},n,function(){n(d===s&&u)})})}var s=1,a=2,u=3,c=4,l=this,d=0,f=0,h=[];l.promise={},l.resolve=function(e){return d||(f=e,d=s,o()),this},l.reject=function(e){return d||(f=e,d=a,o()),this},l.promise.then=function(e,t){var n=new S(e,t);return d===u?n.resolve(f):d===c?n.reject(f):h.push(n),n.promise}}function C(e){return e}function E(n){if(!n.dataType||"jsonp"!==n.dataType.toLowerCase()){var r=new e.XMLHttpRequest;if(r.open(n.method,n.url,!0,n.user,n.password),r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300?n.onload({type:"load",target:r}):n.onerror({type:"error",target:r}))},n.serialize===JSON.stringify&&n.data&&"GET"!==n.method&&r.setRequestHeader("Content-Type","application/json; charset=utf-8"),n.deserialize===JSON.parse&&r.setRequestHeader("Accept","application/json, text/*"),typeof n.config===W){var i=n.config(r,n);null!=i&&(r=i)}var o="GET"!==n.method&&n.data?n.data:"";if(o&&M.call(o)!=I&&o.constructor!=e.FormData)throw"Request data should be either be a string or FormData. Check the `serialize` option in `m.request`";return r.send(o),r}var s="mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36),a=R.createElement("script");e[s]=function(r){a.parentNode.removeChild(a),n.onload({type:"load",target:{responseText:r}}),e[s]=t},a.onerror=function(r){return a.parentNode.removeChild(a),n.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}}),e[s]=t,!1},a.onload=function(e){return!1},a.src=n.url+(n.url.indexOf("?")>0?"&":"?")+(n.callbackKey?n.callbackKey:"callback")+"="+s+"&"+w(n.data||{}),R.body.appendChild(a)}function j(e,t,n){if("GET"===e.method&&"jsonp"!=e.dataType){var r=e.url.indexOf("?")<0?"?":"&",i=w(t);e.url=e.url+(i?r+i:"")}else e.data=n(t);return e}function N(e,t){var n=e.match(/:[a-z]\w+/gi);if(n&&t)for(var r=0;r<n.length;r++){var i=n[r].slice(1);e=e.replace(n[r],t[i]),delete t[i]}return e}var R,T,U,D,A="[object Object]",O="[object Array]",I="[object String]",W="function",M={}.toString,Z=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,B=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/,L=/^(AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TRACK|WBR)$/,V=function(){};n(e);var G,z={appendChild:function(e){G===t&&(G=R.createElement("html")),R.documentElement&&R.documentElement!==e?R.replaceChild(e,R.documentElement):R.appendChild(e),this.childNodes=R.childNodes},insertBefore:function(e){this.appendChild(e)},childNodes:[]},F=[],X={};r.render=function(e,n,r){var i=[];if(!e)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var s=f(e),a=e===R,c=a||e===R.documentElement?z:e;a&&"html"!=n.tag&&(n={tag:"html",attrs:{},children:n}),X[s]===t&&u(c.childNodes),r===!0&&x(e),X[s]=o(c,null,t,t,n,X[s],!1,0,null,t,i);for(var l=0,d=i.length;d>l;l++)i[l]()},r.trust=function(e){return e=new String(e),e.$trusted=!0,e},r.prop=function(e){return(null!=e&&M.call(e)===A||typeof e===W)&&typeof e.then===W?k(e):h(e)};var Y,J=[],q=[],Q=[],P=null,H=0,K=null,$=null,ee=[],te=16;r.component=function(e){return p(e,[].slice.call(arguments,1))},r.mount=r.module=function(e,t){if(!e)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var n=J.indexOf(e);0>n&&(n=J.length);for(var i,o=!1,s={preventDefault:function(){o=!0,K=$=null}},a=0;i=ee[a];a++)i.handler.call(i.controller,s),i.controller.onunload=null;if(o)for(var i,a=0;i=ee[a];a++)i.controller.onunload=i.handler;else ee=[];if(Q[n]&&typeof Q[n].onunload===W&&Q[n].onunload(s),!o){r.redraw.strategy("all"),r.startComputation(),J[n]=e,arguments.length>2&&(t=subcomponent(t,[].slice.call(arguments,2)));var u=Y=t=t||{controller:function(){}},c=t.controller||V,l=new c;return u===Y&&(Q[n]=l,q[n]=t),ie(),Q[n]}};var ne=!1;r.redraw=function(t){ne||(ne=!0,P&&t!==!0?(U===e.requestAnimationFrame||new Date-H>te)&&(P>0&&D(P),P=U(m,te)):(m(),P=U(function(){P=null},te)),ne=!1)},r.redraw.strategy=r.prop();var re=0;r.startComputation=function(){re++},r.endComputation=function(){re=Math.max(re-1,0),0===re&&r.redraw()};var ie=function(){"none"==r.redraw.strategy()?(re--,r.redraw.strategy("diff")):r.endComputation()};r.withAttr=function(e,t){return function(n){n=n||event;var r=n.currentTarget||this;t(e in r?r[e]:r.getAttribute(e))}};var oe,se,ae={pathname:"",hash:"#",search:"?"},ue=V,ce=!1;return r.route=function(){if(0===arguments.length)return se;

if(3===arguments.length&&M.call(arguments[1])===I){var t=arguments[0],n=arguments[1],i=arguments[2];ue=function(e){var o=se=v(e);if(!b(t,i,o)){if(ce)throw new Error("Ensure the default route matches one of the routes defined in m.route");ce=!0,r.route(n,!0),ce=!1}};var o="hash"===r.route.mode?"onhashchange":"onpopstate";e[o]=function(){var e=T[r.route.mode];"pathname"===r.route.mode&&(e+=T.search),se!=v(e)&&ue(e)},K=y,e[o]()}else if(arguments[0].addEventListener||arguments[0].attachEvent){var s=arguments[0],a=(arguments[1],arguments[2],arguments[3]);s.href=("pathname"!==r.route.mode?T.pathname:"")+ae[r.route.mode]+a.attrs.href,s.addEventListener?(s.removeEventListener("click",g),s.addEventListener("click",g)):(s.detachEvent("onclick",g),s.attachEvent("onclick",g))}else if(M.call(arguments[0])===I){var u=se;se=arguments[0];var c=arguments[1]||{},l=se.indexOf("?"),d=l>-1?_(se.slice(l+1)):{};for(var f in c)d[f]=c[f];var h=w(d),p=l>-1?se.slice(0,l):se;h&&(se=p+(-1===p.indexOf("?")?"?":"&")+h);var m=(3===arguments.length?arguments[2]:arguments[1])===!0||u===arguments[0];e.history.pushState?(K=y,$=function(){e.history[m?"replaceState":"pushState"](null,R.title,ae[r.route.mode]+se)},ue(ae[r.route.mode]+se)):(T[r.route.mode]=se,ue(ae[r.route.mode]+se))}},r.route.param=function(e){if(!oe)throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return oe[e]},r.route.mode="search",r.route.buildQueryString=w,r.route.parseQueryString=_,r.deferred=function(){var e=new S;return e.promise=k(e.promise),e},r.deferred.onerror=function(e){if("[object Error]"===M.call(e)&&!e.constructor.toString().match(/ Error/))throw e},r.sync=function(e){function t(e,t){return function(r){return s[e]=r,t||(n="reject"),0===--o&&(i.promise(s),i[n](s)),r}}var n="resolve",i=r.deferred(),o=e.length,s=new Array(o);if(e.length>0)for(var a=0;a<e.length;a++)e[a].then(t(a,!0),t(a,!1));else i.resolve([]);return i.promise},r.request=function(e){e.background!==!0&&r.startComputation();var t=new S,n=e.dataType&&"jsonp"===e.dataType.toLowerCase(),i=e.serialize=n?C:e.serialize||JSON.stringify,o=e.deserialize=n?C:e.deserialize||JSON.parse,s=n?function(e){return e.responseText}:e.extract||function(e){return 0===e.responseText.length&&o===JSON.parse?null:e.responseText};return e.method=(e.method||"GET").toUpperCase(),e.url=N(e.url,e.data),e=j(e,e.data,i),e.onload=e.onerror=function(n){try{n=n||event;var i=("load"===n.type?e.unwrapSuccess:e.unwrapError)||C,a=i(o(s(n.target,e)),n.target);if("load"===n.type)if(M.call(a)===O&&e.type)for(var u=0;u<a.length;u++)a[u]=new e.type(a[u]);else e.type&&(a=new e.type(a));t["load"===n.type?"resolve":"reject"](a)}catch(n){r.deferred.onerror(n),t.reject(n)}e.background!==!0&&r.endComputation()},E(e),t.promise=k(t.promise,e.initialValue),t.promise},r.deps=function(t){return n(e=t||e),e},r.deps.factory=i,r}("undefined"!=typeof window?window:{});"undefined"!=typeof t&&null!==t&&t.exports?t.exports=r:"function"==typeof define&&define.amd&&define(function(){return r})},{}],"/Users/andersriutta/Sites/kaavio/node_modules/resolve-url/resolve-url.js":[function(e,t,n){void function(e,r){"function"==typeof define&&define.amd?define(r):"object"==typeof n?t.exports=r():e.resolveUrl=r()}(this,function(){function e(){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var t=document.createElement("base");if(t.href=arguments[0],1===e)return t.href;var n=document.getElementsByTagName("head")[0];n.insertBefore(t,n.firstChild);for(var r,i=document.createElement("a"),o=1;e>o;o++)i.href=arguments[o],r=i.href,t.href=r;return n.removeChild(t),r}return e})},{}],"/Users/andersriutta/Sites/kaavio/node_modules/rx-node/index.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/rx-node/index.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/rx-node/index.js":"/Users/andersriutta/Sites/kaavio/node_modules/jsonld-rx/node_modules/rx-node/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/rx/dist/rx.all.js":[function(e,t,n){(function(e,r){(function(i){function o(e){for(var t=[],n=0,r=e.length;r>n;n++)t.push(e[n]);return t}function a(e,t){if(ze&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(Je)){for(var n=[],r=t;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(e.stack);var i=n.join("\n"+Je+"\n");e.stack=u(i)}}function u(e){for(var t=e.split("\n"),n=[],r=0,i=t.length;i>r;r++){var o=t[r];c(o)||l(o)||!o||n.push(o)}return n.join("\n")}function c(e){var t=f(e);if(!t)return!1;var n=t[0],r=t[1];return n===Xe&&r>=Ye&&Ar>=r}function l(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function d(){if(ze)try{throw new Error}catch(e){var t=e.stack.split("\n"),n=t[0].indexOf("@")>0?t[1]:t[2],r=f(n);if(!r)return;return Xe=r[0],r[1]}}function f(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function h(e){var t=[];if(!Nt(e))return t;jt.nonEnumArgs&&e.length&&Rt(e)&&(e=Dt.call(e));var n=jt.enumPrototypes&&"function"==typeof e,r=jt.enumErrorProps&&(e===xt||e instanceof Error);for(var i in e)n&&"prototype"==i||r&&("message"==i||"name"==i)||t.push(i);if(jt.nonEnumShadows&&e!==kt){var o=e.constructor,s=-1,a=ut;if(e===(o&&o.prototype))var u=e===St?gt:e===xt?ht:yt.call(e),c=Et[u];for(;++s<a;)i=at[s],c&&c[i]||!wt.call(e,i)||t.push(i)}return t}function p(e,t,n){for(var r=-1,i=n(e),o=i.length;++r<o;){var s=i[r];if(t(e[s],s,e)===!1)break}return e}function m(e,t){return p(e,t,h)}function v(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}function b(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;var i=typeof e,o=typeof t;if(e===e&&(null==e||null==t||"function"!=i&&"object"!=i&&"function"!=o&&"object"!=o))return!1;var s=yt.call(e),a=yt.call(t);if(s==ct&&(s=vt),a==ct&&(a=vt),s!=a)return!1;switch(s){case dt:case ft:return+e==+t;case mt:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case bt:case gt:return e==String(t)}var u=s==lt;if(!u){if(s!=vt||!jt.nodeClass&&(v(e)||v(t)))return!1;var c=!jt.argsObject&&Rt(e)?Object:e.constructor,l=!jt.argsObject&&Rt(t)?Object:t.constructor;if(!(c==l||wt.call(e,"constructor")&&wt.call(t,"constructor")||Ge(c)&&c instanceof c&&Ge(l)&&l instanceof l||!("constructor"in e&&"constructor"in t)))return!1}n||(n=[]),r||(r=[]);for(var d=n.length;d--;)if(n[d]==e)return r[d]==t;var f=0,h=!0;if(n.push(e),r.push(t),u){if(d=e.length,f=t.length,h=f==d)for(;f--;){var p=t[f];if(!(h=b(e[f],p,n,r)))break}}else m(t,function(t,i,o){return wt.call(o,i)?(f++,h=wt.call(e,i)&&b(e[i],t,n,r)):void 0}),h&&m(e,function(e,t,n){return wt.call(n,t)?h=--f>-1:void 0});return n.pop(),r.pop(),h}function g(e,t){for(var n=new Array(e),r=0;e>r;r++)n[r]=t();return n}function y(){try{return Tt.apply(this,arguments)}catch(e){return Wt.e=e,Wt}}function w(e){if(!Ge(e))throw new TypeError("fn must be a function");return Tt=e,y}function _(e){throw e}function x(e,t){this.id=e,this.value=t}function k(e,t){this.scheduler=e,this.disposable=t,this.isDisposed=!1}function S(e,t){t.isDisposed||(t.isDisposed=!0,t.disposable.dispose())}function C(e){this.observer=e,this.a=[],this.isStopped=!1}function E(e){this._s=s}function j(e){this._s=s,this._l=s.length,this._i=0}function N(e){this._a=e}function R(e){this._a=e,this._l=A(e),this._i=0}function T(e){return"number"==typeof e&&Ne.isFinite(e)}function U(e){var t,n=e[tt];if(!n&&"string"==typeof e)return t=new E(e),t[tt]();if(!n&&e.length!==i)return t=new N(e),t[tt]();if(!n)throw new TypeError("Object is not iterable");return e[tt]()}function D(e){var t=+e;return 0===t?t:isNaN(t)?t:0>t?-1:1}function A(e){var t=+e.length;return isNaN(t)?0:0!==t&&T(t)?(t=D(t)*Math.floor(Math.abs(t)),0>=t?0:t>In?In:t):t}function O(e,t){this.observer=e,this.parent=t}function I(e,t){return Kt(e)||(e=rn),new Mn(t,e)}function W(e,t){this.observer=e,this.parent=t}function M(e,t){this.observer=e,this.parent=t}function Z(e,t){return new jr(function(n){var r=new Yt,i=new Jt;return i.setDisposable(r),r.setDisposable(e.subscribe(function(e){n.onNext(e)},function(e){try{var r=t(e)}catch(o){return n.onError(o)}Le(r)&&(r=Nn(r));var s=new Yt;i.setDisposable(s),s.setDisposable(r.subscribe(n))},function(e){n.onCompleted(e)})),i},e)}function B(e,t){var n=this;return new jr(function(r){var i=0,o=e.length;return n.subscribe(function(n){if(o>i){var s,a=e[i++];try{s=t(n,a)}catch(u){return r.onError(u)}r.onNext(s)}else r.onCompleted()},function(e){r.onError(e)},function(){r.onCompleted()})},n)}function L(){return!1}function V(){return[]}function G(e,t,n){var r=st(t,n,3);return e.map(function(t,n){var i=r(t,n,e);return Le(i)&&(i=Nn(i)),(it(i)||rt(i))&&(i=Wn(i)),i}).concatAll()}function z(e,t,n){for(var r=0,i=e.length;i>r;r++)if(n(e[r],t))return r;return-1}function F(e){this.comparer=e,this.set=[]}function X(e,t,n){this.observer=e,this.selector=t,this.source=n,this.i=0,this.isStopped=!1}function Y(e,t,n){var r=st(t,n,3);return e.map(function(t,n){var i=r(t,n,e);return Le(i)&&(i=Nn(i)),(it(i)||rt(i))&&(i=Wn(i)),i}).mergeAll()}function J(e,t,n){this.observer=e,this.predicate=t,this.source=n,this.i=0,this.isStopped=!1}function q(e,t,n){return new jr(function(r){var i=!1,o=null,s=[];return e.subscribe(function(e){var a,u;try{u=t(e)}catch(c){return void r.onError(c)}if(a=0,i)try{a=n(u,o)}catch(l){return void r.onError(l)}else i=!0,o=u;a>0&&(o=u,s=[]),a>=0&&s.push(e)},function(e){r.onError(e)},function(){r.onNext(s),r.onCompleted()})},e)}function Q(e){if(0===e.length)throw new qe;return e[0]}function P(e,t,n,r){if(0>t)throw new Pe;return new jr(function(i){var o=t;return e.subscribe(function(e){0===o--&&(i.onNext(e),i.onCompleted())},function(e){i.onError(e)},function(){n?(i.onNext(r),i.onCompleted()):i.onError(new Pe)})},e)}function H(e,t,n){return new jr(function(r){var i=n,o=!1;return e.subscribe(function(e){o?r.onError(new Error("Sequence contains more than one element")):(i=e,o=!0)},function(e){r.onError(e)},function(){o||t?(r.onNext(i),r.onCompleted()):r.onError(new qe)})},e)}function K(e,t,n){return new jr(function(r){return e.subscribe(function(e){r.onNext(e),r.onCompleted()},function(e){r.onError(e)},function(){t?(r.onNext(n),r.onCompleted()):r.onError(new qe)})},e)}function $(e,t,n){return new jr(function(r){var i=n,o=!1;return e.subscribe(function(e){i=e,o=!0},function(e){r.onError(e)},function(){o||t?(r.onNext(i),r.onCompleted()):r.onError(new qe)})},e)}function ee(e,t,n,r){var o=st(t,n,3);return new jr(function(t){var n=0;return e.subscribe(function(i){var s;try{s=o(i,n,e)}catch(a){return void t.onError(a)}s?(t.onNext(r?n:i),t.onCompleted()):n++},function(e){t.onError(e)},function(){t.onNext(r?-1:i),t.onCompleted()})},e)}function te(e,t){return Array.isArray(e)?ne.call(t,e):se(e)?ur(e.call(t)):ae(e)?ur(e):oe(e)?re(e):Le(e)?ie(e):typeof e===sr?e:Nt(e)||Array.isArray(e)?ne.call(t,e):e}function ne(e){var t=this;return function(n){function r(e,r){if(!i)try{if(e=te(e,t),typeof e!==sr)return a[r]=e,--s||n(null,a);e.call(t,function(e,t){if(!i){if(e)return i=!0,n(e);a[r]=t,--s||n(null,a)}})}catch(o){i=!0,n(o)}}var i,o=Object.keys(e),s=o.length,a=new e.constructor;if(!s)return void un.schedule(function(){n(null,a)});for(var u=0,c=o.length;c>u;u++)r(e[o[u]],o[u])}}function re(e){return function(t){var n,r=!1;e.subscribe(function(e){n=e,r=!0},t,function(){r&&t(null,n)})}}function ie(e){return function(t){e.then(function(e){t(null,e)},t)}}function oe(e){return e&&typeof e.subscribe===sr}function se(e){return e&&e.constructor&&"GeneratorFunction"===e.constructor.name}function ae(e){return e&&typeof e.next===sr&&typeof e[ar]===sr}function ue(e){e&&un.schedule(function(){throw e})}function ce(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1),Gt(function(){e.removeEventListener(t,n,!1)});throw new Error("No listener found")}function le(e,t,n){var r=new Bt;if("[object NodeList]"===Object.prototype.toString.call(e))for(var i=0,o=e.length;o>i;i++)r.add(le(e.item(i),t,n));else e&&r.add(ce(e,t,n));return r}function de(e,t,n){return new jr(function(r){function i(e,t){c[t]=e;var i;if(s[t]=!0,a||(a=s.every(Ie))){if(o)return void r.onError(o);try{i=n.apply(null,c)}catch(l){return void r.onError(l)}r.onNext(i)}u&&c[1]&&r.onCompleted()}var o,s=[!1,!1],a=!1,u=!1,c=new Array(2);return new Bt(e.subscribe(function(e){i(e,0)},function(e){c[1]?r.onError(e):o=e},function(){u=!0,c[1]&&r.onCompleted()}),t.subscribe(function(e){i(e,1)},function(e){r.onError(e)},function(){u=!0,i(!0,1)}))},e)}function fe(e,t){return e.groupJoin(this,t,Dn,function(e,t){return t})}function he(e){var t=this;return new jr(function(n){var r=new Tr,i=new Bt,o=new qt(i);return n.onNext(It(r,o)),i.add(t.subscribe(function(e){r.onNext(e)},function(e){r.onError(e),n.onError(e)},function(){r.onCompleted(),n.onCompleted()})),Le(e)&&(e=Nn(e)),i.add(e.subscribe(function(e){r.onCompleted(),r=new Tr,n.onNext(It(r,o))},function(e){r.onError(e),n.onError(e)},function(){r.onCompleted(),n.onCompleted()})),o},t)}function pe(e){var t=this;return new jr(function(n){function r(){var t;try{t=e()}catch(o){return void n.onError(o)}Le(t)&&(t=Nn(t));var u=new Yt;i.setDisposable(u),u.setDisposable(t.take(1).subscribe(Oe,function(e){a.onError(e),n.onError(e)},function(){a.onCompleted(),a=new Tr,n.onNext(It(a,s)),r()}))}var i=new Jt,o=new Bt(i),s=new qt(o),a=new Tr;return n.onNext(It(a,s)),o.add(t.subscribe(function(e){a.onNext(e)},function(e){a.onError(e),n.onError(e)},function(){a.onCompleted(),n.onCompleted()})),r(),s},t)}function me(e,t){return new mn(function(){return new pn(function(){return e()?{done:!1,value:t}:{done:!0,value:i}})})}function ve(e){this.patterns=e}function be(e,t){this.expression=e,this.selector=t}function ge(e,t,n){var r=e.get(t);if(!r){var i=new Cr(t,n);return e.set(t,i),i}return r}function ye(e,t,n){this.joinObserverArray=e,this.onNext=t,this.onCompleted=n,this.joinObservers=new Sr;for(var r=0,i=this.joinObserverArray.length;i>r;r++){var o=this.joinObserverArray[r];this.joinObservers.set(o,o)}}function we(e,t){return new jr(function(n){return t.scheduleWithAbsolute(e,function(){n.onNext(0),n.onCompleted()})})}function _e(e,t,n){return new jr(function(r){var i=e,o=Ht(t);return n.scheduleRecursiveWithAbsoluteAndState(0,i,function(e,t){if(o>0){var s=n.now();i+=o,s>=i&&(i=s+o)}r.onNext(e),t(e+1,i)})})}function xe(e,t){return new jr(function(n){return t.scheduleWithRelative(Ht(e),function(){n.onNext(0),n.onCompleted()})})}function ke(e,t,n){return e===t?new jr(function(e){return n.schedulePeriodicWithState(0,t,function(t){return e.onNext(t),t+1})}):Tn(function(){return _e(n.now()+e,t,n)})}function Se(e,t,n){return new jr(function(r){var i,o=!1,s=new Jt,a=null,u=[],c=!1;return i=e.materialize().timestamp(n).subscribe(function(e){var i,l;"E"===e.value.kind?(u=[],u.push(e),a=e.value.exception,l=!c):(u.push({value:e.value,timestamp:e.timestamp+t}),l=!o,o=!0),l&&(null!==a?r.onError(a):(i=new Yt,s.setDisposable(i),i.setDisposable(n.scheduleRecursiveWithRelative(t,function(e){var t,i,s,l;if(null===a){c=!0;do s=null,u.length>0&&u[0].timestamp-n.now()<=0&&(s=u.shift().value),null!==s&&s.accept(r);while(null!==s);l=!1,i=0,u.length>0?(l=!0,i=Math.max(0,u[0].timestamp-n.now())):o=!1,t=a,c=!1,null!==t?r.onError(t):l&&e(i)}}))))}),new Bt(i,s)},e)}function Ce(e,t,n){return Tn(function(){return Se(e,t-n.now(),n)})}function Ee(e,t){return new jr(function(n){function r(){s&&(s=!1,n.onNext(o)),i&&n.onCompleted()}var i,o,s;return new Bt(e.subscribe(function(e){s=!0,o=e},n.onError.bind(n),function(){i=!0}),t.subscribe(r,n.onError.bind(n),r))},e)}var je={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Ne=je[typeof window]&&window||this,Re=je[typeof n]&&n&&!n.nodeType&&n,Te=je[typeof t]&&t&&!t.nodeType&&t,Ue=Te&&Te.exports===Re&&Re,De=je[typeof r]&&r;!De||De.global!==De&&De.window!==De||(Ne=De);var Ae={internals:{},config:{Promise:Ne.Promise},helpers:{}},Oe=Ae.helpers.noop=function(){},Ie=(Ae.helpers.notDefined=function(e){return"undefined"==typeof e},Ae.helpers.identity=function(e){return e}),We=(Ae.helpers.pluck=function(e){return function(t){return t[e]}},Ae.helpers.just=function(e){return function(){return e}},Ae.helpers.defaultNow=Date.now),Me=Ae.helpers.defaultComparer=function(e,t){return Ut(e,t)},Ze=Ae.helpers.defaultSubComparer=function(e,t){return e>t?1:t>e?-1:0},Be=(Ae.helpers.defaultKeySerializer=function(e){return e.toString()},Ae.helpers.defaultError=function(e){throw e}),Le=Ae.helpers.isPromise=function(e){return!!e&&"function"==typeof e.then},Ve=(Ae.helpers.asArray=function(){return Array.prototype.slice.call(arguments)},Ae.helpers.not=function(e){return!e}),Ge=Ae.helpers.isFunction=function(){var e=function(e){return"function"==typeof e||!1};return e(/x/)&&(e=function(e){return"function"==typeof e&&"[object Function]"==yt.call(e)}),e}();Ae.config.longStackSupport=!1;var ze=!1;try{throw new Error}catch(Fe){ze=!!Fe.stack}var Xe,Ye=d(),Je="From previous event:",qe=Ae.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};qe.prototype=Error.prototype;var Qe=Ae.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};Qe.prototype=Error.prototype;var Pe=Ae.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};Pe.prototype=Error.prototype;var He=Ae.NotSupportedError=function(e){this.message=e||"This operation is not supported",Error.call(this)};He.prototype=Error.prototype;var Ke=Ae.NotImplementedError=function(e){this.message=e||"This operation is not implemented",Error.call(this)};Ke.prototype=Error.prototype;var $e=Ae.helpers.notImplemented=function(){throw new Ke},et=Ae.helpers.notSupported=function(){throw new He},tt="function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_";Ne.Set&&"function"==typeof(new Ne.Set)["@@iterator"]&&(tt="@@iterator");var nt=Ae.doneEnumerator={done:!0,value:i},rt=Ae.helpers.isIterable=function(e){return e[tt]!==i},it=Ae.helpers.isArrayLike=function(e){return e&&e.length!==i};Ae.helpers.iterator=tt;var ot,st=Ae.internals.bindCallback=function(e,t,n){if("undefined"==typeof t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},at=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ut=at.length,ct="[object Arguments]",lt="[object Array]",dt="[object Boolean]",ft="[object Date]",ht="[object Error]",pt="[object Function]",mt="[object Number]",vt="[object Object]",bt="[object RegExp]",gt="[object String]",yt=Object.prototype.toString,wt=Object.prototype.hasOwnProperty,_t=yt.call(arguments)==ct,xt=Error.prototype,kt=Object.prototype,St=String.prototype,Ct=kt.propertyIsEnumerable;try{ot=!(yt.call(document)==vt&&!({toString:0}+""))}catch(Fe){ot=!0}var Et={};Et[lt]=Et[ft]=Et[mt]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Et[dt]=Et[gt]={constructor:!0,toString:!0,valueOf:!0},Et[ht]=Et[pt]=Et[bt]={constructor:!0,toString:!0},Et[vt]={constructor:!0};var jt={};!function(){var e=function(){this.x=1},t=[];e.prototype={valueOf:1,y:1};for(var n in new e)t.push(n);for(n in arguments);jt.enumErrorProps=Ct.call(xt,"message")||Ct.call(xt,"name"),jt.enumPrototypes=Ct.call(e,"prototype"),jt.nonEnumArgs=0!=n,jt.nonEnumShadows=!/valueOf/.test(t)}(1);var Nt=Ae.internals.isObject=function(e){var t=typeof e;return e&&("function"==t||"object"==t)||!1},Rt=function(e){return e&&"object"==typeof e?yt.call(e)==ct:!1};_t||(Rt=function(e){return e&&"object"==typeof e?wt.call(e,"callee"):!1});var Tt,Ut=Ae.internals.isEqual=function(e,t){return b(e,t,[],[])},Dt=({}.hasOwnProperty,Array.prototype.slice),At=this.inherits=Ae.internals.inherits=function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},Ot=Ae.internals.addProperties=function(e){for(var t=[],n=1,r=arguments.length;r>n;n++)t.push(arguments[n]);for(var i=0,o=t.length;o>i;i++){var s=t[i];for(var a in s)e[a]=s[a]}},It=Ae.internals.addRef=function(e,t){return new jr(function(n){return new Bt(t.getDisposable(),e.subscribe(n))})},Wt={e:{}};x.prototype.compareTo=function(e){var t=this.value.compareTo(e.value);return 0===t&&(t=this.id-e.id),t};var Mt=Ae.internals.PriorityQueue=function(e){this.items=new Array(e),this.length=0},Zt=Mt.prototype;Zt.isHigherPriority=function(e,t){return this.items[e].compareTo(this.items[t])<0},Zt.percolate=function(e){if(!(e>=this.length||0>e)){var t=e-1>>1;if(!(0>t||t===e)&&this.isHigherPriority(e,t)){var n=this.items[e];this.items[e]=this.items[t],this.items[t]=n,this.percolate(t)}}},Zt.heapify=function(e){if(+e||(e=0),!(e>=this.length||0>e)){var t=2*e+1,n=2*e+2,r=e;if(t<this.length&&this.isHigherPriority(t,r)&&(r=t),n<this.length&&this.isHigherPriority(n,r)&&(r=n),r!==e){var i=this.items[e];this.items[e]=this.items[r],this.items[r]=i,this.heapify(r)}}},Zt.peek=function(){return this.items[0].value},Zt.removeAt=function(e){this.items[e]=this.items[--this.length],this.items[this.length]=i,this.heapify()},Zt.dequeue=function(){var e=this.peek();return this.removeAt(0),e},Zt.enqueue=function(e){var t=this.length++;this.items[t]=new x(Mt.count++,e),this.percolate(t)},Zt.remove=function(e){for(var t=0;t<this.length;t++)if(this.items[t].value===e)return this.removeAt(t),!0;return!1},Mt.count=0;var Bt=Ae.CompositeDisposable=function(){var e,t,n=[];if(Array.isArray(arguments[0]))n=arguments[0],t=n.length;else for(t=arguments.length,n=new Array(t),e=0;t>e;e++)n[e]=arguments[e];for(e=0;t>e;e++)if(!Ft(n[e]))throw new TypeError("Not a disposable");this.disposables=n,this.isDisposed=!1,this.length=n.length},Lt=Bt.prototype;Lt.add=function(e){this.isDisposed?e.dispose():(this.disposables.push(e),this.length++)},Lt.remove=function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),this.length--,e.dispose())}return t},Lt.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;e>n;n++)t[n]=this.disposables[n];for(this.disposables=[],this.length=0,n=0;e>n;n++)t[n].dispose()}};var Vt=Ae.Disposable=function(e){this.isDisposed=!1,this.action=e||Oe};Vt.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var Gt=Vt.create=function(e){return new Vt(e)},zt=Vt.empty={dispose:Oe},Ft=Vt.isDisposable=function(e){return e&&Ge(e.dispose)},Xt=Vt.checkDisposed=function(e){if(e.isDisposed)throw new Qe},Yt=Ae.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};Yt.prototype.getDisposable=function(){return this.current},Yt.prototype.setDisposable=function(e){if(this.current)throw new Error("Disposable has already been assigned");var t=this.isDisposed;!t&&(this.current=e),t&&e&&e.dispose()},Yt.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null}e&&e.dispose()};var Jt=Ae.SerialDisposable=function(){this.isDisposed=!1,this.current=null};Jt.prototype.getDisposable=function(){return this.current},Jt.prototype.setDisposable=function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e}n&&n.dispose(),t&&e&&e.dispose()},Jt.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null}e&&e.dispose()};var qt=Ae.RefCountDisposable=function(){function e(e){this.disposable=e,this.disposable.count++,this.isInnerDisposed=!1}function t(e){this.underlyingDisposable=e,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return e.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},t.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},t.prototype.getDisposable=function(){return this.isDisposed?zt:new e(this)},t}();k.prototype.dispose=function(){this.scheduler.scheduleWithState(this,S)};var Qt=Ae.internals.ScheduledItem=function(e,t,n,r,i){this.scheduler=e,this.state=t,this.action=n,this.dueTime=r,this.comparer=i||Ze,this.disposable=new Yt};Qt.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},Qt.prototype.compareTo=function(e){return this.comparer(this.dueTime,e.dueTime)},Qt.prototype.isCancelled=function(){return this.disposable.isDisposed},Qt.prototype.invokeCore=function(){return this.action(this.scheduler,this.state)};var Pt=Ae.Scheduler=function(){function e(e,t,n,r){this.now=e,this._schedule=t,this._scheduleRelative=n,this._scheduleAbsolute=r}function t(e,t){return t(),zt}e.isScheduler=function(t){return t instanceof e};var n=e.prototype;return n.schedule=function(e){return this._schedule(e,t)},n.scheduleWithState=function(e,t){return this._schedule(e,t)},n.scheduleWithRelative=function(e,n){return this._scheduleRelative(n,e,t)},n.scheduleWithRelativeAndState=function(e,t,n){return this._scheduleRelative(e,t,n)},n.scheduleWithAbsolute=function(e,n){return this._scheduleAbsolute(n,e,t)},n.scheduleWithAbsoluteAndState=function(e,t,n){return this._scheduleAbsolute(e,t,n)},e.now=We,e.normalize=function(e){return 0>e&&(e=0),e},e}(),Ht=Pt.normalize,Kt=Pt.isScheduler;!function(e){function t(e,t){function n(t){i(t,function(t){var r=!1,i=!1,s=e.scheduleWithState(t,function(e,t){return r?o.remove(s):i=!0,n(t),zt});i||(o.add(s),r=!0)})}var r=t[0],i=t[1],o=new Bt;return n(r),o}function n(e,t,n){function r(t){o(t,function(t,i){var o=!1,a=!1,u=e[n](t,i,function(e,t){return o?s.remove(u):a=!0,r(t),zt});a||(s.add(u),o=!0)})}var i=t[0],o=t[1],s=new Bt;return r(i),s}function r(e,t){e(function(n){t(e,n)})}e.scheduleRecursive=function(e){return this.scheduleRecursiveWithState(e,function(e,t){e(function(){t(e)})})},e.scheduleRecursiveWithState=function(e,n){return this.scheduleWithState([e,n],t)},e.scheduleRecursiveWithRelative=function(e,t){return this.scheduleRecursiveWithRelativeAndState(t,e,r)},e.scheduleRecursiveWithRelativeAndState=function(e,t,r){return this._scheduleRelative([e,r],t,function(e,t){return n(e,t,"scheduleWithRelativeAndState")})},e.scheduleRecursiveWithAbsolute=function(e,t){return this.scheduleRecursiveWithAbsoluteAndState(t,e,r)},e.scheduleRecursiveWithAbsoluteAndState=function(e,t,r){return this._scheduleAbsolute([e,r],t,function(e,t){return n(e,t,"scheduleWithAbsoluteAndState")})}}(Pt.prototype),function(e){Pt.prototype.schedulePeriodic=function(e,t){return this.schedulePeriodicWithState(null,e,t)},Pt.prototype.schedulePeriodicWithState=function(e,t,n){if("undefined"==typeof Ne.setInterval)throw new He;t=Ht(t);var r=e,i=Ne.setInterval(function(){r=n(r)},t);return Gt(function(){Ne.clearInterval(i)})}}(Pt.prototype),function(e){e.catchError=e["catch"]=function(e){return new cn(this,e)}}(Pt.prototype);var $t,en,tn=Ae.internals.SchedulePeriodicRecursive=function(){function e(e,t){t(0,this._period);try{this._state=this._action(this._state)}catch(n){throw this._cancel.dispose(),n}}function t(e,t,n,r){this._scheduler=e,this._state=t,this._period=n,this._action=r}return t.prototype.start=function(){var t=new Yt;return this._cancel=t,t.setDisposable(this._scheduler.scheduleRecursiveWithRelativeAndState(0,this._period,e.bind(this))),t},t}(),nn=Pt.immediate=function(){function e(e,t){return t(this,e)}return new Pt(We,e,et,et)}(),rn=Pt.currentThread=function(){function e(){for(;n.length>0;){var e=n.dequeue();!e.isCancelled()&&e.invoke()}}function t(t,r){var i=new Qt(this,t,r,this.now());if(n)n.enqueue(i);else{n=new Mt(4),n.enqueue(i);var o=w(e)();if(n=null,o===Wt)return _(o.e)}return i.disposable}var n,r=new Pt(We,t,et,et);return r.scheduleRequired=function(){return!n},r}(),on=function(){var e,t=Oe;if(Ne.setTimeout)e=Ne.setTimeout,t=Ne.clearTimeout;else{if(!Ne.WScript)throw new He;e=function(e,t){Ne.WScript.Sleep(t),e()}}return{setTimeout:e,clearTimeout:t}}(),sn=on.setTimeout,an=on.clearTimeout;!function(){function t(e){if(s)sn(function(){t(e)},0);else{var n=o[e];if(n){s=!0;var r=w(n)();if(en(e),s=!1,r===Wt)return _(r.e)}}}function n(){if(!Ne.postMessage||Ne.importScripts)return!1;var e=!1,t=Ne.onmessage;return Ne.onmessage=function(){e=!0},Ne.postMessage("","*"),Ne.onmessage=t,e}function r(e){"string"==typeof e.data&&e.data.substring(0,c.length)===c&&t(e.data.substring(c.length))}var i=1,o={},s=!1;en=function(e){delete o[e]};var a=RegExp("^"+String(yt).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),u="function"==typeof(u=De&&Ue&&De.setImmediate)&&!a.test(u)&&u;if(Ge(u))$t=function(e){var n=i++;return o[n]=e,u(function(){t(n)}),n};else if("undefined"!=typeof e&&"[object process]"==={}.toString.call(e))$t=function(n){var r=i++;return o[r]=n,e.nextTick(function(){t(r)}),r};else if(n()){var c="ms.rx.schedule"+Math.random();Ne.addEventListener?Ne.addEventListener("message",r,!1):Ne.attachEvent?Ne.attachEvent("onmessage",r):Ne.onmessage=r,$t=function(e){var t=i++;return o[t]=e,Ne.postMessage(c+currentId,"*"),t}}else if(Ne.MessageChannel){var l=new Ne.MessageChannel;l.port1.onmessage=function(e){t(e.data)},$t=function(e){var t=i++;return o[t]=e,l.port2.postMessage(t),t}}else $t="document"in Ne&&"onreadystatechange"in Ne.document.createElement("script")?function(e){var n=Ne.document.createElement("script"),r=i++;return o[r]=e,n.onreadystatechange=function(){t(r),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},Ne.document.documentElement.appendChild(n),r}:function(e){var n=i++;return o[n]=e,sn(function(){t(n)},0),n}}();var un=Pt.timeout=Pt["default"]=function(){function e(e,t){var n=this,r=new Yt,i=$t(function(){!r.isDisposed&&r.setDisposable(t(n,e))});return new Bt(r,Gt(function(){en(i)}))}function t(e,t,n){var r=this,i=Pt.normalize(t),o=new Yt;if(0===i)return r.scheduleWithState(e,n);var s=sn(function(){!o.isDisposed&&o.setDisposable(n(r,e))},i);return new Bt(o,Gt(function(){an(s)}))}function n(e,t,n){return this.scheduleWithRelativeAndState(e,t-this.now(),n)}return new Pt(We,e,t,n)}(),cn=function(e){function t(e,t){return this._scheduler.scheduleWithState(e,this._wrap(t))}function n(e,t,n){return this._scheduler.scheduleWithRelativeAndState(e,t,this._wrap(n))}function r(e,t,n){return this._scheduler.scheduleWithAbsoluteAndState(e,t,this._wrap(n))}function i(i,o){this._scheduler=i,this._handler=o,this._recursiveOriginal=null,this._recursiveWrapper=null,e.call(this,this._scheduler.now.bind(this._scheduler),t,n,r)}return At(i,e),i.prototype._clone=function(e){return new i(e,this._handler)},i.prototype._wrap=function(e){var t=this;return function(n,r){try{return e(t._getRecursiveWrapper(n),r)}catch(i){if(!t._handler(i))throw i;return zt}}},i.prototype._getRecursiveWrapper=function(e){if(this._recursiveOriginal!==e){this._recursiveOriginal=e;var t=this._clone(e);t._recursiveOriginal=e,t._recursiveWrapper=t,this._recursiveWrapper=t}return this._recursiveWrapper},i.prototype.schedulePeriodicWithState=function(e,t,n){var r=this,i=!1,o=new Yt;return o.setDisposable(this._scheduler.schedulePeriodicWithState(e,t,function(e){if(i)return null;try{return n(e)}catch(t){if(i=!0,!r._handler(t))throw t;return o.dispose(),null}})),o},i}(Pt),ln=Ae.Notification=function(){function e(e,t,n,r,i,o){this.kind=e,this.value=t,this.exception=n,this._accept=r,this._acceptObservable=i,this.toString=o}return e.prototype.accept=function(e,t,n){return e&&"object"==typeof e?this._acceptObservable(e):this._accept(e,t,n)},e.prototype.toObservable=function(e){var t=this;return Kt(e)||(e=nn),new jr(function(n){return e.scheduleWithState(t,function(e,t){t._acceptObservable(n),"N"===t.kind&&n.onCompleted()})})},e}(),dn=ln.createOnNext=function(){function e(e){
return e(this.value)}function t(e){return e.onNext(this.value)}function n(){return"OnNext("+this.value+")"}return function(r){return new ln("N",r,null,e,t,n)}}(),fn=ln.createOnError=function(){function e(e,t){return t(this.exception)}function t(e){return e.onError(this.exception)}function n(){return"OnError("+this.exception+")"}return function(r){return new ln("E",null,r,e,t,n)}}(),hn=ln.createOnCompleted=function(){function e(e,t,n){return n()}function t(e){return e.onCompleted()}function n(){return"OnCompleted()"}return function(){return new ln("C",null,null,e,t,n)}}(),pn=Ae.internals.Enumerator=function(e){this._next=e};pn.prototype.next=function(){return this._next()},pn.prototype[tt]=function(){return this};var mn=Ae.internals.Enumerable=function(e){this._iterator=e};mn.prototype[tt]=function(){return this._iterator()},mn.prototype.concat=function(){var e=this;return new jr(function(t){var n,r=e[tt](),i=new Jt,o=nn.scheduleRecursive(function(e){if(!n){try{var o=r.next()}catch(s){return t.onError(s)}if(o.done)return t.onCompleted();var a=o.value;Le(a)&&(a=Nn(a));var u=new Yt;i.setDisposable(u),u.setDisposable(a.subscribe(function(e){t.onNext(e)},function(e){t.onError(e)},e))}});return new Bt(i,o,Gt(function(){n=!0}))})},mn.prototype.catchError=function(){var e=this;return new jr(function(t){var n,r=e[tt](),i=new Jt,o=nn.scheduleRecursiveWithState(null,function(e,o){if(!n){try{var s=r.next()}catch(a){return observer.onError(a)}if(s.done)return void(null!==e?t.onError(e):t.onCompleted());var u=s.value;Le(u)&&(u=Nn(u));var c=new Yt;i.setDisposable(c),c.setDisposable(u.subscribe(function(e){t.onNext(e)},o,function(){t.onCompleted()}))}});return new Bt(i,o,Gt(function(){n=!0}))})},mn.prototype.catchErrorWhen=function(e){var t=this;return new jr(function(n){var r,i,o=new Tr,s=new Tr,a=e(o),u=a.subscribe(s),c=t[tt](),l=new Jt,d=nn.scheduleRecursive(function(e){if(!r){try{var t=c.next()}catch(a){return n.onError(a)}if(t.done)return void(i?n.onError(i):n.onCompleted());var u=t.value;Le(u)&&(u=Nn(u));var d=new Yt,f=new Yt;l.setDisposable(new Bt(f,d)),d.setDisposable(u.subscribe(function(e){n.onNext(e)},function(t){f.setDisposable(s.subscribe(e,function(e){n.onError(e)},function(){n.onCompleted()})),o.onNext(t)},function(){n.onCompleted()}))}});return new Bt(u,l,d,Gt(function(){r=!0}))})};var vn=mn.repeat=function(e,t){return null==t&&(t=-1),new mn(function(){var n=t;return new pn(function(){return 0===n?nt:(n>0&&n--,{done:!1,value:e})})})},bn=mn.of=function(e,t,n){if(t)var r=st(t,n,3);return new mn(function(){var n=-1;return new pn(function(){return++n<e.length?{done:!1,value:t?r(e[n],n,e):e[n]}:nt})})},gn=Ae.Observer=function(){};gn.prototype.toNotifier=function(){var e=this;return function(t){return t.accept(e)}},gn.prototype.asObserver=function(){return new xn(this.onNext.bind(this),this.onError.bind(this),this.onCompleted.bind(this))},gn.prototype.checked=function(){return new kn(this)};var yn=gn.create=function(e,t,n){return e||(e=Oe),t||(t=Be),n||(n=Oe),new xn(e,t,n)};gn.fromNotifier=function(e,t){return new xn(function(n){return e.call(t,dn(n))},function(n){return e.call(t,fn(n))},function(){return e.call(t,hn())})},gn.prototype.notifyOn=function(e){return new Cn(e,this)},gn.prototype.makeSafe=function(e){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,e)};var wn,_n=Ae.internals.AbstractObserver=function(e){function t(){this.isStopped=!1,e.call(this)}return At(t,e),t.prototype.next=$e,t.prototype.error=$e,t.prototype.completed=$e,t.prototype.onNext=function(e){this.isStopped||this.next(e)},t.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.error(e))},t.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.error(e),!0)},t}(gn),xn=Ae.AnonymousObserver=function(e){function t(t,n,r){e.call(this),this._onNext=t,this._onError=n,this._onCompleted=r}return At(t,e),t.prototype.next=function(e){this._onNext(e)},t.prototype.error=function(e){this._onError(e)},t.prototype.completed=function(){this._onCompleted()},t}(_n),kn=function(e){function t(t){e.call(this),this._observer=t,this._state=0}At(t,e);var n=t.prototype;return n.onNext=function(e){this.checkAccess();var t=w(this._observer.onNext).call(this._observer,e);this._state=0,t===Wt&&_(t.e)},n.onError=function(e){this.checkAccess();var t=w(this._observer.onError).call(this._observer,e);this._state=2,t===Wt&&_(t.e)},n.onCompleted=function(){this.checkAccess();var e=w(this._observer.onCompleted).call(this._observer);this._state=2,e===Wt&&_(e.e)},n.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},t}(gn),Sn=Ae.internals.ScheduledObserver=function(e){function t(t,n){e.call(this),this.scheduler=t,this.observer=n,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new Jt}return At(t,e),t.prototype.next=function(e){var t=this;this.queue.push(function(){t.observer.onNext(e)})},t.prototype.error=function(e){var t=this;this.queue.push(function(){t.observer.onError(e)})},t.prototype.completed=function(){var e=this;this.queue.push(function(){e.observer.onCompleted()})},t.prototype.ensureActive=function(){var e=!1,t=this;!this.hasFaulted&&this.queue.length>0&&(e=!this.isAcquired,this.isAcquired=!0),e&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(function(e){var n;if(!(t.queue.length>0))return void(t.isAcquired=!1);n=t.queue.shift();try{n()}catch(r){throw t.queue=[],t.hasFaulted=!0,r}e()}))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposable.dispose()},t}(_n),Cn=function(e){function t(t,n,r){e.call(this,t,n),this._cancel=r}return At(t,e),t.prototype.next=function(t){e.prototype.next.call(this,t),this.ensureActive()},t.prototype.error=function(t){e.prototype.error.call(this,t),this.ensureActive()},t.prototype.completed=function(){e.prototype.completed.call(this),this.ensureActive()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._cancel&&this._cancel.dispose(),this._cancel=null},t}(Sn),En=Ae.Observable=function(){function e(e){if(Ae.config.longStackSupport&&ze){try{throw new Error}catch(t){this.stack=t.stack.substring(t.stack.indexOf("\n")+1)}var n=this;this._subscribe=function(t){var r=t.onError.bind(t);return t.onError=function(e){a(e,n),r(e)},e.call(n,t)}}else this._subscribe=e}return wn=e.prototype,wn.subscribe=wn.forEach=function(e,t,n){return this._subscribe("object"==typeof e?e:yn(e,t,n))},wn.subscribeOnNext=function(e,t){return this._subscribe(yn("undefined"!=typeof t?function(n){e.call(t,n)}:e))},wn.subscribeOnError=function(e,t){return this._subscribe(yn(null,"undefined"!=typeof t?function(n){e.call(t,n)}:e))},wn.subscribeOnCompleted=function(e,t){return this._subscribe(yn(null,null,"undefined"!=typeof t?function(){e.call(t)}:e))},e}(),jn=Ae.ObservableBase=function(e){function t(e){return e&&Ge(e.dispose)?e:Ge(e)?Gt(e):zt}function n(e,n){var r=n[0],i=n[1],o=w(i.subscribeCore).call(i,r);return o!==Wt||r.fail(Wt.e)?void r.setDisposable(t(o)):_(Wt.e)}function r(e){var t=new Nr(e),r=[t,this];return rn.scheduleRequired()?rn.scheduleWithState(r,n):n(null,r),t}function i(){e.call(this,r)}return At(i,e),i.prototype.subscribeCore=$e,i}(En);wn.observeOn=function(e){var t=this;return new jr(function(n){return t.subscribe(new Cn(e,n))},t)},wn.subscribeOn=function(e){var t=this;return new jr(function(n){var r=new Yt,i=new Jt;return i.setDisposable(r),r.setDisposable(e.schedule(function(){i.setDisposable(new k(e,t.subscribe(n)))})),i},t)};var Nn=En.fromPromise=function(e){return Tn(function(){var t=new Ae.AsyncSubject;return e.then(function(e){t.onNext(e),t.onCompleted()},t.onError.bind(t)),t})};wn.toPromise=function(e){if(e||(e=Ae.config.Promise),!e)throw new He("Promise type not provided nor in Rx.config.Promise");var t=this;return new e(function(e,n){var r,i=!1;t.subscribe(function(e){r=e,i=!0},n,function(){i&&e(r)})})};var Rn=function(e){function t(t){this.source=t,e.call(this)}return At(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new C(e))},t}(jn);C.prototype.onNext=function(e){this.isStopped||this.a.push(e)},C.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.observer.onError(e))},C.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.observer.onNext(this.a),this.observer.onCompleted())},C.prototype.dispose=function(){this.isStopped=!0},C.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(e),!0)},wn.toArray=function(){return new Rn(this)},En.create=En.createWithDisposable=function(e,t){return new jr(e,t)};var Tn=En.defer=function(e){return new jr(function(t){var n;try{n=e()}catch(r){return Jn(r).subscribe(t)}return Le(n)&&(n=Nn(n)),n.subscribe(t)})},Un=function(e){function t(t){this.scheduler=t,e.call(this)}function n(e,t){this.observer=e,this.parent=t}function r(e,t){t.onCompleted()}return At(t,e),t.prototype.subscribeCore=function(e){var t=new n(e,this);return t.run()},n.prototype.run=function(){return this.parent.scheduler.scheduleWithState(this.observer,r)},t}(jn),Dn=En.empty=function(e){return Kt(e)||(e=nn),new Un(e)},An=function(e){function t(t,n,r){this.iterable=t,this.mapper=n,this.scheduler=r,e.call(this)}return At(t,e),t.prototype.subscribeCore=function(e){var t=new On(e,this);return t.run()},t}(jn),On=function(){function e(e,t){this.observer=e,this.parent=t}return e.prototype.run=function(){function e(e,t){try{var o=n.next()}catch(s){return r.onError(s)}if(o.done)return r.onCompleted();var a=o.value;if(i)try{a=i(a,e)}catch(s){return r.onError(s)}r.onNext(a),t(e+1)}var t=Object(this.parent.iterable),n=U(t),r=this.observer,i=this.parent.mapper;return this.parent.scheduler.scheduleRecursiveWithState(0,e)},e}(),In=Math.pow(2,53)-1;E.prototype[tt]=function(){return new j(this._s)},j.prototype[tt]=function(){return this},j.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:nt},N.prototype[tt]=function(){return new R(this._a)},R.prototype[tt]=function(){return this},R.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:nt};var Wn=En.from=function(e,t,n,r){if(null==e)throw new Error("iterable cannot be null.");if(t&&!Ge(t))throw new Error("mapFn when provided must be a function");if(t)var i=st(t,n,2);return Kt(r)||(r=rn),new An(e,i,r)},Mn=function(e){function t(t,n){this.args=t,this.scheduler=n,e.call(this)}return At(t,e),t.prototype.subscribeCore=function(e){var t=new O(e,this);return t.run()},t}(jn);O.prototype.run=function(){function e(e,i){r>e?(t.onNext(n[e]),i(e+1)):t.onCompleted()}var t=this.observer,n=this.parent.args,r=n.length;return this.parent.scheduler.scheduleRecursiveWithState(0,e)};var Zn=En.fromArray=function(e,t){return Kt(t)||(t=rn),new Mn(e,t)};En.generate=function(e,t,n,r,i){return Kt(i)||(i=rn),new jr(function(o){var s=!0;return i.scheduleRecursiveWithState(e,function(e,i){var a,u;try{s?s=!1:e=n(e),a=t(e),a&&(u=r(e))}catch(c){return o.onError(c)}a?(o.onNext(u),i(e)):o.onCompleted()})})},En.of=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];return new Mn(t,rn)},En.ofWithScheduler=function(e){for(var t=arguments.length,n=new Array(t-1),r=1;t>r;r++)n[r-1]=arguments[r];return new Mn(n,e)},En.ofArrayChanges=function(e){if(!Array.isArray(e))throw new TypeError("Array.observe only accepts arrays.");if("function"!=typeof Array.observe&&"function"!=typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new jr(function(t){function n(e){for(var n=0,r=e.length;r>n;n++)t.onNext(e[n])}return Array.observe(e,n),function(){Array.unobserve(e,n)}})},En.ofObjectChanges=function(e){if(null==e)throw new TypeError("object must not be null or undefined.");if("function"!=typeof Object.observe&&"function"!=typeof Object.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new jr(function(t){function n(e){for(var n=0,r=e.length;r>n;n++)t.onNext(e[n])}return Object.observe(e,n),function(){Object.unobserve(e,n)}})};var Bn=function(e){function t(){e.call(this)}return At(t,e),t.prototype.subscribeCore=function(e){return zt},t}(jn),Ln=En.never=function(){return new Bn},Vn=function(e){function t(t,n){this.obj=t,this.keys=Object.keys(t),this.scheduler=n,e.call(this)}return At(t,e),t.prototype.subscribeCore=function(e){var t=new W(e,this);return t.run()},t}(jn);W.prototype.run=function(){function e(e,o){if(i>e){var s=r[e];t.onNext([s,n[s]]),o(e+1)}else t.onCompleted()}var t=this.observer,n=this.parent.obj,r=this.parent.keys,i=r.length;return this.parent.scheduler.scheduleRecursiveWithState(0,e)},En.pairs=function(e,t){return t||(t=rn),new Vn(e,t)};var Gn=function(e){function t(t,n,r){this.start=t,this.count=n,this.scheduler=r,e.call(this)}return At(t,e),t.prototype.subscribeCore=function(e){var t=new zn(e,this);return t.run()},t}(jn),zn=function(){function e(e,t){this.observer=e,this.parent=t}return e.prototype.run=function(){function e(e,i){n>e?(r.onNext(t+e),i(e+1)):r.onCompleted()}var t=this.parent.start,n=this.parent.count,r=this.observer;return this.parent.scheduler.scheduleRecursiveWithState(0,e)},e}();En.range=function(e,t,n){return Kt(n)||(n=rn),new Gn(e,t,n)};var Fn=function(e){function t(t,n,r){this.value=t,this.repeatCount=null==n?-1:n,this.scheduler=r,e.call(this)}return At(t,e),t.prototype.subscribeCore=function(e){var t=new M(e,this);return t.run()},t}(jn);M.prototype.run=function(){function e(e,r){return(-1===e||e>0)&&(t.onNext(n),e>0&&e--),0===e?t.onCompleted():void r(e)}var t=this.observer,n=this.parent.value;return this.parent.scheduler.scheduleRecursiveWithState(this.parent.repeatCount,e)},En.repeat=function(e,t,n){return Kt(n)||(n=rn),new Fn(e,t,n)};var Xn=function(e){function t(t,n){this.value=t,this.scheduler=n,e.call(this)}function n(e,t){this.observer=e,this.parent=t}function r(e,t){var n=t[0],r=t[1];r.onNext(n),r.onCompleted()}return At(t,e),t.prototype.subscribeCore=function(e){var t=new n(e,this);return t.run()},n.prototype.run=function(){return this.parent.scheduler.scheduleWithState([this.parent.value,this.observer],r)},t}(jn),Yn=(En["return"]=En.just=En.returnValue=function(e,t){return Kt(t)||(t=nn),new Xn(e,t)},function(e){function t(t,n){this.error=t,this.scheduler=n,e.call(this)}function n(e,t){this.observer=e,this.parent=t}function r(e,t){var n=t[0],r=t[1];r.onError(n)}return At(t,e),t.prototype.subscribeCore=function(e){var t=new n(e,this);return t.run()},n.prototype.run=function(){return this.parent.scheduler.scheduleWithState([this.parent.error,this.observer],r)},t}(jn)),Jn=En["throw"]=En.throwError=En.throwException=function(e,t){return Kt(t)||(t=nn),new Yn(e,t)};En.using=function(e,t){return new jr(function(n){var r,i,o=zt;try{r=e(),r&&(o=r),i=t(r)}catch(s){return new Bt(Jn(s).subscribe(n),o)}return new Bt(i.subscribe(n),o)})},wn.amb=function(e){var t=this;return new jr(function(n){function r(){o||(o=s,c.dispose())}function i(){o||(o=a,u.dispose())}var o,s="L",a="R",u=new Yt,c=new Yt;return Le(e)&&(e=Nn(e)),u.setDisposable(t.subscribe(function(e){r(),o===s&&n.onNext(e)},function(e){r(),o===s&&n.onError(e)},function(){r(),o===s&&n.onCompleted()})),c.setDisposable(e.subscribe(function(e){i(),o===a&&n.onNext(e)},function(e){i(),o===a&&n.onError(e)},function(){i(),o===a&&n.onCompleted()})),new Bt(u,c)})},En.amb=function(){function e(e,t){return e.amb(t)}var t=Ln(),n=[];if(Array.isArray(arguments[0]))n=arguments[0];else for(var r=0,i=arguments.length;i>r;r++)n.push(arguments[r]);for(var r=0,i=n.length;i>r;r++)t=e(t,n[r]);return t},wn["catch"]=wn.catchError=wn.catchException=function(e){return"function"==typeof e?Z(this,e):qn([this,e])};var qn=En.catchError=En["catch"]=En.catchException=function(){var e=[];if(Array.isArray(arguments[0]))e=arguments[0];else for(var t=0,n=arguments.length;n>t;t++)e.push(arguments[t]);return bn(e).catchError()};wn.combineLatest=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];return Array.isArray(t[0])?t[0].unshift(this):t.unshift(this),Qn.apply(this,t)};var Qn=En.combineLatest=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=t.pop();return Array.isArray(t[0])&&(t=t[0]),new jr(function(e){function n(t){if(a[t]=!0,u||(u=a.every(Ie))){try{var n=r.apply(null,l)}catch(i){return e.onError(i)}e.onNext(n)}else c.filter(function(e,n){return n!==t}).every(Ie)&&e.onCompleted()}function i(t){c[t]=!0,c.every(Ie)&&e.onCompleted()}for(var o=t.length,s=function(){return!1},a=g(o,s),u=!1,c=g(o,s),l=new Array(o),d=new Array(o),f=0;o>f;f++)!function(r){var o=t[r],s=new Yt;Le(o)&&(o=Nn(o)),s.setDisposable(o.subscribe(function(e){l[r]=e,n(r)},function(t){e.onError(t)},function(){i(r)})),d[r]=s}(f);return new Bt(d)},this)};wn.concat=function(){for(var e=[],t=0,n=arguments.length;n>t;t++)e.push(arguments[t]);return e.unshift(this),Pn.apply(null,e)};var Pn=En.concat=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{e=new Array(arguments.length);for(var t=0,n=arguments.length;n>t;t++)e[t]=arguments[t]}return bn(e).concat()};wn.concatAll=wn.concatObservable=function(){return this.merge(1)};var Hn=function(e){function t(t,n){this.source=t,this.maxConcurrent=n,e.call(this)}return At(t,e),t.prototype.subscribeCore=function(e){var t=new Bt;return t.add(this.source.subscribe(new Kn(e,this.maxConcurrent,t))),t},t}(jn),Kn=function(){function e(e,t,n){this.o=e,this.max=t,this.g=n,this.done=!1,this.q=[],this.activeCount=0,this.isStopped=!1}function t(e,t){this.parent=e,this.sad=t,this.isStopped=!1}return e.prototype.handleSubscribe=function(e){var n=new Yt;this.g.add(n),Le(e)&&(e=Nn(e)),n.setDisposable(e.subscribe(new t(this,n)))},e.prototype.onNext=function(e){this.isStopped||(this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(e)):this.q.push(e))},e.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.done=!0,0===this.activeCount&&this.o.onCompleted())},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t.prototype.onNext=function(e){this.isStopped||this.parent.o.onNext(e)},t.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.parent.o.onError(e))},t.prototype.onCompleted=function(){if(!this.isStopped){this.isStopped=!0;var e=this.parent;e.g.remove(this.sad),e.q.length>0?e.handleSubscribe(e.q.shift()):(e.activeCount--,e.done&&0===e.activeCount&&e.o.onCompleted())}},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(e),!0)},e}();wn.merge=function(e){return"number"!=typeof e?$n(this,e):new Hn(this,e)};var $n=En.merge=function(){var e,t,n=[],r=arguments.length;if(arguments[0])if(Kt(arguments[0]))for(e=arguments[0],t=1;r>t;t++)n.push(arguments[t]);else for(e=nn,t=0;r>t;t++)n.push(arguments[t]);else for(e=nn,t=1;r>t;t++)n.push(arguments[t]);return Array.isArray(n[0])&&(n=n[0]),I(e,n).mergeAll()},er=function(e){function t(t){this.source=t,e.call(this)}return At(t,e),t.prototype.subscribeCore=function(e){var t=new Bt,n=new Yt;return t.add(n),n.setDisposable(this.source.subscribe(new tr(e,t))),t},t}(jn),tr=function(){function e(e,t){this.o=e,this.g=t,this.isStopped=!1,this.done=!1}function t(e,t,n){this.parent=e,this.g=t,this.sad=n,this.isStopped=!1}return e.prototype.onNext=function(e){if(!this.isStopped){var n=new Yt;this.g.add(n),Le(e)&&(e=Nn(e)),n.setDisposable(e.subscribe(new t(this,this.g,n)))}},e.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.done=!0,1===this.g.length&&this.o.onCompleted())},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t.prototype.onNext=function(e){this.isStopped||this.parent.o.onNext(e)},t.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.parent.o.onError(e))},t.prototype.onCompleted=function(){if(!this.isStopped){var e=this.parent;this.isStopped=!0,e.g.remove(this.sad),e.done&&1===e.g.length&&e.o.onCompleted()}},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(e),!0)},e}();wn.mergeAll=wn.mergeObservable=function(){return new er(this)};var nr=Ae.CompositeError=function(e){this.name="NotImplementedError",this.innerErrors=e,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};nr.prototype=Error.prototype,En.mergeDelayError=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{var t=arguments.length;e=new Array(t);for(var n=0;t>n;n++)e[n]=arguments[n]}var r=I(null,e);return new jr(function(e){function t(){0===s.length?e.onCompleted():e.onError(1===s.length?s[0]:new nr(s))}var n=new Bt,i=new Yt,o=!1,s=[];return n.add(i),i.setDisposable(r.subscribe(function(r){var i=new Yt;n.add(i),Le(r)&&(r=Nn(r)),i.setDisposable(r.subscribe(function(t){e.onNext(t)},function(e){s.push(e),n.remove(i),o&&1===n.length&&t()},function(){n.remove(i),o&&1===n.length&&t()}))},function(e){s.push(e),o=!0,1===n.length&&t()},function(){o=!0,1===n.length&&t()})),n})},wn.onErrorResumeNext=function(e){if(!e)throw new Error("Second observable is required");return rr([this,e])};var rr=En.onErrorResumeNext=function(){var e=[];if(Array.isArray(arguments[0]))e=arguments[0];else for(var t=0,n=arguments.length;n>t;t++)e.push(arguments[t]);return new jr(function(t){var n=0,r=new Jt,i=nn.scheduleRecursive(function(i){var o,s;n<e.length?(o=e[n++],Le(o)&&(o=Nn(o)),s=new Yt,r.setDisposable(s),s.setDisposable(o.subscribe(t.onNext.bind(t),i,i))):t.onCompleted()});return new Bt(r,i)})};wn.skipUntil=function(e){var t=this;return new jr(function(n){var r=!1,i=new Bt(t.subscribe(function(e){r&&n.onNext(e)},function(e){n.onError(e)},function(){r&&n.onCompleted()}));Le(e)&&(e=Nn(e));var o=new Yt;return i.add(o),o.setDisposable(e.subscribe(function(){r=!0,o.dispose()},function(e){n.onError(e)},function(){o.dispose()})),i},t)},wn["switch"]=wn.switchLatest=function(){var e=this;return new jr(function(t){var n=!1,r=new Jt,i=!1,o=0,s=e.subscribe(function(e){var s=new Yt,a=++o;n=!0,r.setDisposable(s),Le(e)&&(e=Nn(e)),s.setDisposable(e.subscribe(function(e){o===a&&t.onNext(e)},function(e){o===a&&t.onError(e)},function(){o===a&&(n=!1,i&&t.onCompleted())}))},function(e){t.onError(e)},function(){i=!0,!n&&t.onCompleted()});return new Bt(s,r)},e)},wn.takeUntil=function(e){var t=this;return new jr(function(n){return Le(e)&&(e=Nn(e)),new Bt(t.subscribe(n),e.subscribe(function(){n.onCompleted()},function(e){n.onError(e)},Oe))},t)},wn.withLatestFrom=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=t.pop(),i=this;if("undefined"==typeof i)throw new Error("Source observable not found for withLatestFrom().");if("function"!=typeof r)throw new Error("withLatestFrom() expects a resultSelector function.");return Array.isArray(t[0])&&(t=t[0]),new jr(function(e){for(var n=function(){return!1},o=t.length,s=g(o,n),a=!1,u=new Array(o),c=new Array(o+1),l=0;o>l;l++)!function(n){var r=t[n],i=new Yt;Le(r)&&(r=Nn(r)),i.setDisposable(r.subscribe(function(e){u[n]=e,s[n]=!0,a=s.every(Ie)},e.onError.bind(e),function(){})),c[n]=i}(l);var d=new Yt;return d.setDisposable(i.subscribe(function(t){var n,i=[t].concat(u);if(a){try{n=r.apply(null,i)}catch(o){return void e.onError(o)}e.onNext(n)}},e.onError.bind(e),function(){e.onCompleted()})),c[o]=d,new Bt(c)},this)},wn.zip=function(){if(Array.isArray(arguments[0]))return B.apply(this,arguments);for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=this,i=t.pop();return t.unshift(r),new jr(function(e){function n(t){var n,o;if(a.every(function(e){return e.length>0})){try{o=a.map(function(e){return e.shift()}),n=i.apply(r,o)}catch(s){return void e.onError(s)}e.onNext(n)}else u.filter(function(e,n){return n!==t}).every(Ie)&&e.onCompleted()}function o(t){u[t]=!0,u.every(function(e){return e})&&e.onCompleted()}for(var s=t.length,a=g(s,V),u=g(s,L),c=new Array(s),l=0;s>l;l++)!function(r){var i=t[r],s=new Yt;Le(i)&&(i=Nn(i)),s.setDisposable(i.subscribe(function(e){a[r].push(e),n(r)},function(t){e.onError(t)},function(){o(r)})),c[r]=s}(l);return new Bt(c)},r)},En.zip=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=t.shift();return r.zip.apply(r,t)},En.zipArray=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{var t=arguments.length;e=new Array(t);for(var n=0;t>n;n++)e[n]=arguments[n]}return new jr(function(t){function n(e){if(o.every(function(e){return e.length>0})){var n=o.map(function(e){return e.shift()});t.onNext(n)}else if(s.filter(function(t,n){return n!==e}).every(Ie))return void t.onCompleted()}function r(e){return s[e]=!0,s.every(Ie)?void t.onCompleted():void 0}for(var i=e.length,o=g(i,function(){return[]}),s=g(i,function(){return!1}),a=new Array(i),u=0;i>u;u++)!function(i){a[i]=new Yt,a[i].setDisposable(e[i].subscribe(function(e){o[i].push(e),n(i)},function(e){t.onError(e)},function(){r(i)}))}(u);return new Bt(a)})},wn.asObservable=function(){var e=this;return new jr(function(t){return e.subscribe(t)},this)},wn.bufferWithCount=function(e,t){return"number"!=typeof t&&(t=e),this.windowWithCount(e,t).selectMany(function(e){return e.toArray()}).where(function(e){return e.length>0})},wn.dematerialize=function(){var e=this;return new jr(function(t){return e.subscribe(function(e){return e.accept(t)},function(e){t.onError(e)},function(){t.onCompleted()})},this)},wn.distinctUntilChanged=function(e,t){var n=this;return t||(t=Me),new jr(function(r){var i,o=!1;return n.subscribe(function(n){var s=n;if(e)try{s=e(n)}catch(a){return void r.onError(a)}if(o)try{var u=t(i,s)}catch(a){return void r.onError(a)}o&&u||(o=!0,i=s,r.onNext(n))},function(e){r.onError(e)},function(){r.onCompleted()})},this)},wn["do"]=wn.tap=wn.doAction=function(e,t,n){var r=this;return new jr(function(i){var o=!e||Ge(e)?yn(e||Oe,t||Oe,n||Oe):e;return r.subscribe(function(e){try{o.onNext(e)}catch(t){i.onError(t)}i.onNext(e)},function(e){try{o.onError(e)}catch(t){i.onError(t)}i.onError(e)},function(){try{o.onCompleted()}catch(e){i.onError(e)}i.onCompleted()})},this)},wn.doOnNext=wn.tapOnNext=function(e,t){return this.tap("undefined"!=typeof t?function(n){e.call(t,n)}:e)},wn.doOnError=wn.tapOnError=function(e,t){return this.tap(Oe,"undefined"!=typeof t?function(n){e.call(t,n)}:e)},wn.doOnCompleted=wn.tapOnCompleted=function(e,t){return this.tap(Oe,null,"undefined"!=typeof t?function(){e.call(t)}:e)},wn["finally"]=wn.ensure=function(e){var t=this;return new jr(function(n){var r;try{r=t.subscribe(n)}catch(i){throw e(),i}return Gt(function(){try{r.dispose()}catch(t){throw t}finally{e()}})},this)},wn.finallyAction=function(e){return this.ensure(e)},wn.ignoreElements=function(){var e=this;return new jr(function(t){return e.subscribe(Oe,function(e){t.onError(e)},function(){t.onCompleted()})},e)},wn.materialize=function(){var e=this;return new jr(function(t){return e.subscribe(function(e){t.onNext(dn(e))},function(e){t.onNext(fn(e)),t.onCompleted()},function(){t.onNext(hn()),t.onCompleted()})},e)},wn.repeat=function(e){return vn(this,e).concat()},wn.retry=function(e){return vn(this,e).catchError()},wn.retryWhen=function(e){return vn(this).catchErrorWhen(e)},wn.scan=function(){var e,t,n=!1,r=this;return 2===arguments.length?(n=!0,e=arguments[0],t=arguments[1]):t=arguments[0],new jr(function(i){var o,s,a;return r.subscribe(function(r){!a&&(a=!0);try{o?s=t(s,r):(s=n?t(e,r):r,o=!0)}catch(u){return void i.onError(u)}i.onNext(s)},function(e){i.onError(e)},function(){!a&&n&&i.onNext(e),i.onCompleted()})},r)},wn.skipLast=function(e){if(0>e)throw new Pe;var t=this;return new jr(function(n){var r=[];return t.subscribe(function(t){r.push(t),r.length>e&&n.onNext(r.shift())},function(e){n.onError(e)},function(){n.onCompleted()})},t)},wn.startWith=function(){var e,t=0;arguments.length&&Kt(arguments[0])?(e=arguments[0],t=1):e=nn;for(var n=[],r=t,i=arguments.length;i>r;r++)n.push(arguments[r]);return bn([Zn(n,e),this]).concat()},wn.takeLast=function(e){if(0>e)throw new Pe;var t=this;return new jr(function(n){var r=[];return t.subscribe(function(t){r.push(t),r.length>e&&r.shift()},function(e){n.onError(e)},function(){for(;r.length>0;)n.onNext(r.shift());n.onCompleted()})},t)},wn.takeLastBuffer=function(e){var t=this;return new jr(function(n){var r=[];return t.subscribe(function(t){r.push(t),r.length>e&&r.shift()},function(e){n.onError(e)},function(){n.onNext(r),n.onCompleted()})},t)},wn.windowWithCount=function(e,t){var n=this;if(+e||(e=0),Math.abs(e)===1/0&&(e=0),0>=e)throw new Pe;if(null==t&&(t=e),+t||(t=0),Math.abs(t)===1/0&&(t=0),0>=t)throw new Pe;return new jr(function(r){function i(){var e=new Tr;u.push(e),r.onNext(It(e,s))}var o=new Yt,s=new qt(o),a=0,u=[];return i(),o.setDisposable(n.subscribe(function(n){for(var r=0,o=u.length;o>r;r++)u[r].onNext(n);var s=a-e+1;s>=0&&s%t===0&&u.shift().onCompleted(),++a%t===0&&i()},function(e){for(;u.length>0;)u.shift().onError(e);r.onError(e)},function(){for(;u.length>0;)u.shift().onCompleted();r.onCompleted()})),s},n)},wn.selectConcat=wn.concatMap=function(e,t,n){return Ge(e)&&Ge(t)?this.concatMap(function(n,r){var i=e(n,r);return Le(i)&&(i=Nn(i)),(it(i)||rt(i))&&(i=Wn(i)),i.map(function(e,i){return t(n,e,r,i)})}):Ge(e)?G(this,e,n):G(this,function(){return e})},wn.concatMapObserver=wn.selectConcatObserver=function(e,t,n,r){var i=this,o=st(e,r,2),s=st(t,r,1),a=st(n,r,0);return new jr(function(e){var t=0;return i.subscribe(function(n){var r;try{r=o(n,t++)}catch(i){return void e.onError(i)}Le(r)&&(r=Nn(r)),e.onNext(r)},function(t){var n;try{n=s(t)}catch(r){return void e.onError(r)}Le(n)&&(n=Nn(n)),e.onNext(n),e.onCompleted()},function(){var t;try{t=a()}catch(n){return void e.onError(n)}Le(t)&&(t=Nn(t)),e.onNext(t),e.onCompleted()})},this).concatAll()},wn.defaultIfEmpty=function(e){var t=this;return e===i&&(e=null),new jr(function(n){var r=!1;return t.subscribe(function(e){r=!0,n.onNext(e)},function(e){n.onError(e)},function(){!r&&n.onNext(e),n.onCompleted()})},t)},F.prototype.push=function(e){var t=-1===z(this.set,e,this.comparer);return t&&this.set.push(e),t},wn.distinct=function(e,t){var n=this;return t||(t=Me),new jr(function(r){var i=new F(t);return n.subscribe(function(t){var n=t;if(e)try{n=e(t)}catch(o){return void r.onError(o)}i.push(n)&&r.onNext(t)},function(e){r.onError(e)},function(){r.onCompleted()})},this)},wn.groupBy=function(e,t,n){return this.groupByUntil(e,t,Ln,n)},wn.groupByUntil=function(e,t,n,r){var i=this;return t||(t=Ie),r||(r=Me),new jr(function(o){function s(e){return function(t){t.onError(e)}}var a=new _r(0,r),u=new Bt,c=new qt(u);return u.add(i.subscribe(function(r){var i;try{i=e(r)}catch(l){return a.getValues().forEach(s(l)),void o.onError(l)}var d=!1,f=a.tryGetValue(i);if(f||(f=new Tr,a.set(i,f),d=!0),d){var h=new Rr(i,f,c),p=new Rr(i,f);try{duration=n(p)}catch(l){return a.getValues().forEach(s(l)),void o.onError(l)}o.onNext(h);var m=new Yt;u.add(m);var v=function(){a.remove(i)&&f.onCompleted(),u.remove(m)};m.setDisposable(duration.take(1).subscribe(Oe,function(e){a.getValues().forEach(s(e)),o.onError(e)},v))}var b;try{b=t(r)}catch(l){return a.getValues().forEach(s(l)),void o.onError(l)}f.onNext(b)},function(e){a.getValues().forEach(s(e)),o.onError(e)},function(){a.getValues().forEach(function(e){e.onCompleted()}),o.onCompleted()})),c},i)};var ir=function(e){function t(t,n,r){this.source=t,this.selector=st(n,r,3),e.call(this)}return At(t,e),t.prototype.internalMap=function(e,n){
var r=this;return new t(this.source,function(t,n,i){return e.call(this,r.selector(t,n,i),n,i)},n)},t.prototype.subscribeCore=function(e){return this.source.subscribe(new X(e,this.selector,this))},t}(jn);X.prototype.onNext=function(e){if(!this.isStopped){var t=w(this.selector).call(this,e,this.i++,this.source);return t===Wt?this.observer.onError(t.e):void this.observer.onNext(t)}},X.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.observer.onError(e))},X.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.observer.onCompleted())},X.prototype.dispose=function(){this.isStopped=!0},X.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(e),!0)},wn.map=wn.select=function(e,t){var n="function"==typeof e?e:function(){return e};return this instanceof ir?this.internalMap(n,t):new ir(this,n,t)},wn.pluck=function(){var e=arguments,t=arguments.length;if(0===t)throw new Error("List of properties cannot be empty.");return this.map(function(n){for(var r=n,o=0;t>o;o++){var s=r[e[o]];if("undefined"==typeof s)return i;r=s}return r})},wn.selectMany=wn.flatMap=function(e,t,n){return Ge(e)&&Ge(t)?this.flatMap(function(n,r){var i=e(n,r);return Le(i)&&(i=Nn(i)),(it(i)||rt(i))&&(i=Wn(i)),i.map(function(e,i){return t(n,e,r,i)})},n):Ge(e)?Y(this,e,n):Y(this,function(){return e})},wn.flatMapObserver=wn.selectManyObserver=function(e,t,n,r){var i=this;return new jr(function(o){var s=0;return i.subscribe(function(t){var n;try{n=e.call(r,t,s++)}catch(i){return void o.onError(i)}Le(n)&&(n=Nn(n)),o.onNext(n)},function(e){var n;try{n=t.call(r,e)}catch(i){return void o.onError(i)}Le(n)&&(n=Nn(n)),o.onNext(n),o.onCompleted()},function(){var e;try{e=n.call(r)}catch(t){return void o.onError(t)}Le(e)&&(e=Nn(e)),o.onNext(e),o.onCompleted()})},i).mergeAll()},wn.selectSwitch=wn.flatMapLatest=wn.switchMap=function(e,t){return this.select(e,t).switchLatest()},wn.skip=function(e){if(0>e)throw new Pe;var t=this;return new jr(function(n){var r=e;return t.subscribe(function(e){0>=r?n.onNext(e):r--},function(e){n.onError(e)},function(){n.onCompleted()})},t)},wn.skipWhile=function(e,t){var n=this,r=st(e,t,3);return new jr(function(e){var t=0,i=!1;return n.subscribe(function(o){if(!i)try{i=!r(o,t++,n)}catch(s){return void e.onError(s)}i&&e.onNext(o)},function(t){e.onError(t)},function(){e.onCompleted()})},n)},wn.take=function(e,t){if(0>e)throw new Pe;if(0===e)return Dn(t);var n=this;return new jr(function(t){var r=e;return n.subscribe(function(e){r-->0&&(t.onNext(e),0===r&&t.onCompleted())},function(e){t.onError(e)},function(){t.onCompleted()})},n)},wn.takeWhile=function(e,t){var n=this,r=st(e,t,3);return new jr(function(e){var t=0,i=!0;return n.subscribe(function(o){if(i){try{i=r(o,t++,n)}catch(s){return void e.onError(s)}i?e.onNext(o):e.onCompleted()}},function(t){e.onError(t)},function(){e.onCompleted()})},n)};var or=function(e){function t(t,n,r){this.source=t,this.predicate=st(n,r,3),e.call(this)}return At(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new J(e,this.predicate,this))},t.prototype.internalFilter=function(e,n){var r=this;return new t(this.source,function(t,n,i){return r.predicate(t,n,i)&&e.call(this,t,n,i)},n)},t}(jn);J.prototype.onNext=function(e){if(!this.isStopped){var t=w(this.predicate).call(this,e,this.i++,this.source);return t===Wt?this.observer.onError(t.e):void(t&&this.observer.onNext(e))}},J.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.observer.onError(e))},J.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.observer.onCompleted())},J.prototype.dispose=function(){this.isStopped=!0},J.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(e),!0)},wn.filter=wn.where=function(e,t){return this instanceof or?this.internalFilter(e,t):new or(this,e,t)},wn.aggregate=function(){var e,t,n=!1,r=this;return 2===arguments.length?(n=!0,t=arguments[0],e=arguments[1]):e=arguments[0],new jr(function(i){var o,s,a;return r.subscribe(function(r){!a&&(a=!0);try{o?s=e(s,r):(s=n?e(t,r):r,o=!0)}catch(u){return i.onError(u)}},function(e){i.onError(e)},function(){a&&i.onNext(s),!a&&n&&i.onNext(t),!a&&!n&&i.onError(new qe),i.onCompleted()})},r)},wn.reduce=function(e){var t,n=!1,r=this;return 2===arguments.length&&(n=!0,t=arguments[1]),new jr(function(i){var o,s,a;return r.subscribe(function(r){!a&&(a=!0);try{o?s=e(s,r):(s=n?e(t,r):r,o=!0)}catch(u){return i.onError(u)}},function(e){i.onError(e)},function(){a&&i.onNext(s),!a&&n&&i.onNext(t),!a&&!n&&i.onError(new qe),i.onCompleted()})},r)},wn.some=function(e,t){var n=this;return e?n.filter(e,t).some():new jr(function(e){return n.subscribe(function(){e.onNext(!0),e.onCompleted()},function(t){e.onError(t)},function(){e.onNext(!1),e.onCompleted()})},n)},wn.any=function(){return this.some.apply(this,arguments)},wn.isEmpty=function(){return this.any().map(Ve)},wn.every=function(e,t){return this.filter(function(t){return!e(t)},t).some().map(Ve)},wn.all=function(){return this.every.apply(this,arguments)},wn.includes=function(e,t){function n(e,t){return 0===e&&0===t||e===t||isNaN(e)&&isNaN(t)}var r=this;return new jr(function(i){var o=0,s=+t||0;return Math.abs(s)===1/0&&(s=0),0>s?(i.onNext(!1),i.onCompleted(),zt):r.subscribe(function(t){o++>=s&&n(t,e)&&(i.onNext(!0),i.onCompleted())},function(e){i.onError(e)},function(){i.onNext(!1),i.onCompleted()})},this)},wn.contains=function(e,t){wn.includes(e,t)},wn.count=function(e,t){return e?this.filter(e,t).count():this.reduce(function(e){return e+1},0)},wn.indexOf=function(e,t){var n=this;return new jr(function(r){var i=0,o=+t||0;return Math.abs(o)===1/0&&(o=0),0>o?(r.onNext(-1),r.onCompleted(),zt):n.subscribe(function(t){i>=o&&t===e&&(r.onNext(i),r.onCompleted()),i++},function(e){r.onError(e)},function(){r.onNext(-1),r.onCompleted()})},n)},wn.sum=function(e,t){return e&&Ge(e)?this.map(e,t).sum():this.reduce(function(e,t){return e+t},0)},wn.minBy=function(e,t){return t||(t=Ze),q(this,e,function(e,n){return-1*t(e,n)})},wn.min=function(e){return this.minBy(Ie,e).map(function(e){return Q(e)})},wn.maxBy=function(e,t){return t||(t=Ze),q(this,e,t)},wn.max=function(e){return this.maxBy(Ie,e).map(function(e){return Q(e)})},wn.average=function(e,t){return e&&Ge(e)?this.map(e,t).average():this.reduce(function(e,t){return{sum:e.sum+t,count:e.count+1}},{sum:0,count:0}).map(function(e){if(0===e.count)throw new qe;return e.sum/e.count})},wn.sequenceEqual=function(e,t){var n=this;return t||(t=Me),new jr(function(r){var i=!1,o=!1,s=[],a=[],u=n.subscribe(function(e){var n,i;if(a.length>0){i=a.shift();try{n=t(i,e)}catch(u){return void r.onError(u)}n||(r.onNext(!1),r.onCompleted())}else o?(r.onNext(!1),r.onCompleted()):s.push(e)},function(e){r.onError(e)},function(){i=!0,0===s.length&&(a.length>0?(r.onNext(!1),r.onCompleted()):o&&(r.onNext(!0),r.onCompleted()))});(it(e)||rt(e))&&(e=Wn(e)),Le(e)&&(e=Nn(e));var c=e.subscribe(function(e){var n;if(s.length>0){var o=s.shift();try{n=t(o,e)}catch(u){return void r.onError(u)}n||(r.onNext(!1),r.onCompleted())}else i?(r.onNext(!1),r.onCompleted()):a.push(e)},function(e){r.onError(e)},function(){o=!0,0===a.length&&(s.length>0?(r.onNext(!1),r.onCompleted()):i&&(r.onNext(!0),r.onCompleted()))});return new Bt(u,c)},n)},wn.elementAt=function(e){return P(this,e,!1)},wn.elementAtOrDefault=function(e,t){return P(this,e,!0,t)},wn.single=function(e,t){return e&&Ge(e)?this.where(e,t).single():H(this,!1)},wn.singleOrDefault=function(e,t,n){return e&&Ge(e)?this.filter(e,n).singleOrDefault(null,t):H(this,!0,t)},wn.first=function(e,t){return e?this.where(e,t).first():K(this,!1)},wn.firstOrDefault=function(e,t,n){return e?this.where(e).firstOrDefault(null,t):K(this,!0,t)},wn.last=function(e,t){return e?this.where(e,t).last():$(this,!1)},wn.lastOrDefault=function(e,t,n){return e?this.where(e,n).lastOrDefault(null,t):$(this,!0,t)},wn.find=function(e,t){return ee(this,e,t,!1)},wn.findIndex=function(e,t){return ee(this,e,t,!0)},wn.toSet=function(){if("undefined"==typeof Ne.Set)throw new TypeError;var e=this;return new jr(function(t){var n=new Ne.Set;return e.subscribe(function(e){n.add(e)},function(e){t.onError(e)},function(){t.onNext(n),t.onCompleted()})},e)},wn.toMap=function(e,t){if("undefined"==typeof Ne.Map)throw new TypeError;var n=this;return new jr(function(r){var i=new Ne.Map;return n.subscribe(function(n){var o;try{o=e(n)}catch(s){return void r.onError(s)}var a=n;if(t)try{a=t(n)}catch(s){return void r.onError(s)}i.set(o,a)},function(e){r.onError(e)},function(){r.onNext(i),r.onCompleted()})},n)};var sr="function",ar="throw",Nt=Ae.internals.isObject,ur=Ae.spawn=function(e){var t=se(e);return function(n){function r(e,t){un.schedule(n.bind(o,e,t))}function i(e,t){var n;if(arguments.length>2)for(var t=[],a=1,u=arguments.length;u>a;a++)t.push(arguments[a]);if(e)try{n=s[ar](e)}catch(c){return r(c)}if(!e)try{n=s.next(t)}catch(c){return r(c)}if(n.done)return r(null,n.value);if(n.value=te(n.value,o),typeof n.value!==sr)i(new TypeError("Rx.spawn only supports a function, Promise, Observable, Object or Array."));else{var l=!1;try{n.value.call(o,function(){l||(l=!0,i.apply(o,arguments))})}catch(c){un.schedule(function(){l||(l=!0,i.call(o,c))})}}}var o=this,s=e;if(t){for(var a=[],u=0,c=arguments.length;c>u;u++)a.push(arguments[u]);var c=a.length,l=c&&typeof a[c-1]===sr;n=l?a.pop():ue,s=e.apply(this,a)}else n=n||ue;i()}};En.start=function(e,t,n){return cr(e,t,n)()};var cr=En.toAsync=function(e,t,n){return Kt(n)||(n=un),function(){var r=arguments,i=new Ur;return n.schedule(function(){var n;try{n=e.apply(t,r)}catch(o){return void i.onError(o)}i.onNext(n),i.onCompleted()}),i.asObservable()}};En.fromCallback=function(e,t,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;r>o;o++)i[o]=arguments[o];return new jr(function(r){function o(){for(var e=arguments.length,i=new Array(e),o=0;e>o;o++)i[o]=arguments[o];if(n){try{i=n.apply(t,i)}catch(s){return r.onError(s)}r.onNext(i)}else i.length<=1?r.onNext.apply(r,i):r.onNext(i);r.onCompleted()}i.push(o),e.apply(t,i)}).publishLast().refCount()}},En.fromNodeCallback=function(e,t,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;r>o;o++)i[o]=arguments[o];return new jr(function(r){function o(e){if(e)return void r.onError(e);for(var i=arguments.length,o=[],s=1;i>s;s++)o[s-1]=arguments[s];if(n){try{o=n.apply(t,o)}catch(a){return r.onError(a)}r.onNext(o)}else o.length<=1?r.onNext.apply(r,o):r.onNext(o);r.onCompleted()}i.push(o),e.apply(t,i)}).publishLast().refCount()}},Ae.config.useNativeEvents=!1,En.fromEvent=function(e,t,n){return e.addListener?lr(function(n){e.addListener(t,n)},function(n){e.removeListener(t,n)},n):Ae.config.useNativeEvents||"function"!=typeof e.on||"function"!=typeof e.off?new jr(function(r){return le(e,t,function(e){var t=e;if(n)try{t=n(arguments)}catch(i){return r.onError(i)}r.onNext(t)})}).publish().refCount():lr(function(n){e.on(t,n)},function(n){e.off(t,n)},n)};var lr=En.fromEventPattern=function(e,t,n){return new jr(function(r){function i(e){var t=e;if(n)try{t=n(arguments)}catch(i){return r.onError(i)}r.onNext(t)}var o=e(i);return Gt(function(){t&&t(i,o)})}).publish().refCount()};En.startAsync=function(e){var t;try{t=e()}catch(n){return Jn(n)}return Nn(t)};var dr=function(e){function t(e){var t=this.source.publish(),n=t.subscribe(e),r=zt,i=this.pauser.distinctUntilChanged().subscribe(function(e){e?r=t.connect():(r.dispose(),r=zt)});return new Bt(n,r,i)}function n(n,r){this.source=n,this.controller=new Tr,this.pauser=r&&r.subscribe?this.controller.merge(r):this.controller,e.call(this,t,n)}return At(n,e),n.prototype.pause=function(){this.controller.onNext(!1)},n.prototype.resume=function(){this.controller.onNext(!0)},n}(En);wn.pausable=function(e){return new dr(this,e)};var fr=function(e){function t(e){var t,n=[],r=de(this.source,this.pauser.distinctUntilChanged().startWith(!1),function(e,t){return{data:e,shouldFire:t}}).subscribe(function(r){if(t!==i&&r.shouldFire!=t){if(t=r.shouldFire,r.shouldFire)for(;n.length>0;)e.onNext(n.shift())}else t=r.shouldFire,r.shouldFire?e.onNext(r.data):n.push(r.data)},function(t){for(;n.length>0;)e.onNext(n.shift());e.onError(t)},function(){for(;n.length>0;)e.onNext(n.shift());e.onCompleted()});return r}function n(n,r){this.source=n,this.controller=new Tr,this.pauser=r&&r.subscribe?this.controller.merge(r):this.controller,e.call(this,t,n)}return At(n,e),n.prototype.pause=function(){this.controller.onNext(!1)},n.prototype.resume=function(){this.controller.onNext(!0)},n}(En);wn.pausableBuffered=function(e){return new fr(this,e)};var hr=function(e){function t(e){return this.source.subscribe(e)}function n(n,r,i){e.call(this,t,n),this.subject=new pr(r,i),this.source=n.multicast(this.subject).refCount()}return At(n,e),n.prototype.request=function(e){return this.subject.request(null==e?-1:e)},n}(En),pr=function(e){function t(e){return this.subject.subscribe(e)}function n(n,r){null==n&&(n=!0),e.call(this,t),this.subject=new Tr,this.enableQueue=n,this.queue=n?[]:null,this.requestedCount=0,this.requestedDisposable=zt,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=r||rn}return At(n,e),Ot(n.prototype,gn,{onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(ln.createOnCompleted()):this.subject.onCompleted()},onError:function(e){this.hasFailed=!0,this.error=e,this.enableQueue&&0!==this.queue.length?this.queue.push(ln.createOnError(e)):this.subject.onError(e)},onNext:function(e){var t=!1;0===this.requestedCount?this.enableQueue&&this.queue.push(ln.createOnNext(e)):(-1!==this.requestedCount&&0===this.requestedCount--&&this.disposeCurrentRequest(),t=!0),t&&this.subject.onNext(e)},_processRequest:function(e){if(this.enableQueue){for(;this.queue.length>=e&&e>0||this.queue.length>0&&"N"!==this.queue[0].kind;){var t=this.queue.shift();t.accept(this.subject),"N"===t.kind?e--:(this.disposeCurrentRequest(),this.queue=[])}return{numberOfItems:e,returnValue:0!==this.queue.length}}return{numberOfItems:e,returnValue:!1}},request:function(e){this.disposeCurrentRequest();var t=this;return this.requestedDisposable=this.scheduler.scheduleWithState(e,function(e,n){var r=t._processRequest(n),i=r.numberOfItems;r.returnValue||(t.requestedCount=i,t.requestedDisposable=Gt(function(){t.requestedCount=0}))}),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable.dispose(),this.requestedDisposable=zt}}),n}(En);wn.controlled=function(e,t){return e&&Kt(e)&&(t=e,e=!0),null==e&&(e=!0),new hr(this,e,t)};var mr=function(e){function t(e){this.subscription=this.source.subscribe(new r(e,this,this.subscription));var t=this;return un.schedule(function(){t.source.request(1)}),this.subscription}function n(n){e.call(this,t,n),this.source=n}At(n,e);var r=function(e){function t(t,n,r){e.call(this),this.observer=t,this.observable=n,this.cancel=r}At(t,e);var n=t.prototype;return n.completed=function(){this.observer.onCompleted(),this.dispose()},n.error=function(e){this.observer.onError(e),this.dispose()},n.next=function(e){this.observer.onNext(e);var t=this;un.schedule(function(){t.observable.source.request(1)})},n.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),e.prototype.dispose.call(this)},t}(_n);return n}(En);hr.prototype.stopAndWait=function(){return new mr(this)};var vr=function(e){function t(e){this.subscription=this.source.subscribe(new r(e,this,this.subscription));var t=this;return un.schedule(function(){t.source.request(t.windowSize)}),this.subscription}function n(n,r){e.call(this,t,n),this.source=n,this.windowSize=r}At(n,e);var r=function(e){function t(e,t,n){this.observer=e,this.observable=t,this.cancel=n,this.received=0}At(t,e);var n=t.prototype;return n.completed=function(){this.observer.onCompleted(),this.dispose()},n.error=function(e){this.observer.onError(e),this.dispose()},n.next=function(e){if(this.observer.onNext(e),this.received=++this.received%this.observable.windowSize,0===this.received){var t=this;un.schedule(function(){t.observable.source.request(t.observable.windowSize)})}},n.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),e.prototype.dispose.call(this)},t}(_n);return n}(En);hr.prototype.windowed=function(e){return new vr(this,e)},wn.pipe=function(e){function t(){n.resume()}var n=this.pausableBuffered();return e.addListener("drain",t),n.subscribe(function(t){!e.write(String(t))&&n.pause()},function(t){e.emit("error",t)},function(){!e._isStdio&&e.end(),e.removeListener("drain",t)}),n.resume(),e},wn.multicast=function(e,t){var n=this;return"function"==typeof e?new jr(function(r){var i=n.multicast(e());return new Bt(t(i).subscribe(r),i.connect())},n):new wr(n,e)},wn.publish=function(e){return e&&Ge(e)?this.multicast(function(){return new Tr},e):this.multicast(new Tr)},wn.share=function(){return this.publish().refCount()},wn.publishLast=function(e){return e&&Ge(e)?this.multicast(function(){return new Ur},e):this.multicast(new Ur)},wn.publishValue=function(e,t){return 2===arguments.length?this.multicast(function(){return new gr(t)},e):this.multicast(new gr(e))},wn.shareValue=function(e){return this.publishValue(e).refCount()},wn.replay=function(e,t,n,r){return e&&Ge(e)?this.multicast(function(){return new yr(t,n,r)},e):this.multicast(new yr(t,n,r))},wn.shareReplay=function(e,t,n){return this.replay(null,e,t,n).refCount()};var br=function(e,t){this.subject=e,this.observer=t};br.prototype.dispose=function(){if(!this.subject.isDisposed&&null!==this.observer){var e=this.subject.observers.indexOf(this.observer);this.subject.observers.splice(e,1),this.observer=null}};var gr=Ae.BehaviorSubject=function(e){function t(e){return Xt(this),this.isStopped?(this.hasError?e.onError(this.error):e.onCompleted(),zt):(this.observers.push(e),e.onNext(this.value),new br(this,e))}function n(n){e.call(this,t),this.value=n,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return At(n,e),Ot(n.prototype,gn,{getValue:function(){if(Xt(this),this.hasError)throw this.error;return this.value},hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(Xt(this),!this.isStopped){this.isStopped=!0;for(var e=0,t=o(this.observers),n=t.length;n>e;e++)t[e].onCompleted();this.observers.length=0}},onError:function(e){if(Xt(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=e;for(var t=0,n=o(this.observers),r=n.length;r>t;t++)n[t].onError(e);this.observers.length=0}},onNext:function(e){if(Xt(this),!this.isStopped){this.value=e;for(var t=0,n=o(this.observers),r=n.length;r>t;t++)n[t].onNext(e)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.exception=null}}),n}(En),yr=Ae.ReplaySubject=function(e){function t(e,t){return Gt(function(){t.dispose(),!e.isDisposed&&e.observers.splice(e.observers.indexOf(t),1)})}function n(e){var n=new Sn(this.scheduler,e),r=t(this,n);Xt(this),this._trim(this.scheduler.now()),this.observers.push(n);for(var i=0,o=this.q.length;o>i;i++)n.onNext(this.q[i].value);return this.hasError?n.onError(this.error):this.isStopped&&n.onCompleted(),n.ensureActive(),r}function r(t,r,o){this.bufferSize=null==t?i:t,this.windowSize=null==r?i:r,this.scheduler=o||rn,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,e.call(this,n)}var i=Math.pow(2,53)-1;return At(r,e),Ot(r.prototype,gn.prototype,{hasObservers:function(){return this.observers.length>0},_trim:function(e){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&e-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(e){if(Xt(this),!this.isStopped){var t=this.scheduler.now();this.q.push({interval:t,value:e}),this._trim(t);for(var n=0,r=o(this.observers),i=r.length;i>n;n++){var s=r[n];s.onNext(e),s.ensureActive()}}},onError:function(e){if(Xt(this),!this.isStopped){this.isStopped=!0,this.error=e,this.hasError=!0;var t=this.scheduler.now();this._trim(t);for(var n=0,r=o(this.observers),i=r.length;i>n;n++){var s=r[n];s.onError(e),s.ensureActive()}this.observers.length=0}},onCompleted:function(){if(Xt(this),!this.isStopped){this.isStopped=!0;var e=this.scheduler.now();this._trim(e);for(var t=0,n=o(this.observers),r=n.length;r>t;t++){var i=n[t];i.onCompleted(),i.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),r}(En),wr=Ae.ConnectableObservable=function(e){function t(t,n){var r,i=!1,o=t.asObservable();this.connect=function(){return i||(i=!0,r=new Bt(o.subscribe(n),Gt(function(){i=!1}))),r},e.call(this,function(e){return n.subscribe(e)})}return At(t,e),t.prototype.refCount=function(){var e,t=0,n=this;return new jr(function(r){var i=1===++t,o=n.subscribe(r);return i&&(e=n.connect()),function(){o.dispose(),0===--t&&e.dispose()}})},t}(En),_r=function(){function e(e){if(0===(1&e))return 2===e;for(var t=Math.sqrt(e),n=3;t>=n;){if(e%n===0)return!1;n+=2}return!0}function t(t){var n,r,i;for(n=0;n<a.length;++n)if(r=a[n],r>=t)return r;for(i=1|t;i<a[a.length-1];){if(e(i))return i;i+=2}return t}function n(e){var t=757602046;if(!e.length)return t;for(var n=0,r=e.length;r>n;n++){var i=e.charCodeAt(n);t=(t<<5)-t+i,t&=t}return t}function r(e){var t=668265261;return e=61^e^e>>>16,e+=e<<3,e^=e>>>4,e*=t,e^=e>>>15}function o(){return{key:null,value:null,next:0,hashCode:0}}function s(e,t){if(0>e)throw new Pe;e>0&&this._initialize(e),this.comparer=t||Me,this.freeCount=0,this.size=0,this.freeList=-1}var a=[1,3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143,4194301,8388593,16777213,33554393,67108859,134217689,268435399,536870909,1073741789,2147483647],u="no such key",c="duplicate key",l=function(){var e=0;return function(t){if(null==t)throw new Error(u);if("string"==typeof t)return n(t);if("number"==typeof t)return r(t);if("boolean"==typeof t)return t===!0?1:0;if(t instanceof Date)return r(t.valueOf());if(t instanceof RegExp)return n(t.toString());if("function"==typeof t.valueOf){var i=t.valueOf();if("number"==typeof i)return r(i);if("string"==typeof i)return n(i)}if(t.hashCode)return t.hashCode();var o=17*e++;return t.hashCode=function(){return o},o}}(),d=s.prototype;return d._initialize=function(e){var n,r=t(e);for(this.buckets=new Array(r),this.entries=new Array(r),n=0;r>n;n++)this.buckets[n]=-1,this.entries[n]=o();this.freeList=-1},d.add=function(e,t){this._insert(e,t,!0)},d._insert=function(e,t,n){this.buckets||this._initialize(0);for(var r,i=2147483647&l(e),o=i%this.buckets.length,s=this.buckets[o];s>=0;s=this.entries[s].next)if(this.entries[s].hashCode===i&&this.comparer(this.entries[s].key,e)){if(n)throw new Error(c);return void(this.entries[s].value=t)}this.freeCount>0?(r=this.freeList,this.freeList=this.entries[r].next,--this.freeCount):(this.size===this.entries.length&&(this._resize(),o=i%this.buckets.length),r=this.size,++this.size),this.entries[r].hashCode=i,this.entries[r].next=this.buckets[o],this.entries[r].key=e,this.entries[r].value=t,this.buckets[o]=r},d._resize=function(){var e=t(2*this.size),n=new Array(e);for(i=0;i<n.length;++i)n[i]=-1;var r=new Array(e);for(i=0;i<this.size;++i)r[i]=this.entries[i];for(var i=this.size;e>i;++i)r[i]=o();for(var s=0;s<this.size;++s){var a=r[s].hashCode%e;r[s].next=n[a],n[a]=s}this.buckets=n,this.entries=r},d.remove=function(e){if(this.buckets)for(var t=2147483647&l(e),n=t%this.buckets.length,r=-1,i=this.buckets[n];i>=0;i=this.entries[i].next){if(this.entries[i].hashCode===t&&this.comparer(this.entries[i].key,e))return 0>r?this.buckets[n]=this.entries[i].next:this.entries[r].next=this.entries[i].next,this.entries[i].hashCode=-1,this.entries[i].next=this.freeList,this.entries[i].key=null,this.entries[i].value=null,this.freeList=i,++this.freeCount,!0;r=i}return!1},d.clear=function(){var e,t;if(!(this.size<=0)){for(e=0,t=this.buckets.length;t>e;++e)this.buckets[e]=-1;for(e=0;e<this.size;++e)this.entries[e]=o();this.freeList=-1,this.size=0}},d._findEntry=function(e){if(this.buckets)for(var t=2147483647&l(e),n=this.buckets[t%this.buckets.length];n>=0;n=this.entries[n].next)if(this.entries[n].hashCode===t&&this.comparer(this.entries[n].key,e))return n;return-1},d.count=function(){return this.size-this.freeCount},d.tryGetValue=function(e){var t=this._findEntry(e);return t>=0?this.entries[t].value:i},d.getValues=function(){var e=0,t=[];if(this.entries)for(var n=0;n<this.size;n++)this.entries[n].hashCode>=0&&(t[e++]=this.entries[n].value);return t},d.get=function(e){var t=this._findEntry(e);if(t>=0)return this.entries[t].value;throw new Error(u)},d.set=function(e,t){this._insert(e,t,!1)},d.containskey=function(e){return this._findEntry(e)>=0},s}();wn.join=function(e,t,n,r){var i=this;return new jr(function(o){var s=new Bt,a=!1,u=!1,c=0,l=0,d=new _r,f=new _r;return s.add(i.subscribe(function(e){var n=c++,i=new Yt;d.add(n,e),s.add(i);var u,l=function(){d.remove(n)&&0===d.count()&&a&&o.onCompleted(),s.remove(i)};try{u=t(e)}catch(h){return void o.onError(h)}i.setDisposable(u.take(1).subscribe(Oe,o.onError.bind(o),l)),f.getValues().forEach(function(t){var n;try{n=r(e,t)}catch(i){return void o.onError(i)}o.onNext(n)})},o.onError.bind(o),function(){a=!0,(u||0===d.count())&&o.onCompleted()})),s.add(e.subscribe(function(e){var t=l++,i=new Yt;f.add(t,e),s.add(i);var a,c=function(){f.remove(t)&&0===f.count()&&u&&o.onCompleted(),s.remove(i)};try{a=n(e)}catch(h){return void o.onError(h)}i.setDisposable(a.take(1).subscribe(Oe,o.onError.bind(o),c)),d.getValues().forEach(function(t){var n;try{n=r(t,e)}catch(i){return void o.onError(i)}o.onNext(n)})},o.onError.bind(o),function(){u=!0,(a||0===f.count())&&o.onCompleted()})),s},i)},wn.groupJoin=function(e,t,n,r){var i=this;return new jr(function(o){function s(e){return function(t){t.onError(e)}}var a=new Bt,u=new qt(a),c=new _r,l=new _r,d=0,f=0;return a.add(i.subscribe(function(e){var n=new Tr,i=d++;c.add(i,n);var f;try{f=r(e,It(n,u))}catch(h){return c.getValues().forEach(s(h)),void o.onError(h)}o.onNext(f),l.getValues().forEach(function(e){n.onNext(e)});var p=new Yt;a.add(p);var m,v=function(){c.remove(i)&&n.onCompleted(),a.remove(p)};try{m=t(e)}catch(h){return c.getValues().forEach(s(h)),void o.onError(h)}p.setDisposable(m.take(1).subscribe(Oe,function(e){c.getValues().forEach(s(e)),o.onError(e)},v))},function(e){c.getValues().forEach(s(e)),o.onError(e)},o.onCompleted.bind(o))),a.add(e.subscribe(function(e){var t=f++;l.add(t,e);var r=new Yt;a.add(r);var i,u=function(){l.remove(t),a.remove(r)};try{i=n(e)}catch(d){return c.getValues().forEach(s(d)),void o.onError(d)}r.setDisposable(i.take(1).subscribe(Oe,function(e){c.getValues().forEach(s(e)),o.onError(e)},u)),c.getValues().forEach(function(t){t.onNext(e)})},function(e){c.getValues().forEach(s(e)),o.onError(e)})),u},i)},wn.buffer=function(e,t){return this.window.apply(this,arguments).selectMany(function(e){return e.toArray()})},wn.window=function(e,t){return 1===arguments.length&&"function"!=typeof arguments[0]?he.call(this,e):"function"==typeof e?pe.call(this,e):fe.call(this,e,t)},wn.pairwise=function(){var e=this;return new jr(function(t){var n,r=!1;return e.subscribe(function(e){r?t.onNext([n,e]):r=!0,n=e},t.onError.bind(t),t.onCompleted.bind(t))},e)},wn.partition=function(e,t){return[this.filter(e,t),this.filter(function(n,r,i){return!e.call(t,n,r,i)})]},wn.letBind=wn.let=function(e){return e(this)},En["if"]=En.ifThen=function(e,t,n){return Tn(function(){return n||(n=Dn()),Le(t)&&(t=Nn(t)),Le(n)&&(n=Nn(n)),"function"==typeof n.now&&(n=Dn(n)),e()?t:n})},En["for"]=En.forIn=function(e,t,n){return bn(e,t,n).concat()};var xr=En["while"]=En.whileDo=function(e,t){return Le(t)&&(t=Nn(t)),me(e,t).concat()};wn.doWhile=function(e){return Pn([this,xr(e,this)])},En["case"]=En.switchCase=function(e,t,n){return Tn(function(){Le(n)&&(n=Nn(n)),n||(n=Dn()),"function"==typeof n.now&&(n=Dn(n));var r=t[e()];return Le(r)&&(r=Nn(r)),r||n})},wn.expand=function(e,t){Kt(t)||(t=nn);var n=this;return new jr(function(r){var i=[],o=new Jt,s=new Bt(o),a=0,u=!1,c=function(){var n=!1;i.length>0&&(n=!u,u=!0),n&&o.setDisposable(t.scheduleRecursive(function(t){var n;if(!(i.length>0))return void(u=!1);n=i.shift();var o=new Yt;s.add(o),o.setDisposable(n.subscribe(function(t){r.onNext(t);var n=null;try{n=e(t)}catch(o){r.onError(o)}i.push(n),a++,c()},r.onError.bind(r),function(){s.remove(o),a--,0===a&&r.onCompleted()})),t()}))};return i.push(n),a++,c(),s},this)},En.forkJoin=function(){var e=[];if(Array.isArray(arguments[0]))e=arguments[0];else for(var t=0,n=arguments.length;n>t;t++)e.push(arguments[t]);return new jr(function(t){var n=e.length;if(0===n)return t.onCompleted(),zt;for(var r=new Bt,i=!1,o=new Array(n),s=new Array(n),a=new Array(n),u=0;n>u;u++)!function(u){var c=e[u];Le(c)&&(c=Nn(c)),r.add(c.subscribe(function(e){i||(o[u]=!0,a[u]=e)},function(e){i=!0,t.onError(e),r.dispose()},function(){if(!i){if(!o[u])return void t.onCompleted();s[u]=!0;for(var e=0;n>e;e++)if(!s[e])return;i=!0,t.onNext(a),t.onCompleted()}}))}(u);return r})},wn.forkJoin=function(e,t){var n=this;return new jr(function(r){var i,o,s=!1,a=!1,u=!1,c=!1,l=new Yt,d=new Yt;return Le(e)&&(e=Nn(e)),l.setDisposable(n.subscribe(function(e){u=!0,i=e},function(e){d.dispose(),r.onError(e)},function(){if(s=!0,a)if(u)if(c){var e;try{e=t(i,o)}catch(n){return void r.onError(n)}r.onNext(e),r.onCompleted()}else r.onCompleted();else r.onCompleted()})),d.setDisposable(e.subscribe(function(e){c=!0,o=e},function(e){l.dispose(),r.onError(e)},function(){if(a=!0,s)if(u)if(c){var e;try{e=t(i,o)}catch(n){return void r.onError(n)}r.onNext(e),r.onCompleted()}else r.onCompleted();else r.onCompleted()})),new Bt(l,d)},n)},wn.manySelect=function(e,t){Kt(t)||(t=nn);var n=this;return Tn(function(){var r;return n.map(function(e){var t=new kr(e);return r&&r.onNext(e),r=t,t}).tap(Oe,function(e){r&&r.onError(e)},function(){r&&r.onCompleted()}).observeOn(t).map(e)},n)};var kr=function(e){function t(e){var t=this,n=new Bt;return n.add(rn.schedule(function(){e.onNext(t.head),n.add(t.tail.mergeAll().subscribe(e))})),n}function n(n){e.call(this,t),this.head=n,this.tail=new Ur}return At(n,e),Ot(n.prototype,gn,{onCompleted:function(){this.onNext(En.empty())},onError:function(e){this.onNext(En.throwError(e))},onNext:function(e){this.tail.onNext(e),this.tail.onCompleted()}}),n}(En),Sr=Ne.Map||function(){function e(){this._keys=[],this._values=[]}return e.prototype.get=function(e){var t=this._keys.indexOf(e);return-1!==t?this._values[t]:i},e.prototype.set=function(e,t){var n=this._keys.indexOf(e);-1!==n&&(this._values[n]=t),this._values[this._keys.push(e)-1]=t},e.prototype.forEach=function(e,t){for(var n=0,r=this._keys.length;r>n;n++)e.call(t,this._values[n],this._keys[n])},e}();ve.prototype.and=function(e){return new ve(this.patterns.concat(e))},ve.prototype.thenDo=function(e){return new be(this,e)},be.prototype.activate=function(e,t,n){for(var r=this,i=[],o=0,s=this.expression.patterns.length;s>o;o++)i.push(ge(e,this.expression.patterns[o],t.onError.bind(t)));var a=new ye(i,function(){var e;try{e=r.selector.apply(r,arguments)}catch(n){return void t.onError(n)}t.onNext(e)},function(){for(var e=0,t=i.length;t>e;e++)i[e].removeActivePlan(a);n(a)});for(o=0,s=i.length;s>o;o++)i[o].addActivePlan(a);return a},ye.prototype.dequeue=function(){this.joinObservers.forEach(function(e){e.queue.shift()})},ye.prototype.match=function(){var e,t,n=!0;for(e=0,t=this.joinObserverArray.length;t>e;e++)if(0===this.joinObserverArray[e].queue.length){n=!1;break}if(n){var r=[],i=!1;for(e=0,t=this.joinObserverArray.length;t>e;e++)r.push(this.joinObserverArray[e].queue[0]),"C"===this.joinObserverArray[e].queue[0].kind&&(i=!0);if(i)this.onCompleted();else{this.dequeue();var o=[];for(e=0,t=r.length;e<r.length;e++)o.push(r[e].value);this.onNext.apply(this,o)}}};var Cr=function(e){function t(t,n){e.call(this),this.source=t,this.onError=n,this.queue=[],this.activePlans=[],this.subscription=new Yt,this.isDisposed=!1}At(t,e);var n=t.prototype;return n.next=function(e){
if(!this.isDisposed){if("E"===e.kind)return this.onError(e.exception);this.queue.push(e);for(var t=this.activePlans.slice(0),n=0,r=t.length;r>n;n++)t[n].match()}},n.error=Oe,n.completed=Oe,n.addActivePlan=function(e){this.activePlans.push(e)},n.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},n.removeActivePlan=function(e){this.activePlans.splice(this.activePlans.indexOf(e),1),0===this.activePlans.length&&this.dispose()},n.dispose=function(){e.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},t}(_n);wn.and=function(e){return new ve([this,e])},wn.thenDo=function(e){return new ve([this]).thenDo(e)},En.when=function(){var e,t=arguments.length;if(Array.isArray(arguments[0]))e=arguments[0];else{e=new Array(t);for(var n=0;t>n;n++)e[n]=arguments[n]}return new jr(function(t){var n=[],r=new Sr,i=yn(function(e){t.onNext(e)},function(e){r.forEach(function(t){t.onError(e)}),t.onError(e)},function(e){t.onCompleted()});try{for(var o=0,s=e.length;s>o;o++)n.push(e[o].activate(r,i,function(e){var r=n.indexOf(e);n.splice(r,1),0===n.length&&t.onCompleted()}))}catch(a){Jn(a).subscribe(t)}var u=new Bt;return r.forEach(function(e){e.subscribe(),u.add(e)}),u})};{var Er=En.interval=function(e,t){return ke(e,e,Kt(t)?t:un)};En.timer=function(e,t,n){var r;return Kt(n)||(n=un),t!==i&&"number"==typeof t?r=t:Kt(t)&&(n=t),e instanceof Date&&r===i?we(e.getTime(),n):e instanceof Date&&r!==i?(r=t,_e(e.getTime(),r,n)):r===i?xe(e,n):ke(e,r,n)}}wn.delay=function(e,t){return Kt(t)||(t=un),e instanceof Date?Ce(this,e.getTime(),t):Se(this,e,t)},wn.debounce=wn.throttleWithTimeout=function(e,t){Kt(t)||(t=un);var n=this;return new jr(function(r){var i,o=new Jt,s=!1,a=0,u=n.subscribe(function(n){s=!0,i=n,a++;var u=a,c=new Yt;o.setDisposable(c),c.setDisposable(t.scheduleWithRelative(e,function(){s&&a===u&&r.onNext(i),s=!1}))},function(e){o.dispose(),r.onError(e),s=!1,a++},function(){o.dispose(),s&&r.onNext(i),r.onCompleted(),s=!1,a++});return new Bt(u,o)},this)},wn.throttle=function(e,t){return this.debounce(e,t)},wn.windowWithTime=function(e,t,n){var r,i=this;return null==t&&(r=e),Kt(n)||(n=un),"number"==typeof t?r=t:Kt(t)&&(r=e,n=t),new jr(function(t){function o(){var e=new Yt,i=!1,s=!1;d.setDisposable(e),c===u?(i=!0,s=!0):u>c?i=!0:s=!0;var h=i?c:u,p=h-f;f=h,i&&(c+=r),s&&(u+=r),e.setDisposable(n.scheduleWithRelative(p,function(){if(s){var e=new Tr;l.push(e),t.onNext(It(e,a))}i&&l.shift().onCompleted(),o()}))}var s,a,u=r,c=e,l=[],d=new Jt,f=0;return s=new Bt(d),a=new qt(s),l.push(new Tr),t.onNext(It(l[0],a)),o(),s.add(i.subscribe(function(e){for(var t=0,n=l.length;n>t;t++)l[t].onNext(e)},function(e){for(var n=0,r=l.length;r>n;n++)l[n].onError(e);t.onError(e)},function(){for(var e=0,n=l.length;n>e;e++)l[e].onCompleted();t.onCompleted()})),a},i)},wn.windowWithTimeOrCount=function(e,t,n){var r=this;return Kt(n)||(n=un),new jr(function(i){function o(t){var r=new Yt;s.setDisposable(r),r.setDisposable(n.scheduleWithRelative(e,function(){if(t===l){c=0;var e=++l;d.onCompleted(),d=new Tr,i.onNext(It(d,u)),o(e)}}))}var s=new Jt,a=new Bt(s),u=new qt(a),c=0,l=0,d=new Tr;return i.onNext(It(d,u)),o(0),a.add(r.subscribe(function(e){var n=0,r=!1;d.onNext(e),++c===t&&(r=!0,c=0,n=++l,d.onCompleted(),d=new Tr,i.onNext(It(d,u))),r&&o(n)},function(e){d.onError(e),i.onError(e)},function(){d.onCompleted(),i.onCompleted()})),u},r)},wn.bufferWithTime=function(e,t,n){return this.windowWithTime.apply(this,arguments).selectMany(function(e){return e.toArray()})},wn.bufferWithTimeOrCount=function(e,t,n){return this.windowWithTimeOrCount(e,t,n).selectMany(function(e){return e.toArray()})},wn.timeInterval=function(e){var t=this;return Kt(e)||(e=un),Tn(function(){var n=e.now();return t.map(function(t){var r=e.now(),i=r-n;return n=r,{value:t,interval:i}})})},wn.timestamp=function(e){return Kt(e)||(e=un),this.map(function(t){return{value:t,timestamp:e.now()}})},wn.sample=wn.throttleLatest=function(e,t){return Kt(t)||(t=un),"number"==typeof e?Ee(this,Er(e,t)):Ee(this,e)},wn.timeout=function(e,t,n){(null==t||"string"==typeof t)&&(t=Jn(new Error(t||"Timeout"))),Kt(n)||(n=un);var r=this,i=e instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new jr(function(o){function s(){var r=a;d.setDisposable(n[i](e,function(){a===r&&(Le(t)&&(t=Nn(t)),c.setDisposable(t.subscribe(o)))}))}var a=0,u=new Yt,c=new Jt,l=!1,d=new Jt;return c.setDisposable(u),s(),u.setDisposable(r.subscribe(function(e){l||(a++,o.onNext(e),s())},function(e){l||(a++,o.onError(e))},function(){l||(a++,o.onCompleted())})),new Bt(c,d)},r)},En.generateWithAbsoluteTime=function(e,t,n,r,i,o){return Kt(o)||(o=un),new jr(function(s){var a,u,c=!0,l=!1,d=e;return o.scheduleRecursiveWithAbsolute(o.now(),function(e){l&&s.onNext(a);try{c?c=!1:d=n(d),l=t(d),l&&(a=r(d),u=i(d))}catch(o){return void s.onError(o)}l?e(u):s.onCompleted()})})},En.generateWithRelativeTime=function(e,t,n,r,i,o){return Kt(o)||(o=un),new jr(function(s){var a,u,c=!0,l=!1,d=e;return o.scheduleRecursiveWithRelative(0,function(e){l&&s.onNext(a);try{c?c=!1:d=n(d),l=t(d),l&&(a=r(d),u=i(d))}catch(o){return void s.onError(o)}l?e(u):s.onCompleted()})})},wn.delaySubscription=function(e,t){var n=e instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative",r=this;return Kt(t)||(t=un),new jr(function(i){var o=new Jt;return o.setDisposable(t[n](e,function(){o.setDisposable(r.subscribe(i))})),o},this)},wn.delayWithSelector=function(e,t){var n,r,i=this;return Ge(e)?r=e:(n=e,r=t),new jr(function(e){function t(){u.setDisposable(i.subscribe(function(t){var n=w(r)(t);if(n===Wt)return e.onError(n.e);var i=new Yt;s.add(i),i.setDisposable(n.subscribe(function(){e.onNext(t),s.remove(i),o()},function(t){e.onError(t)},function(){e.onNext(t),s.remove(i),o()}))},function(t){e.onError(t)},function(){a=!0,u.dispose(),o()}))}function o(){a&&0===s.length&&e.onCompleted()}var s=new Bt,a=!1,u=new Jt;return n?u.setDisposable(n.subscribe(t,function(t){e.onError(t)},t)):t(),new Bt(u,s)},this)},wn.timeoutWithSelector=function(e,t,n){1===arguments.length&&(t=e,e=Ln()),n||(n=Jn(new Error("Timeout")));var r=this;return new jr(function(i){function o(e){function t(){return l===r}var r=l,o=new Yt;u.setDisposable(o),o.setDisposable(e.subscribe(function(){t()&&a.setDisposable(n.subscribe(i)),o.dispose()},function(e){t()&&i.onError(e)},function(){t()&&a.setDisposable(n.subscribe(i))}))}function s(){var e=!d;return e&&l++,e}var a=new Jt,u=new Jt,c=new Yt;a.setDisposable(c);var l=0,d=!1;return o(e),c.setDisposable(r.subscribe(function(e){if(s()){i.onNext(e);var n;try{n=t(e)}catch(r){return void i.onError(r)}o(Le(n)?Nn(n):n)}},function(e){s()&&i.onError(e)},function(){s()&&i.onCompleted()})),new Bt(a,u)},r)},wn.debounceWithSelector=function(e){var t=this;return new jr(function(n){var r,i=!1,o=new Jt,s=0,a=t.subscribe(function(t){var a;try{a=e(t)}catch(u){return void n.onError(u)}Le(a)&&(a=Nn(a)),i=!0,r=t,s++;var c=s,l=new Yt;o.setDisposable(l),l.setDisposable(a.subscribe(function(){i&&s===c&&n.onNext(r),i=!1,l.dispose()},n.onError.bind(n),function(){i&&s===c&&n.onNext(r),i=!1,l.dispose()}))},function(e){o.dispose(),n.onError(e),i=!1,s++},function(){o.dispose(),i&&n.onNext(r),n.onCompleted(),i=!1,s++});return new Bt(a,o)},t)},wn.throttleWithSelector=function(e){return this.debounceWithSelector(e)},wn.skipLastWithTime=function(e,t){Kt(t)||(t=un);var n=this;return new jr(function(r){var i=[];return n.subscribe(function(n){var o=t.now();for(i.push({interval:o,value:n});i.length>0&&o-i[0].interval>=e;)r.onNext(i.shift().value)},function(e){r.onError(e)},function(){for(var n=t.now();i.length>0&&n-i[0].interval>=e;)r.onNext(i.shift().value);r.onCompleted()})},n)},wn.takeLastWithTime=function(e,t){var n=this;return Kt(t)||(t=un),new jr(function(r){var i=[];return n.subscribe(function(n){var r=t.now();for(i.push({interval:r,value:n});i.length>0&&r-i[0].interval>=e;)i.shift()},function(e){r.onError(e)},function(){for(var n=t.now();i.length>0;){var o=i.shift();n-o.interval<=e&&r.onNext(o.value)}r.onCompleted()})},n)},wn.takeLastBufferWithTime=function(e,t){var n=this;return Kt(t)||(t=un),new jr(function(r){var i=[];return n.subscribe(function(n){var r=t.now();for(i.push({interval:r,value:n});i.length>0&&r-i[0].interval>=e;)i.shift()},function(e){r.onError(e)},function(){for(var n=t.now(),o=[];i.length>0;){var s=i.shift();n-s.interval<=e&&o.push(s.value)}r.onNext(o),r.onCompleted()})},n)},wn.takeWithTime=function(e,t){var n=this;return Kt(t)||(t=un),new jr(function(r){return new Bt(t.scheduleWithRelative(e,function(){r.onCompleted()}),n.subscribe(r))},n)},wn.skipWithTime=function(e,t){var n=this;return Kt(t)||(t=un),new jr(function(r){var i=!1;return new Bt(t.scheduleWithRelative(e,function(){i=!0}),n.subscribe(function(e){i&&r.onNext(e)},r.onError.bind(r),r.onCompleted.bind(r)))},n)},wn.skipUntilWithTime=function(e,t){Kt(t)||(t=un);var n=this,r=e instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new jr(function(i){var o=!1;return new Bt(t[r](e,function(){o=!0}),n.subscribe(function(e){o&&i.onNext(e)},function(e){i.onError(e)},function(){i.onCompleted()}))},n)},wn.takeUntilWithTime=function(e,t){Kt(t)||(t=un);var n=this,r=e instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new jr(function(i){return new Bt(t[r](e,function(){i.onCompleted()}),n.subscribe(i))},n)},wn.throttleFirst=function(e,t){Kt(t)||(t=un);var n=+e||0;if(0>=n)throw new RangeError("windowDuration cannot be less or equal zero.");var r=this;return new jr(function(e){var i=0;return r.subscribe(function(r){var o=t.now();(0===i||o-i>=n)&&(i=o,e.onNext(r))},function(t){e.onError(t)},function(){e.onCompleted()})},r)},wn.transduce=function(e){function t(e){return{"@@transducer/init":function(){return e},"@@transducer/step":function(e,t){return e.onNext(t)},"@@transducer/result":function(e){return e.onCompleted()}}}var n=this;return new jr(function(r){var i=e(t(r));return n.subscribe(function(e){try{i["@@transducer/step"](r,e)}catch(t){r.onError(t)}},function(e){r.onError(e)},function(){i["@@transducer/result"](r)})},n)},wn.exclusive=function(){var e=this;return new jr(function(t){var n=!1,r=!1,i=new Yt,o=new Bt;return o.add(i),i.setDisposable(e.subscribe(function(e){if(!n){n=!0,Le(e)&&(e=Nn(e));var i=new Yt;o.add(i),i.setDisposable(e.subscribe(t.onNext.bind(t),t.onError.bind(t),function(){o.remove(i),n=!1,r&&1===o.length&&t.onCompleted()}))}},t.onError.bind(t),function(){r=!0,n||1!==o.length||t.onCompleted()})),o},this)},wn.exclusiveMap=function(e,t){var n=this,r=st(e,t,3);return new jr(function(e){var t=0,i=!1,o=!0,s=new Yt,a=new Bt;return a.add(s),s.setDisposable(n.subscribe(function(n){i||(i=!0,innerSubscription=new Yt,a.add(innerSubscription),Le(n)&&(n=Nn(n)),innerSubscription.setDisposable(n.subscribe(function(i){var o;try{o=r(i,t++,n)}catch(s){return void e.onError(s)}e.onNext(o)},function(t){e.onError(t)},function(){a.remove(innerSubscription),i=!1,o&&1===a.length&&e.onCompleted()})))},function(t){e.onError(t)},function(){o=!0,1!==a.length||i||e.onCompleted()})),a},this)},Ae.VirtualTimeScheduler=function(e){function t(){return this.toDateTimeOffset(this.clock)}function n(e,t){return this.scheduleAbsoluteWithState(e,this.clock,t)}function r(e,t,n){return this.scheduleRelativeWithState(e,this.toRelative(t),n)}function i(e,t,n){return this.scheduleRelativeWithState(e,this.toRelative(t-this.now()),n)}function o(e,t){return t(),zt}function s(o,s){this.clock=o,this.comparer=s,this.isEnabled=!1,this.queue=new Mt(1024),e.call(this,t,n,r,i)}At(s,e);var a=s.prototype;return a.add=$e,a.toDateTimeOffset=$e,a.toRelative=$e,a.schedulePeriodicWithState=function(e,t,n){var r=new tn(this,e,t,n);return r.start()},a.scheduleRelativeWithState=function(e,t,n){var r=this.add(this.clock,t);return this.scheduleAbsoluteWithState(e,r,n)},a.scheduleRelative=function(e,t){return this.scheduleRelativeWithState(t,e,o)},a.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var e=this.getNext();null!==e?(this.comparer(e.dueTime,this.clock)>0&&(this.clock=e.dueTime),e.invoke()):this.isEnabled=!1}while(this.isEnabled)}},a.stop=function(){this.isEnabled=!1},a.advanceTo=function(e){var t=this.comparer(this.clock,e);if(this.comparer(this.clock,e)>0)throw new Pe;if(0!==t&&!this.isEnabled){this.isEnabled=!0;do{var n=this.getNext();null!==n&&this.comparer(n.dueTime,e)<=0?(this.comparer(n.dueTime,this.clock)>0&&(this.clock=n.dueTime),n.invoke()):this.isEnabled=!1}while(this.isEnabled);this.clock=e}},a.advanceBy=function(e){var t=this.add(this.clock,e),n=this.comparer(this.clock,t);if(n>0)throw new Pe;0!==n&&this.advanceTo(t)},a.sleep=function(e){var t=this.add(this.clock,e);if(this.comparer(this.clock,t)>=0)throw new Pe;this.clock=t},a.getNext=function(){for(;this.queue.length>0;){var e=this.queue.peek();if(!e.isCancelled())return e;this.queue.dequeue()}return null},a.scheduleAbsolute=function(e,t){return this.scheduleAbsoluteWithState(t,e,o)},a.scheduleAbsoluteWithState=function(e,t,n){function r(e,t){return i.queue.remove(o),n(e,t)}var i=this,o=new Qt(this,e,r,t,this.comparer);return this.queue.enqueue(o),o.disposable},s}(Pt),Ae.HistoricalScheduler=function(e){function t(t,n){var r=null==t?0:t,i=n||Ze;e.call(this,r,i)}At(t,e);var n=t.prototype;return n.add=function(e,t){return e+t},n.toDateTimeOffset=function(e){return new Date(e).getTime()},n.toRelative=function(e){return e},t}(Ae.VirtualTimeScheduler);var jr=Ae.AnonymousObservable=function(e){function t(e){return e&&Ge(e.dispose)?e:Ge(e)?Gt(e):zt}function n(e,n){var r=n[0],i=n[1],o=w(i)(r);return o!==Wt||r.fail(Wt.e)?void r.setDisposable(t(o)):_(Wt.e)}function r(t,r){function i(e){var r=new Nr(e),i=[r,t];return rn.scheduleRequired()?rn.scheduleWithState(i,n):n(null,i),r}this.source=r,e.call(this,i)}return At(r,e),r}(En),Nr=function(e){function t(t){e.call(this),this.observer=t,this.m=new Yt}At(t,e);var n=t.prototype;return n.next=function(e){var t=w(this.observer.onNext).call(this.observer,e);t===Wt&&(this.dispose(),_(t.e))},n.error=function(e){var t=w(this.observer.onError).call(this.observer,e);this.dispose(),t===Wt&&_(t.e)},n.completed=function(){var e=w(this.observer.onCompleted).call(this.observer);this.dispose(),e===Wt&&_(e.e)},n.setDisposable=function(e){this.m.setDisposable(e)},n.getDisposable=function(){return this.m.getDisposable()},n.dispose=function(){e.prototype.dispose.call(this),this.m.dispose()},t}(_n),Rr=function(e){function t(e){return this.underlyingObservable.subscribe(e)}function n(n,r,i){e.call(this,t),this.key=n,this.underlyingObservable=i?new jr(function(e){return new Bt(i.getDisposable(),r.subscribe(e))}):r}return At(n,e),n}(En),Tr=Ae.Subject=function(e){function t(e){return Xt(this),this.isStopped?this.hasError?(e.onError(this.error),zt):(e.onCompleted(),zt):(this.observers.push(e),new br(this,e))}function n(){e.call(this,t),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return At(n,e),Ot(n.prototype,gn.prototype,{hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(Xt(this),!this.isStopped){this.isStopped=!0;for(var e=0,t=o(this.observers),n=t.length;n>e;e++)t[e].onCompleted();this.observers.length=0}},onError:function(e){if(Xt(this),!this.isStopped){this.isStopped=!0,this.error=e,this.hasError=!0;for(var t=0,n=o(this.observers),r=n.length;r>t;t++)n[t].onError(e);this.observers.length=0}},onNext:function(e){if(Xt(this),!this.isStopped)for(var t=0,n=o(this.observers),r=n.length;r>t;t++)n[t].onNext(e)},dispose:function(){this.isDisposed=!0,this.observers=null}}),n.create=function(e,t){return new Dr(e,t)},n}(En),Ur=Ae.AsyncSubject=function(e){function t(e){return Xt(this),this.isStopped?(this.hasError?e.onError(this.error):this.hasValue?(e.onNext(this.value),e.onCompleted()):e.onCompleted(),zt):(this.observers.push(e),new br(this,e))}function n(){e.call(this,t),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return At(n,e),Ot(n.prototype,gn,{hasObservers:function(){return Xt(this),this.observers.length>0},onCompleted:function(){var e,t;if(Xt(this),!this.isStopped){this.isStopped=!0;var n=o(this.observers),t=n.length;if(this.hasValue)for(e=0;t>e;e++){var r=n[e];r.onNext(this.value),r.onCompleted()}else for(e=0;t>e;e++)n[e].onCompleted();this.observers.length=0}},onError:function(e){if(Xt(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=e;for(var t=0,n=o(this.observers),r=n.length;r>t;t++)n[t].onError(e);this.observers.length=0}},onNext:function(e){Xt(this),this.isStopped||(this.value=e,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.exception=null,this.value=null}}),n}(En),Dr=Ae.AnonymousSubject=function(e){function t(e){return this.observable.subscribe(e)}function n(n,r){this.observer=n,this.observable=r,e.call(this,t)}return At(n,e),Ot(n.prototype,gn.prototype,{onCompleted:function(){this.observer.onCompleted()},onError:function(e){this.observer.onError(e)},onNext:function(e){this.observer.onNext(e)}}),n}(En);Ae.Pauser=function(e){function t(){e.call(this)}return At(t,e),t.prototype.pause=function(){this.onNext(!1)},t.prototype.resume=function(){this.onNext(!0)},t}(Tr),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Ne.Rx=Ae,define(function(){return Ae})):Re&&Te?Ue?(Te.exports=Ae).Rx=Ae:Re.Rx=Ae:Ne.Rx=Ae;var Ar=d()}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/spin.js/spin.js":[function(e,t,n){!function(e,r){"object"==typeof n?t.exports=r():"function"==typeof define&&define.amd?define(r):e.Spinner=r()}(this,function(){"use strict";function e(e,t){var n,r=document.createElement(e||"div");for(n in t)r[n]=t[n];return r}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,r){var i=["opacity",t,~~(100*e),n,r].join("-"),o=.01+n/r*100,s=Math.max(1-(1-e)/t*(100-o),e),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),u=a&&"-"+a+"-"||"";return d[i]||(f.insertRule("@"+u+"keyframes "+i+"{0%{opacity:"+s+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}100%{opacity:"+s+"}}",f.cssRules.length),d[i]=1),i}function r(e,t){var n,r,i=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<l.length;r++)if(n=l[r]+t,void 0!==i[n])return n;return void 0!==i[t]?t:void 0}function i(e,t){for(var n in t)e.style[r(e,n)||n]=t[n];return e}function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)void 0===e[r]&&(e[r]=n[r])}return e}function s(e,t){return"string"==typeof e?e:e[t%e.length]}function a(e){this.opts=o(e||{},a.defaults,h)}function u(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}f.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(e,r){function o(){return i(n("group",{coordsize:l+" "+l,coordorigin:-c+" "+-c}),{width:l,height:l})}function a(e,a,u){t(f,t(i(o(),{rotation:360/r.lines*e+"deg",left:~~a}),t(i(n("roundrect",{arcsize:r.corners}),{width:c,height:r.width,left:r.radius,top:-r.width>>1,filter:u}),n("fill",{color:s(r.color,e),opacity:r.opacity}),n("stroke",{opacity:0}))))}var u,c=r.length+r.width,l=2*c,d=2*-(r.width+r.length)+"px",f=i(o(),{position:"absolute",top:d,left:d});if(r.shadow)for(u=1;u<=r.lines;u++)a(u,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(u=1;u<=r.lines;u++)a(u);return t(e,f)},a.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0,i&&t+r<i.childNodes.length&&(i=i.childNodes[t+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}}var c,l=["webkit","Moz","ms","O"],d={},f=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),h={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};a.defaults={},o(a.prototype,{spin:function(t){this.stop();var n=this,r=n.opts,o=n.el=i(e(0,{className:r.className}),{position:r.position,width:0,zIndex:r.zIndex});if(i(o,{left:r.left,top:r.top}),t&&t.insertBefore(o,t.firstChild||null),o.setAttribute("role","progressbar"),n.lines(o,n.opts),!c){var s,a=0,u=(r.lines-1)*(1-r.direction)/2,l=r.fps,d=l/r.speed,f=(1-r.opacity)/(d*r.trail/100),h=d/r.lines;!function p(){a++;for(var e=0;e<r.lines;e++)s=Math.max(1-(a+(r.lines-e)*h)%d*f,r.opacity),n.opacity(o,e*r.direction+u,s,r);n.timeout=n.el&&setTimeout(p,~~(1e3/l))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(r,o){function a(t,n){return i(e(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*l+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var u,l=0,d=(o.lines-1)*(1-o.direction)/2;l<o.lines;l++)u=i(e(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:c&&n(o.opacity,o.trail,d+l*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&t(u,i(a("#000","0 0 4px #000"),{top:"2px"})),t(r,t(u,a(s(o.color,l),"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var p=i(e("group"),{behavior:"url(#default#VML)"});return!r(p,"transform")&&p.adj?u():c=r(p,"animation"),a})},{}],"/Users/andersriutta/Sites/kaavio/node_modules/svg-pan-zoom/src/browserify.js":[function(e,t,n){var r=e("./svg-pan-zoom.js");t.exports=r},{"./svg-pan-zoom.js":"/Users/andersriutta/Sites/kaavio/node_modules/svg-pan-zoom/src/svg-pan-zoom.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/svg-pan-zoom/src/control-icons.js":[function(e,t,n){var r=e("./svg-utilities");t.exports={enable:function(e){var t=e.svg.querySelector("defs");t||(t=document.createElementNS(r.svgNS,"defs"),e.svg.appendChild(t));var n=document.createElementNS(r.svgNS,"style");n.setAttribute("type","text/css"),n.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",t.appendChild(n);var i=document.createElementNS(r.svgNS,"g");i.setAttribute("id","svg-pan-zoom-controls"),i.setAttribute("transform","translate("+(e.width-70)+" "+(e.height-76)+") scale(0.75)"),i.setAttribute("class","svg-pan-zoom-control"),i.appendChild(this._createZoomIn(e)),i.appendChild(this._createZoomReset(e)),i.appendChild(this._createZoomOut(e)),e.svg.appendChild(i),e.controlIcons=i},_createZoomIn:function(e){var t=document.createElementNS(r.svgNS,"g");t.setAttribute("id","svg-pan-zoom-zoom-in"),t.setAttribute("transform","translate(30.5 5) scale(0.015)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",function(){e.getPublicInstance().zoomIn()},!1),t.addEventListener("touchstart",function(){e.getPublicInstance().zoomIn()},!1);var n=document.createElementNS(r.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var i=document.createElementNS(r.svgNS,"path");return i.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),i.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(i),t},_createZoomReset:function(e){var t=document.createElementNS(r.svgNS,"g");t.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),t.setAttribute("transform","translate(5 35) scale(0.4)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",function(){e.getPublicInstance().reset()},!1),t.addEventListener("touchstart",function(){e.getPublicInstance().reset()},!1);var n=document.createElementNS(r.svgNS,"rect");n.setAttribute("x","2"),n.setAttribute("y","2"),n.setAttribute("width","182"),n.setAttribute("height","58"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var i=document.createElementNS(r.svgNS,"path");i.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),i.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(i);var o=document.createElementNS(r.svgNS,"path");return o.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),o.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(o),t},_createZoomOut:function(e){var t=document.createElementNS(r.svgNS,"g");t.setAttribute("id","svg-pan-zoom-zoom-out"),t.setAttribute("transform","translate(30.5 70) scale(0.015)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",function(){e.getPublicInstance().zoomOut()},!1),t.addEventListener("touchstart",function(){e.getPublicInstance().zoomOut()},!1);var n=document.createElementNS(r.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var i=document.createElementNS(r.svgNS,"path");return i.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),i.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(i),t},disable:function(e){e.controlIcons&&(e.controlIcons.parentNode.removeChild(e.controlIcons),e.controlIcons=null)}}},{"./svg-utilities":"/Users/andersriutta/Sites/kaavio/node_modules/svg-pan-zoom/src/svg-utilities.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/svg-pan-zoom/src/shadow-viewport.js":[function(e,t,n){var r=e("./svg-utilities"),i=e("./utilities"),o=function(e,t){this.init(e,t)};o.prototype.init=function(e,t){this.viewport=e,this.options=t,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=i.proxy(this.updateCTM,this),this.requestAnimationFrame=i.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox(),this.processCTM(),this.updateCTM()},o.prototype.cacheViewBox=function(){var e=this.options.svg.getAttribute("viewBox");if(e){var t=e.split(/[\s\,]/).filter(function(e){return e}).map(parseFloat);this.viewBox.x=t[0],this.viewBox.y=t[1],this.viewBox.width=t[2],this.viewBox.height=t[3];var n=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=n,this.activeState.x=(this.options.width-this.viewBox.width*n)/2,this.activeState.y=(this.options.height-this.viewBox.height*n)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else{var r=this.viewport.getBBox();this.viewBox.x=r.x,this.viewBox.y=r.y,this.viewBox.width=r.width,this.viewBox.height=r.height}},o.prototype.recacheViewBox=function(){var e=this.viewport.getBoundingClientRect(),t=e.width/this.getZoom(),n=e.height/this.getZoom();this.viewBox.x=0,this.viewBox.y=0,this.viewBox.width=t,this.viewBox.height=n},o.prototype.getViewBox=function(){return i.extend({},this.viewBox)},o.prototype.processCTM=function(){var e=this.getCTM();if(this.options.fit||this.options.contain){var t;t=this.options.fit?Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),e.a=t,e.d=t,e.e=-this.viewBox.x*t,e.f=-this.viewBox.y*t}if(this.options.center){var n=.5*(this.options.width-(this.viewBox.width+2*this.viewBox.x)*e.a),r=.5*(this.options.height-(this.viewBox.height+2*this.viewBox.y)*e.a);e.e=n,e.f=r}this.originalState.zoom=e.a,this.originalState.x=e.e,this.originalState.y=e.f,this.setCTM(e)},o.prototype.getOriginalState=function(){return i.extend({},this.originalState)},o.prototype.getState=function(){return i.extend({},this.activeState)},o.prototype.getZoom=function(){return this.activeState.zoom},o.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom},o.prototype.computeRelativeZoom=function(e){return e/this.originalState.zoom},o.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}},o.prototype.getCTM=function(){var e=this.options.svg.createSVGMatrix();return e.a=this.activeState.zoom,e.b=0,e.c=0,e.d=this.activeState.zoom,e.e=this.activeState.x,e.f=this.activeState.y,e},o.prototype.setCTM=function(e){var t=this.isZoomDifferent(e),n=this.isPanDifferent(e);if(t||n){if(t&&this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(e.a))===!1&&(e.a=e.d=this.activeState.zoom,t=!1),n){var r=this.options.beforePan(this.getPan(),{x:e.e,y:e.f}),o=!1,s=!1;r===!1?(e.e=this.getPan().x,e.f=this.getPan().y,o=s=!0):i.isObject(r)&&(r.x===!1?(e.e=this.getPan().x,o=!0):i.isNumber(r.x)&&(e.e=r.x),r.y===!1?(e.f=this.getPan().y,s=!0):i.isNumber(r.y)&&(e.f=r.y)),o&&s&&(n=!1)}(t||n)&&(this.updateCache(e),this.updateCTMOnNextFrame(),t&&this.options.onZoom(this.getRelativeZoom()),n&&this.options.onPan(this.getPan()))}},o.prototype.isZoomDifferent=function(e){return this.activeState.zoom!==e.a},o.prototype.isPanDifferent=function(e){return this.activeState.x!==e.e||this.activeState.y!==e.f},o.prototype.updateCache=function(e){this.activeState.zoom=e.a,
this.activeState.x=e.e,this.activeState.y=e.f},o.prototype.pendingUpdate=!1,o.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))},o.prototype.updateCTM=function(){r.setCTM(this.viewport,this.getCTM(),this.defs),this.pendingUpdate=!1},t.exports=function(e,t){return new o(e,t)}},{"./svg-utilities":"/Users/andersriutta/Sites/kaavio/node_modules/svg-pan-zoom/src/svg-utilities.js","./utilities":"/Users/andersriutta/Sites/kaavio/node_modules/svg-pan-zoom/src/utilities.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/svg-pan-zoom/src/svg-pan-zoom.js":[function(e,t,n){var r=e("./uniwheel"),i=e("./control-icons"),o=e("./utilities"),s=e("./svg-utilities"),a=e("./shadow-viewport"),u=function(e,t){this.init(e,t)},c={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null};u.prototype.init=function(e,t){var n=this;this.svg=e,this.defs=e.querySelector("defs"),s.setupSvgAttributes(this.svg),this.options=o.extend(o.extend({},c),t),this.state="none";var r=s.getBoundingClientRectNormalized(e);this.width=r.width,this.height=r.height,this.viewport=a(s.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(e,t){return n.viewport&&n.options.beforeZoom?n.options.beforeZoom(e,t):void 0},onZoom:function(e){return n.viewport&&n.options.onZoom?n.options.onZoom(e):void 0},beforePan:function(e,t){return n.viewport&&n.options.beforePan?n.options.beforePan(e,t):void 0},onPan:function(e){return n.viewport&&n.options.onPan?n.options.onPan(e):void 0}});var u=this.getPublicInstance();u.setBeforeZoom(this.options.beforeZoom),u.setOnZoom(this.options.onZoom),u.setBeforePan(this.options.beforePan),u.setOnPan(this.options.onPan),this.options.controlIconsEnabled&&i.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()},u.prototype.setupHandlers=function(){var e=this,t=null;if(this.eventListeners={mousedown:function(t){return e.handleMouseDown(t,null)},touchstart:function(n){var r=e.handleMouseDown(n,t);return t=n,r},mouseup:function(t){return e.handleMouseUp(t)},touchend:function(t){return e.handleMouseUp(t)},mousemove:function(t){return e.handleMouseMove(t)},touchmove:function(t){return e.handleMouseMove(t)},mouseleave:function(t){return e.handleMouseUp(t)},touchleave:function(t){return e.handleMouseUp(t)},touchcancel:function(t){return e.handleMouseUp(t)}},null!=this.options.customEventsHandler){this.options.customEventsHandler.init({svgElement:this.svg,instance:this.getPublicInstance()});var n=this.options.customEventsHandler.haltEventListeners;if(n&&n.length)for(var r=n.length-1;r>=0;r--)this.eventListeners.hasOwnProperty(n[r])&&delete this.eventListeners[n[r]]}for(var i in this.eventListeners)this.svg.addEventListener(i,this.eventListeners[i],!1);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())},u.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var e=this;this.wheelListener=function(t){return e.handleMouseWheel(t)},r.on(this.svg,this.wheelListener,!1),this.options.mouseWheelZoomEnabled=!0}},u.prototype.disableMouseWheelZoom=function(){this.options.mouseWheelZoomEnabled&&(r.off(this.svg,this.wheelListener,!1),this.options.mouseWheelZoomEnabled=!1)},u.prototype.handleMouseWheel=function(e){if(this.options.zoomEnabled&&"none"===this.state){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1);var t=e.deltaY||1,n=Date.now()-this.lastMouseWheelEventTime,r=3+Math.max(0,30-n);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in e&&0===e.deltaMode&&e.wheelDelta&&(t=0===e.deltaY?0:Math.abs(e.wheelDelta)/e.deltaY),t=t>-.3&&.3>t?t:(t>0?1:-1)*Math.log(Math.abs(t)+10)/r;var i=this.svg.getScreenCTM().inverse(),o=s.getEventPoint(e,this.svg).matrixTransform(i),a=Math.pow(1+this.options.zoomScaleSensitivity,-1*t);this.zoomAtPoint(a,o)}},u.prototype.zoomAtPoint=function(e,t,n){var r=this.viewport.getOriginalState();n?(e=Math.max(this.options.minZoom*r.zoom,Math.min(this.options.maxZoom*r.zoom,e)),e/=this.getZoom()):this.getZoom()*e<this.options.minZoom*r.zoom?e=this.options.minZoom*r.zoom/this.getZoom():this.getZoom()*e>this.options.maxZoom*r.zoom&&(e=this.options.maxZoom*r.zoom/this.getZoom());var i=this.viewport.getCTM(),o=t.matrixTransform(i.inverse()),s=this.svg.createSVGMatrix().translate(o.x,o.y).scale(e).translate(-o.x,-o.y),a=i.multiply(s);a.a!==i.a&&this.viewport.setCTM(a)},u.prototype.zoom=function(e,t){this.zoomAtPoint(e,s.getSvgCenterPoint(this.svg,this.width,this.height),t)},u.prototype.publicZoom=function(e,t){t&&(e=this.computeFromRelativeZoom(e)),this.zoom(e,t)},u.prototype.publicZoomAtPoint=function(e,t,n){if(n&&(e=this.computeFromRelativeZoom(e)),!("SVGPoint"!==o.getType(t)&&"x"in t&&"y"in t))throw new Error("Given point is invalid");t=s.createSVGPoint(this.svg,t.x,t.y),this.zoomAtPoint(e,t,n)},u.prototype.getZoom=function(){return this.viewport.getZoom()},u.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()},u.prototype.computeFromRelativeZoom=function(e){return e*this.viewport.getOriginalState().zoom},u.prototype.resetZoom=function(){var e=this.viewport.getOriginalState();this.zoom(e.zoom,!0)},u.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())},u.prototype.reset=function(){this.resetZoom(),this.resetPan()},u.prototype.handleDblClick=function(e){if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.options.controlIconsEnabled){var t=e.target.getAttribute("class")||"";if(t.indexOf("svg-pan-zoom-control")>-1)return!1}var n;n=e.shiftKey?1/(2*(1+this.options.zoomScaleSensitivity)):2*(1+this.options.zoomScaleSensitivity);var r=s.getEventPoint(e,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(n,r)},u.prototype.handleMouseDown=function(e,t){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),o.mouseAndTouchNormalize(e,this.svg),this.options.dblClickZoomEnabled&&o.isDblClick(e,t)?this.handleDblClick(e):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=s.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse()))},u.prototype.handleMouseMove=function(e){if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),"pan"===this.state&&this.options.panEnabled){var t=s.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse()),n=this.firstEventCTM.translate(t.x-this.stateOrigin.x,t.y-this.stateOrigin.y);this.viewport.setCTM(n)}},u.prototype.handleMouseUp=function(e){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),"pan"===this.state&&(this.state="none")},u.prototype.fit=function(){var e=this.viewport.getViewBox(),t=Math.min(this.width/e.width,this.height/e.height);this.zoom(t,!0)},u.prototype.contain=function(){var e=this.viewport.getViewBox(),t=Math.max(this.width/e.width,this.height/e.height);this.zoom(t,!0)},u.prototype.center=function(){var e=this.viewport.getViewBox(),t=.5*(this.width-(e.width+2*e.x)*this.getZoom()),n=.5*(this.height-(e.height+2*e.y)*this.getZoom());this.getPublicInstance().pan({x:t,y:n})},u.prototype.updateBBox=function(){this.viewport.recacheViewBox()},u.prototype.pan=function(e){var t=this.viewport.getCTM();t.e=e.x,t.f=e.y,this.viewport.setCTM(t)},u.prototype.panBy=function(e){var t=this.viewport.getCTM();t.e+=e.x,t.f+=e.y,this.viewport.setCTM(t)},u.prototype.getPan=function(){var e=this.viewport.getState();return{x:e.x,y:e.y}},u.prototype.resize=function(){var e=s.getBoundingClientRectNormalized(this.svg);this.width=e.width,this.height=e.height,this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())},u.prototype.destroy=function(){var e=this;this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,null!=this.options.customEventsHandler&&this.options.customEventsHandler.destroy({svgElement:this.svg,instance:this.getPublicInstance()});for(var t in this.eventListeners)this.svg.removeEventListener(t,this.eventListeners[t],!1);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),this.reset(),l=l.filter(function(t){return t.svg!==e.svg}),delete this.options,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}},u.prototype.getPublicInstance=function(){var e=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return e.options.panEnabled=!0,e.pi},disablePan:function(){return e.options.panEnabled=!1,e.pi},isPanEnabled:function(){return!!e.options.panEnabled},pan:function(t){return e.pan(t),e.pi},panBy:function(t){return e.panBy(t),e.pi},getPan:function(){return e.getPan()},setBeforePan:function(t){return e.options.beforePan=null===t?null:o.proxy(t,e.publicInstance),e.pi},setOnPan:function(t){return e.options.onPan=null===t?null:o.proxy(t,e.publicInstance),e.pi},enableZoom:function(){return e.options.zoomEnabled=!0,e.pi},disableZoom:function(){return e.options.zoomEnabled=!1,e.pi},isZoomEnabled:function(){return!!e.options.zoomEnabled},enableControlIcons:function(){return e.options.controlIconsEnabled||(e.options.controlIconsEnabled=!0,i.enable(e)),e.pi},disableControlIcons:function(){return e.options.controlIconsEnabled&&(e.options.controlIconsEnabled=!1,i.disable(e)),e.pi},isControlIconsEnabled:function(){return!!e.options.controlIconsEnabled},enableDblClickZoom:function(){return e.options.dblClickZoomEnabled=!0,e.pi},disableDblClickZoom:function(){return e.options.dblClickZoomEnabled=!1,e.pi},isDblClickZoomEnabled:function(){return!!e.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return e.enableMouseWheelZoom(),e.pi},disableMouseWheelZoom:function(){return e.disableMouseWheelZoom(),e.pi},isMouseWheelZoomEnabled:function(){return!!e.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(t){return e.options.zoomScaleSensitivity=t,e.pi},setMinZoom:function(t){return e.options.minZoom=t,e.pi},setMaxZoom:function(t){return e.options.maxZoom=t,e.pi},setBeforeZoom:function(t){return e.options.beforeZoom=null===t?null:o.proxy(t,e.publicInstance),e.pi},setOnZoom:function(t){return e.options.onZoom=null===t?null:o.proxy(t,e.publicInstance),e.pi},zoom:function(t){return e.publicZoom(t,!0),e.pi},zoomBy:function(t){return e.publicZoom(t,!1),e.pi},zoomAtPoint:function(t,n){return e.publicZoomAtPoint(t,n,!0),e.pi},zoomAtPointBy:function(t,n){return e.publicZoomAtPoint(t,n,!1),e.pi},zoomIn:function(){return this.zoomBy(1+e.options.zoomScaleSensitivity),e.pi},zoomOut:function(){return this.zoomBy(1/(1+e.options.zoomScaleSensitivity)),e.pi},getZoom:function(){return e.getRelativeZoom()},resetZoom:function(){return e.resetZoom(),e.pi},resetPan:function(){return e.resetPan(),e.pi},reset:function(){return e.reset(),e.pi},fit:function(){return e.fit(),e.pi},contain:function(){return e.contain(),e.pi},center:function(){return e.center(),e.pi},updateBBox:function(){return e.updateBBox(),e.pi},resize:function(){return e.resize(),e.pi},getSizes:function(){return{width:e.width,height:e.height,realZoom:e.getZoom(),viewBox:e.viewport.getViewBox()}},destroy:function(){return e.destroy(),e.pi}}),this.publicInstance};var l=[],d=function(e,t){var n=o.getSvg(e);if(null===n)return null;for(var r=l.length-1;r>=0;r--)if(l[r].svg===n)return l[r].instance.getPublicInstance();return l.push({svg:n,instance:new u(n,t)}),l[l.length-1].instance.getPublicInstance()};t.exports=d},{"./control-icons":"/Users/andersriutta/Sites/kaavio/node_modules/svg-pan-zoom/src/control-icons.js","./shadow-viewport":"/Users/andersriutta/Sites/kaavio/node_modules/svg-pan-zoom/src/shadow-viewport.js","./svg-utilities":"/Users/andersriutta/Sites/kaavio/node_modules/svg-pan-zoom/src/svg-utilities.js","./uniwheel":"/Users/andersriutta/Sites/kaavio/node_modules/svg-pan-zoom/src/uniwheel.js","./utilities":"/Users/andersriutta/Sites/kaavio/node_modules/svg-pan-zoom/src/utilities.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/svg-pan-zoom/src/svg-utilities.js":[function(e,t,n){var r=e("./utilities"),i="unknown";document.documentMode&&(i="ie"),t.exports={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(e){if(e.clientWidth&&e.clientHeight)return{width:e.clientWidth,height:e.clientHeight};if(e.getBoundingClientRect())return e.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(e,t){var n=null;if(n=r.isElement(t)?t:e.querySelector(t),!n){var i=Array.prototype.slice.call(e.childNodes||e.children).filter(function(e){return"defs"!==e.nodeName&&"#text"!==e.nodeName});1===i.length&&"g"===i[0].nodeName&&null===i[0].getAttribute("transform")&&(n=i[0])}if(!n){var o="viewport-"+(new Date).toISOString().replace(/\D/g,"");n=document.createElementNS(this.svgNS,"g"),n.setAttribute("id",o);var s=e.childNodes||e.children;if(s&&s.length>0)for(var a=s.length;a>0;a--)"defs"!==s[s.length-a].nodeName&&n.appendChild(s[s.length-a]);e.appendChild(n)}var u=[];return n.getAttribute("class")&&(u=n.getAttribute("class").split(" ")),~u.indexOf("svg-pan-zoom_viewport")||(u.push("svg-pan-zoom_viewport"),n.setAttribute("class",u.join(" "))),n},setupSvgAttributes:function(e){if(e.setAttribute("xmlns",this.svgNS),e.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),e.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),null!==e.parentNode){var t=e.getAttribute("style")||"";-1===t.toLowerCase().indexOf("overflow")&&e.setAttribute("style","overflow: hidden; "+t)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:r.throttle(function(){for(var e=document.querySelectorAll("defs"),t=e.length,n=0;t>n;n++){var r=e[n];r.parentNode.insertBefore(r,r)}},this.internetExplorerRedisplayInterval),setCTM:function(e,t,n){var r=this,o="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttributeNS(null,"transform",o),"ie"===i&&n&&(n.parentNode.insertBefore(n,n),window.setTimeout(function(){r.refreshDefsGlobal()},r.internetExplorerRedisplayInterval))},getEventPoint:function(e,t){var n=t.createSVGPoint();return r.mouseAndTouchNormalize(e,t),n.x=e.clientX,n.y=e.clientY,n},getSvgCenterPoint:function(e,t,n){return this.createSVGPoint(e,t/2,n/2)},createSVGPoint:function(e,t,n){var r=e.createSVGPoint();return r.x=t,r.y=n,r}}},{"./utilities":"/Users/andersriutta/Sites/kaavio/node_modules/svg-pan-zoom/src/utilities.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/svg-pan-zoom/src/uniwheel.js":[function(e,t,n){t.exports=function(){function e(e,t,n){var r=function(e){!e&&(e=window.event);var n={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"==c?(n.deltaY=-1/40*e.wheelDelta,e.wheelDeltaX&&(n.deltaX=-1/40*e.wheelDeltaX)):n.deltaY=e.detail,t(n)};return d.push({element:e,fn:r,capture:n}),r}function t(e,t){for(var n=0;n<d.length;n++)if(d[n].element===e&&d[n].capture===t)return d[n].fn;return function(){}}function n(e,t){for(var n=0;n<d.length;n++)if(d[n].element===e&&d[n].capture===t)return d.splice(n,1)}function r(t,n,r,i){var o;o="wheel"===c?r:e(t,r,i),t[a](l+n,o,i||!1)}function i(e,r,i,o){cb="wheel"===c?i:t(e,o),e[u](l+r,cb,o||!1),n(e,o)}function o(e,t,n){r(e,c,t,n),"DOMMouseScroll"==c&&r(e,"MozMousePixelScroll",t,n)}function s(e,t,n){i(e,c,t,n),"DOMMouseScroll"==c&&i(e,"MozMousePixelScroll",t,n)}var a,u,c,l="",d=[];return window.addEventListener?(a="addEventListener",u="removeEventListener"):(a="attachEvent",u="detachEvent",l="on"),c="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",{on:o,off:s}}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/svg-pan-zoom/src/utilities.js":[function(e,t,n){function r(e){return function(t){window.setTimeout(t,e)}}t.exports={extend:function(e,t){e=e||{};for(var n in t)e[n]=this.isObject(t[n])?this.extend(e[n],t[n]):t[n];return e},isElement:function(e){return e instanceof HTMLElement||e instanceof SVGElement||e instanceof SVGSVGElement||e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},getSvg:function(e){var t,n;if(this.isElement(e))t=e;else{if(!("string"==typeof e||e instanceof String))throw new Error("Provided selector is not an HTML object nor String");if(t=document.querySelector(e),!t)throw new Error("Provided selector did not find any elements. Selector: "+e)}if("svg"===t.tagName.toLowerCase())n=t;else if("object"===t.tagName.toLowerCase())n=t.contentDocument.documentElement;else{if("embed"!==t.tagName.toLowerCase())throw new Error("img"===t.tagName.toLowerCase()?'Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.':"Cannot get SVG.");n=t.getSVGDocument().documentElement}return n},proxy:function(e,t){return function(){return e.apply(t,arguments)}},getType:function(e){return Object.prototype.toString.apply(e).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(e,t){if(void 0===e.clientX||null===e.clientX)if(e.clientX=0,e.clientY=0,void 0!==e.changedTouches&&e.changedTouches.length){if(void 0!==e.changedTouches[0].clientX)e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY;else if(void 0!==e.changedTouches[0].pageX){var n=t.getBoundingClientRect();e.clientX=e.changedTouches[0].pageX-n.left,e.clientY=e.changedTouches[0].pageY-n.top}}else void 0!==e.originalEvent&&void 0!==e.originalEvent.clientX&&(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)},isDblClick:function(e,t){if(2===e.detail)return!0;if(void 0!==t&&null!==t){var n=e.timeStamp-t.timeStamp,r=Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2));return 250>n&&10>r}return!1},now:Date.now||function(){return(new Date).getTime()},throttle:function(e,t,n){var r,i,o,s=this,a=null,u=0;n||(n={});var c=function(){u=n.leading===!1?0:s.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var l=s.now();u||n.leading!==!1||(u=l);var d=t-(l-u);return r=this,i=arguments,0>=d||d>t?(clearTimeout(a),a=null,u=l,o=e.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(c,d)),o}},createRequestAnimationFrame:function(e){var t=null;return"auto"!==e&&60>e&&e>1&&(t=Math.floor(1e3/e)),null===t?window.requestAnimationFrame||r(33):r(t)}}},{}],"/Users/andersriutta/Sites/kaavio/node_modules/tower-strcase/index.js":[function(e,t,n){n.dotCase=function(e){return n.separatorCase(e,".")},n.classCase=function(e){return n.separatorCase(e,"_").replace(/(?:^|_|\-|\/)(.)/g,function(e,t){return t.toUpperCase()})},n.namespaceCase=function(e){return n.separatorCase(e,".").replace(/(^|_|\.|\-|\/)(.)/g,function(e,t,n){return t+n.toUpperCase()})},n.constantCase=function(e){return n.separatorCase(e,"_").replace(/[a-z]/g,function(e){return e.toUpperCase()})},n.camelCase=function(e){return n.separatorCase(e,"_").replace(/[-_\.\/\s]+(.)?/g,function(e,t){return t.toUpperCase()})},n.titleCase=function(e){return n.separatorCase(e," ").replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})},n.snakeCase=function(e){return n.separatorCase(e,"_")},n.pathCase=function(e){return this.separatorCase(e,"/")},n.paramCase=function(e){return this.separatorCase(e,"-")},n.separatorCase=function(e,t){return n.clean(n.trim(e),t).replace(/([a-z\d])([A-Z]+)/g,"$1"+t+"$2").replace(/[-\.\/\_\s]+/g,t).toLowerCase()},n.clean=function(e,t){return e.replace(/\W+/g,t||" ")},n.trim=function(e){return e.replace(/^\W+|\W+$/g,"")}},{}],"/Users/andersriutta/Sites/kaavio/node_modules/typeahead.js/dist/typeahead.bundle.js":[function(e,t,n){!function(e){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,n){function r(e,t){return n(t,e)}e.each(t,r)},map:e.map,filter:e.grep,every:function(t,n){var r=!0;return t?(e.each(t,function(e,i){return(r=n.call(null,i,e,t))?void 0:!1}),!!r):r},some:function(t,n){var r=!1;return t?(e.each(t,function(e,i){return(r=n.call(null,i,e,t))?!1:void 0}),!!r):r},mixin:e.extend,getUniqueId:function(){var e=0;return function(){return e++}}(),templatify:function(t){function n(){return String(t)}return e.isFunction(t)?t:n},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var r,i;return function(){var o,s,a=this,u=arguments;return o=function(){r=null,n||(i=e.apply(a,u))},s=n&&!r,clearTimeout(r),r=setTimeout(o,t),s&&(i=e.apply(a,u)),i}},throttle:function(e,t){var n,r,i,o,s,a;return s=0,a=function(){s=new Date,i=null,o=e.apply(n,r)},function(){var u=new Date,c=t-(u-s);return n=this,r=arguments,0>=c?(clearTimeout(i),i=null,s=u,o=e.apply(n,r)):i||(i=setTimeout(a,c)),o}},noop:function(){}}}(),n="0.10.5",r=function(){"use strict";function e(e){return e=t.toStr(e),e?e.split(/\s+/):[]}function n(e){return e=t.toStr(e),e?e.split(/\W+/):[]}function r(e){return function(){var n=[].slice.call(arguments,0);return function(r){var i=[];return t.each(n,function(n){i=i.concat(e(t.toStr(r[n])))}),i}}}return{nonword:n,whitespace:e,obj:{nonword:r(n),whitespace:r(e)}}}(),i=function(){"use strict";function n(n){this.maxSize=t.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=e.noop)}function r(){this.head=this.tail=null}function i(e,t){this.key=e,this.val=t,this.prev=this.next=null}return t.mixin(n.prototype,{set:function(e,t){var n,r=this.list.tail;this.size>=this.maxSize&&(this.list.remove(r),delete this.hash[r.key]),(n=this.hash[e])?(n.val=t,this.list.moveToFront(n)):(n=new i(e,t),this.list.add(n),this.hash[e]=n,this.size++)},get:function(e){var t=this.hash[e];return t?(this.list.moveToFront(t),t.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new r}}),t.mixin(r.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),n}(),o=function(){"use strict";function e(e){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix))}function n(){return(new Date).getTime()}function r(e){return JSON.stringify(t.isUndefined(e)?null:e)}function i(e){return JSON.parse(e)}var o,s;try{o=window.localStorage,o.setItem("~~~","!"),o.removeItem("~~~")}catch(a){o=null}return s=o&&window.JSON?{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},get:function(e){return this.isExpired(e)&&this.remove(e),i(o.getItem(this._prefix(e)))},set:function(e,i,s){return t.isNumber(s)?o.setItem(this._ttlKey(e),r(n()+s)):o.removeItem(this._ttlKey(e)),o.setItem(this._prefix(e),r(i))},remove:function(e){return o.removeItem(this._ttlKey(e)),o.removeItem(this._prefix(e)),this},clear:function(){var e,t,n=[],r=o.length;for(e=0;r>e;e++)(t=o.key(e)).match(this.keyMatcher)&&n.push(t.replace(this.keyMatcher,""));for(e=n.length;e--;)this.remove(n[e]);return this},isExpired:function(e){var r=i(o.getItem(this._ttlKey(e)));return t.isNumber(r)&&n()>r?!0:!1}}:{get:t.noop,set:t.noop,remove:t.noop,clear:t.noop,isExpired:t.noop},t.mixin(e.prototype,s),e}(),s=function(){"use strict";function n(t){t=t||{},this.cancelled=!1,this.lastUrl=null,this._send=t.transport?r(t.transport):e.ajax,this._get=t.rateLimiter?t.rateLimiter(this._get):this._get,this._cache=t.cache===!1?new i(0):u}function r(n){return function(r,i){function o(e){t.defer(function(){a.resolve(e)})}function s(e){t.defer(function(){a.reject(e)})}var a=e.Deferred();return n(r,i,o,s),a}}var o=0,s={},a=6,u=new i(10);return n.setMaxPendingRequests=function(e){a=e},n.resetCache=function(){u.reset()},t.mixin(n.prototype,{_get:function(e,t,n){function r(t){n&&n(null,t),l._cache.set(e,t)}function i(){n&&n(!0)}function u(){o--,delete s[e],l.onDeckRequestArgs&&(l._get.apply(l,l.onDeckRequestArgs),l.onDeckRequestArgs=null)}var c,l=this;this.cancelled||e!==this.lastUrl||((c=s[e])?c.done(r).fail(i):a>o?(o++,s[e]=this._send(e,t).done(r).fail(i).always(u)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(e,n,r){var i;return t.isFunction(n)&&(r=n,n={}),this.cancelled=!1,this.lastUrl=e,(i=this._cache.get(e))?t.defer(function(){r&&r(null,i)}):this._get(e,n,r),!!i},cancel:function(){this.cancelled=!0}}),n}(),a=function(){"use strict";function n(t){t=t||{},t.datumTokenizer&&t.queryTokenizer||e.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=t.datumTokenizer,this.queryTokenizer=t.queryTokenizer,this.reset()}function r(e){return e=t.filter(e,function(e){return!!e}),e=t.map(e,function(e){return e.toLowerCase()})}function i(){return{ids:[],children:{}}}function o(e){for(var t={},n=[],r=0,i=e.length;i>r;r++)t[e[r]]||(t[e[r]]=!0,n.push(e[r]));return n}function s(e,t){function n(e,t){return e-t}var r=0,i=0,o=[];e=e.sort(n),t=t.sort(n);for(var s=e.length,a=t.length;s>r&&a>i;)e[r]<t[i]?r++:e[r]>t[i]?i++:(o.push(e[r]),r++,i++);return o}return t.mixin(n.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var n=this;e=t.isArray(e)?e:[e],t.each(e,function(e){var o,s;o=n.datums.push(e)-1,s=r(n.datumTokenizer(e)),t.each(s,function(e){var t,r,s;for(t=n.trie,r=e.split("");s=r.shift();)t=t.children[s]||(t.children[s]=i()),t.ids.push(o)})})},get:function(e){var n,i,a=this;return n=r(this.queryTokenizer(e)),t.each(n,function(e){var t,n,r,o;if(i&&0===i.length)return!1;for(t=a.trie,n=e.split("");t&&(r=n.shift());)t=t.children[r];return t&&0===n.length?(o=t.ids.slice(0),void(i=i?s(i,o):o)):(i=[],!1)}),i?t.map(o(i),function(e){return a.datums[e]}):[]},reset:function(){this.datums=[],this.trie=i()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),u=function(){"use strict";function r(e){return e.local||null}function i(r){var i,o;return o={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(i=r.prefetch||null)&&(i=t.isString(i)?{url:i}:i,i=t.mixin(o,i),i.thumbprint=n+i.thumbprint,i.ajax.type=i.ajax.type||"GET",i.ajax.dataType=i.ajax.dataType||"json",!i.url&&e.error("prefetch requires url to be set")),i}function o(n){function r(e){return function(n){return t.debounce(n,e)}}function i(e){return function(n){return t.throttle(n,e)}}var o,s;return s={url:null,cache:!0,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(o=n.remote||null)&&(o=t.isString(o)?{url:o}:o,o=t.mixin(s,o),o.rateLimiter=/^throttle$/i.test(o.rateLimitBy)?i(o.rateLimitWait):r(o.rateLimitWait),o.ajax.type=o.ajax.type||"GET",o.ajax.dataType=o.ajax.dataType||"json",delete o.rateLimitBy,delete o.rateLimitWait,!o.url&&e.error("remote requires url to be set")),o}return{local:r,prefetch:i,remote:o}}();!function(n){"use strict";function i(t){t&&(t.local||t.prefetch||t.remote)||e.error("one of local, prefetch, or remote is required"),this.limit=t.limit||5,this.sorter=c(t.sorter),this.dupDetector=t.dupDetector||l,this.local=u.local(t),this.prefetch=u.prefetch(t),this.remote=u.remote(t),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new a({datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),this.storage=this.cacheKey?new o(this.cacheKey):null}function c(e){function n(t){return t.sort(e)}function r(e){return e}return t.isFunction(e)?n:r}function l(){return!1}var d,f;return d=n.Bloodhound,f={data:"data",protocol:"protocol",thumbprint:"thumbprint"},n.Bloodhound=i,i.noConflict=function(){return n.Bloodhound=d,i},i.tokenizers=r,t.mixin(i.prototype,{_loadPrefetch:function(t){function n(e){o.clear(),o.add(t.filter?t.filter(e):e),o._saveToStorage(o.index.serialize(),t.thumbprint,t.ttl)}var r,i,o=this;return(r=this._readFromStorage(t.thumbprint))?(this.index.bootstrap(r),i=e.Deferred().resolve()):i=e.ajax(t.url,t.ajax).done(n),i},_getFromRemote:function(e,t){function n(e,n){t(e?[]:o.remote.filter?o.remote.filter(n):n)}var r,i,o=this;if(this.transport)return e=e||"",i=encodeURIComponent(e),r=this.remote.replace?this.remote.replace(this.remote.url,e):this.remote.url.replace(this.remote.wildcard,i),this.transport.get(r,this.remote.ajax,n)},_cancelLastRemoteRequest:function(){this.transport&&this.transport.cancel()},_saveToStorage:function(e,t,n){this.storage&&(this.storage.set(f.data,e,n),this.storage.set(f.protocol,location.protocol,n),this.storage.set(f.thumbprint,t,n))},_readFromStorage:function(e){var t,n={};return this.storage&&(n.data=this.storage.get(f.data),n.protocol=this.storage.get(f.protocol),n.thumbprint=this.storage.get(f.thumbprint)),t=n.thumbprint!==e||n.protocol!==location.protocol,n.data&&!t?n.data:null},_initialize:function(){function n(){i.add(t.isFunction(o)?o():o)}var r,i=this,o=this.local;return r=this.prefetch?this._loadPrefetch(this.prefetch):e.Deferred().resolve(),o&&r.done(n),this.transport=this.remote?new s(this.remote):null,this.initPromise=r.promise()},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){this.index.add(e)},get:function(e,n){function r(e){var r=o.slice(0);t.each(e,function(e){var n;return n=t.some(r,function(t){return i.dupDetector(e,t)}),!n&&r.push(e),r.length<i.limit}),n&&n(i.sorter(r))}var i=this,o=[],s=!1;o=this.index.get(e),o=this.sorter(o).slice(0,this.limit),o.length<this.limit?s=this._getFromRemote(e,r):this._cancelLastRemoteRequest(),s||(o.length>0||!this.transport)&&n&&n(o)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&s.resetCache()},ttAdapter:function(){return t.bind(this.get,this)}}),i}(this);var c=function(){return{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'}}(),l=function(){"use strict";var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t.isMsie()&&t.isMsie()<=7&&t.mixin(e.input,{
marginTop:"-1px"}),e}(),d=function(){"use strict";function n(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}var r="typeahead:";return t.mixin(n.prototype,{trigger:function(e){var t=[].slice.call(arguments,1);this.$el.trigger(r+e,t)}}),n}(),f=function(){"use strict";function e(e,t,n,r){var i;if(!n)return this;for(t=t.split(u),n=r?a(n,r):n,this._callbacks=this._callbacks||{};i=t.shift();)this._callbacks[i]=this._callbacks[i]||{sync:[],async:[]},this._callbacks[i][e].push(n);return this}function t(t,n,r){return e.call(this,"async",t,n,r)}function n(t,n,r){return e.call(this,"sync",t,n,r)}function r(e){var t;if(!this._callbacks)return this;for(e=e.split(u);t=e.shift();)delete this._callbacks[t];return this}function i(e){var t,n,r,i,s;if(!this._callbacks)return this;for(e=e.split(u),r=[].slice.call(arguments,1);(t=e.shift())&&(n=this._callbacks[t]);)i=o(n.sync,this,[t].concat(r)),s=o(n.async,this,[t].concat(r)),i()&&c(s);return this}function o(e,t,n){function r(){for(var r,i=0,o=e.length;!r&&o>i;i+=1)r=e[i].apply(t,n)===!1;return!r}return r}function s(){var e;return e=window.setImmediate?function(e){setImmediate(function(){e()})}:function(e){setTimeout(function(){e()},0)}}function a(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var u=/\s+/,c=s();return{onSync:n,onAsync:t,off:r,trigger:i}}(),h=function(e){"use strict";function n(e,n,r){for(var i,o=[],s=0,a=e.length;a>s;s++)o.push(t.escapeRegExChars(e[s]));return i=r?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",n?new RegExp(i):new RegExp(i,"i")}var r={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(i){function o(t){var n,r,o;return(n=a.exec(t.data))&&(o=e.createElement(i.tagName),i.className&&(o.className=i.className),r=t.splitText(n.index),r.splitText(n[0].length),o.appendChild(r.cloneNode(!0)),t.parentNode.replaceChild(o,r)),!!n}function s(e,t){for(var n,r=3,i=0;i<e.childNodes.length;i++)n=e.childNodes[i],n.nodeType===r?i+=t(n)?1:0:s(n,t)}var a;i=t.mixin({},r,i),i.node&&i.pattern&&(i.pattern=t.isArray(i.pattern)?i.pattern:[i.pattern],a=n(i.pattern,i.caseSensitive,i.wordsOnly),s(i.node,o))}}(window.document),p=function(){"use strict";function n(n){var i,o,a,u,c=this;n=n||{},n.input||e.error("input is missing"),i=t.bind(this._onBlur,this),o=t.bind(this._onFocus,this),a=t.bind(this._onKeydown,this),u=t.bind(this._onInput,this),this.$hint=e(n.hint),this.$input=e(n.input).on("blur.tt",i).on("focus.tt",o).on("keydown.tt",a),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop),t.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){s[e.which||e.keyCode]||t.defer(t.bind(c._onInput,c,e))}):this.$input.on("input.tt",u),this.query=this.$input.val(),this.$overflowHelper=r(this.$input)}function r(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function i(e,t){return n.normalizeQuery(e)===n.normalizeQuery(t)}function o(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var s;return s={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(e){return(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(n.prototype,f,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(e){var t=s[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(e,t){var n,r,i;switch(e){case"tab":r=this.getHint(),i=this.getInputValue(),n=r&&r!==i&&!o(t);break;case"up":case"down":n=!o(t);break;default:n=!1}n&&t.preventDefault()},_shouldTrigger:function(e,t){var n;switch(e){case"tab":n=!o(t);break;default:n=!0}return n},_checkInputValue:function(){var e,t,n;e=this.getInputValue(),t=i(e,this.query),n=t?this.query.length!==e.length:!1,this.query=e,t?n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(e){this.query=e},getInputValue:function(){return this.$input.val()},setInputValue:function(e,t){this.$input.val(e),t?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,n,r;e=this.getInputValue(),t=this.getHint(),n=e!==t&&0===t.indexOf(e),r=""!==e&&n&&!this.hasOverflow(),!r&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,n,r;return e=this.$input.val().length,n=this.$input[0].selectionStart,t.isNumber(n)?n===e:document.selection?(r=document.selection.createRange(),r.moveStart("character",-e),e===r.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),n}(),m=function(){"use strict";function n(n){n=n||{},n.templates=n.templates||{},n.source||e.error("missing source"),n.name&&!o(n.name)&&e.error("invalid dataset name: "+n.name),this.query=null,this.highlight=!!n.highlight,this.name=n.name||t.getUniqueId(),this.source=n.source,this.displayFn=r(n.display||n.displayKey),this.templates=i(n.templates,this.displayFn),this.$el=e(c.dataset.replace("%CLASS%",this.name))}function r(e){function n(t){return t[e]}return e=e||"value",t.isFunction(e)?e:n}function i(e,n){function r(e){return"<p>"+n(e)+"</p>"}return{empty:e.empty&&t.templatify(e.empty),header:e.header&&t.templatify(e.header),footer:e.footer&&t.templatify(e.footer),suggestion:e.suggestion||r}}function o(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var s="ttDataset",a="ttValue",u="ttDatum";return n.extractDatasetName=function(t){return e(t).data(s)},n.extractValue=function(t){return e(t).data(a)},n.extractDatum=function(t){return e(t).data(u)},t.mixin(n.prototype,f,{_render:function(n,r){function i(){return m.templates.empty({query:n,isEmpty:!0})}function o(){function i(t){var n;return n=e(c.suggestion).append(m.templates.suggestion(t)).data(s,m.name).data(a,m.displayFn(t)).data(u,t),n.children().each(function(){e(this).css(l.suggestionChild)}),n}var o,d;return o=e(c.suggestions).css(l.suggestions),d=t.map(r,i),o.append.apply(o,d),m.highlight&&h({className:"tt-highlight",node:o[0],pattern:n}),o}function d(){return m.templates.header({query:n,isEmpty:!p})}function f(){return m.templates.footer({query:n,isEmpty:!p})}if(this.$el){var p,m=this;this.$el.empty(),p=r&&r.length,!p&&this.templates.empty?this.$el.html(i()).prepend(m.templates.header?d():null).append(m.templates.footer?f():null):p&&this.$el.html(o()).prepend(m.templates.header?d():null).append(m.templates.footer?f():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(e){function t(t){n.canceled||e!==n.query||n._render(e,t)}var n=this;this.query=e,this.canceled=!1,this.source(e,t)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),n}(),v=function(){"use strict";function n(n){var i,o,s,a=this;n=n||{},n.menu||e.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=t.map(n.datasets,r),i=t.bind(this._onSuggestionClick,this),o=t.bind(this._onSuggestionMouseEnter,this),s=t.bind(this._onSuggestionMouseLeave,this),this.$menu=e(n.menu).on("click.tt",".tt-suggestion",i).on("mouseenter.tt",".tt-suggestion",o).on("mouseleave.tt",".tt-suggestion",s),t.each(this.datasets,function(e){a.$menu.append(e.getRoot()),e.onSync("rendered",a._onRendered,a)})}function r(e){return new m(e)}return t.mixin(n.prototype,f,{_onSuggestionClick:function(t){this.trigger("suggestionClicked",e(t.currentTarget))},_onSuggestionMouseEnter:function(t){this._removeCursor(),this._setCursor(e(t.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function e(e){return e.isEmpty()}this.isEmpty=t.every(this.datasets,e),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(e,t){e.first().addClass("tt-cursor"),!t&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(e){var t,n,r,i;if(this.isOpen){if(n=this._getCursor(),t=this._getSuggestions(),this._removeCursor(),r=t.index(n)+e,r=(r+1)%(t.length+1)-1,-1===r)return void this.trigger("cursorRemoved");-1>r&&(r=t.length-1),this._setCursor(i=t.eq(r)),this._ensureVisible(i)}},_ensureVisible:function(e){var t,n,r,i;t=e.position().top,n=t+e.outerHeight(!0),r=this.$menu.scrollTop(),i=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>t?this.$menu.scrollTop(r+t):n>i&&this.$menu.scrollTop(r+(n-i))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(e){this.$menu.css("ltr"===e?l.ltr:l.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(e){var t=null;return e.length&&(t={raw:m.extractDatum(e),value:m.extractValue(e),datasetName:m.extractDatasetName(e)}),t},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(e){function n(t){t.update(e)}t.each(this.datasets,n)},empty:function(){function e(e){e.clear()}t.each(this.datasets,e),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function e(e){e.destroy()}this.$menu.off(".tt"),this.$menu=null,t.each(this.datasets,e)}}),n}(),b=function(){"use strict";function n(n){var i,o,s;n=n||{},n.input||e.error("missing input"),this.isActivated=!1,this.autoselect=!!n.autoselect,this.minLength=t.isNumber(n.minLength)?n.minLength:1,this.$node=r(n.input,n.withHint),i=this.$node.find(".tt-dropdown-menu"),o=this.$node.find(".tt-input"),s=this.$node.find(".tt-hint"),o.on("blur.tt",function(e){var n,r,s;n=document.activeElement,r=i.is(n),s=i.has(n).length>0,t.isMsie()&&(r||s)&&(e.preventDefault(),e.stopImmediatePropagation(),t.defer(function(){o.focus()}))}),i.on("mousedown.tt",function(e){e.preventDefault()}),this.eventBus=n.eventBus||new d({el:o}),this.dropdown=new v({menu:i,datasets:n.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new p({input:o,hint:s}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function r(t,n){var r,o,a,u;r=e(t),o=e(c.wrapper).css(l.wrapper),a=e(c.dropdown).css(l.dropdown),u=r.clone().css(l.hint).css(i(r)),u.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),r.data(s,{dir:r.attr("dir"),autocomplete:r.attr("autocomplete"),spellcheck:r.attr("spellcheck"),style:r.attr("style")}),r.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(n?l.input:l.inputWithNoHint);try{!r.attr("dir")&&r.attr("dir","auto")}catch(d){}return r.wrap(o).parent().prepend(n?u:null).append(a)}function i(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function o(e){var n=e.find(".tt-input");t.each(n.data(s),function(e,r){t.isUndefined(e)?n.removeAttr(r):n.attr(r,e)}),n.detach().removeData(s).removeClass("tt-input").insertAfter(e),e.remove()}var s="ttAttrs";return t.mixin(n.prototype,{_onSuggestionClicked:function(e,t){var n;(n=this.dropdown.getDatumForSuggestion(t))&&this._select(n)},_onCursorMoved:function(){var e=this.dropdown.getDatumForCursor();this.input.setInputValue(e.value,!0),this.eventBus.trigger("cursorchanged",e.raw,e.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(e,t){var n,r;n=this.dropdown.getDatumForCursor(),r=this.dropdown.getDatumForTopSuggestion(),n?(this._select(n),t.preventDefault()):this.autoselect&&r&&(this._select(r),t.preventDefault())},_onTabKeyed:function(e,t){var n;(n=this.dropdown.getDatumForCursor())?(this._select(n),t.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(e,t){this.input.clearHintIfInvalid(),t.length>=this.minLength?this.dropdown.update(t):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var e;this.dir!==(e=this.input.getLanguageDirection())&&(this.dir=e,this.$node.css("direction",e),this.dropdown.setLanguageDirection(e))},_updateHint:function(){var e,n,r,i,o,s;e=this.dropdown.getDatumForTopSuggestion(),e&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(n=this.input.getInputValue(),r=p.normalizeQuery(n),i=t.escapeRegExChars(r),o=new RegExp("^(?:"+i+")(.+$)","i"),s=o.exec(e.value),s?this.input.setHint(n+s[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(e){var t,n,r,i;t=this.input.getHint(),n=this.input.getQuery(),r=e||this.input.isCursorAtEnd(),t&&n!==t&&r&&(i=this.dropdown.getDatumForTopSuggestion(),i&&this.input.setInputValue(i.value),this.eventBus.trigger("autocompleted",i.raw,i.datasetName))},_select:function(e){this.input.setQuery(e.value),this.input.setInputValue(e.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",e.raw,e.datasetName),this.dropdown.close(),t.defer(t.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(e){e=t.toStr(e),this.isActivated?this.input.setInputValue(e):(this.input.setQuery(e),this.input.setInputValue(e,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),o(this.$node),this.$node=null}}),n}();!function(){"use strict";var n,r,i;n=e.fn.typeahead,r="ttTypeahead",i={initialize:function(n,i){function o(){var o,s,a=e(this);t.each(i,function(e){e.highlight=!!n.highlight}),s=new b({input:a,eventBus:o=new d({el:a}),withHint:t.isUndefined(n.hint)?!0:!!n.hint,minLength:n.minLength,autoselect:n.autoselect,datasets:i}),a.data(r,s)}return i=t.isArray(i)?i:[].slice.call(arguments,1),n=n||{},this.each(o)},open:function(){function t(){var t,n=e(this);(t=n.data(r))&&t.open()}return this.each(t)},close:function(){function t(){var t,n=e(this);(t=n.data(r))&&t.close()}return this.each(t)},val:function(t){function n(){var n,i=e(this);(n=i.data(r))&&n.setVal(t)}function i(e){var t,n;return(t=e.data(r))&&(n=t.getVal()),n}return arguments.length?this.each(n):i(this.first())},destroy:function(){function t(){var t,n=e(this);(t=n.data(r))&&(t.destroy(),n.removeData(r))}return this.each(t)}},e.fn.typeahead=function(t){var n;return i[t]&&"initialize"!==t?(n=this.filter(function(){return!!e(this).data(r)}),i[t].apply(n,[].slice.call(arguments,1))):i.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this}}()}(window.jQuery)},{}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/lib/_empty.js":[function(e,t,n){},{}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/browser-resolve/empty.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/lib/_empty.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/lib/_empty.js":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/lib/_empty.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js":[function(e,t,n){function r(e,t,n){if(!(this instanceof r))return new r(e,t,n);var i,o=typeof e;if("number"===o)i=e>0?e>>>0:0;else if("string"===o)"base64"===t&&(e=k(e)),i=r.byteLength(e,t);else{if("object"!==o||null===e)throw new TypeError("must start with number, buffer, array or string");"Buffer"===e.type&&I(e.data)&&(e=e.data),i=+e.length>0?Math.floor(+e.length):0}if(this.length>W)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+W.toString(16)+" bytes");var s;r.TYPED_ARRAY_SUPPORT?s=r._augment(new Uint8Array(i)):(s=this,s.length=i,s._isBuffer=!0);var a;if(r.TYPED_ARRAY_SUPPORT&&"number"==typeof e.byteLength)s._set(e);else if(C(e))if(r.isBuffer(e))for(a=0;i>a;a++)s[a]=e.readUInt8(a);else for(a=0;i>a;a++)s[a]=(e[a]%256+256)%256;else if("string"===o)s.write(e,0,t);else if("number"===o&&!r.TYPED_ARRAY_SUPPORT&&!n)for(a=0;i>a;a++)s[a]=0;return s}function i(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;r>s;s++){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");e[n+s]=a}return s}function o(e,t,n,r){var i=U(j(t),e,n,r);return i}function s(e,t,n,r){var i=U(N(t),e,n,r);return i}function a(e,t,n,r){return s(e,t,n,r)}function u(e,t,n,r){var i=U(T(t),e,n,r);return i}function c(e,t,n,r){var i=U(R(t),e,n,r,2);return i}function l(e,t,n){return A.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function d(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var o=t;n>o;o++)e[o]<=127?(r+=D(i)+String.fromCharCode(e[o]),i=""):i+="%"+e[o].toString(16);return r+D(i)}function f(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(e[i]);return r}function h(e,t,n){return f(e,t,n)}function p(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=t;n>o;o++)i+=E(e[o]);return i}function m(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function v(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function b(e,t,n,i,o,s){if(!r.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>o||s>t)throw new TypeError("value is out of bounds");if(n+i>e.length)throw new TypeError("index out of range")}function g(e,t,n,r){0>t&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);o>i;i++)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function y(e,t,n,r){0>t&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);o>i;i++)e[n+i]=t>>>8*(r?i:3-i)&255}function w(e,t,n,r,i,o){if(t>i||o>t)throw new TypeError("value is out of bounds");if(n+r>e.length)throw new TypeError("index out of range")}function _(e,t,n,r,i){return i||w(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),O.write(e,t,n,r,23,4),n+4}function x(e,t,n,r,i){return i||w(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),O.write(e,t,n,r,52,8),n+8}function k(e){for(e=S(e).replace(Z,"");e.length%4!==0;)e+="=";return e}function S(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function C(e){return I(e)||r.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function E(e){return 16>e?"0"+e.toString(16):e.toString(16)}function j(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(127>=r)t.push(r);else{var i=n;r>=55296&&57343>=r&&n++;for(var o=encodeURIComponent(e.slice(i,n+1)).substr(1).split("%"),s=0;s<o.length;s++)t.push(parseInt(o[s],16))}}return t}function N(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function R(e){for(var t,n,r,i=[],o=0;o<e.length;o++)t=e.charCodeAt(o),n=t>>8,r=t%256,i.push(r),i.push(n);return i}function T(e){return A.toByteArray(e)}function U(e,t,n,r,i){i&&(r-=r%i);for(var o=0;r>o&&!(o+n>=t.length||o>=e.length);o++)t[o+n]=e[o];return o}function D(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}var A=e("base64-js"),O=e("ieee754"),I=e("is-array");n.Buffer=r,n.SlowBuffer=r,n.INSPECT_MAX_BYTES=50,r.poolSize=8192;var W=1073741823;r.TYPED_ARRAY_SUPPORT=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}(),r.isBuffer=function(e){return!(null==e||!e._isBuffer)},r.compare=function(e,t){if(!r.isBuffer(e)||!r.isBuffer(t))throw new TypeError("Arguments must be Buffers");for(var n=e.length,i=t.length,o=0,s=Math.min(n,i);s>o&&e[o]===t[o];o++);return o!==s&&(n=e[o],i=t[o]),i>n?-1:n>i?1:0},r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(e,t){if(!I(e))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===e.length)return new r(0);if(1===e.length)return e[0];var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var i=new r(t),o=0;for(n=0;n<e.length;n++){var s=e[n];s.copy(i,o),o+=s.length}return i},r.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"ascii":case"binary":case"raw":n=e.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;case"hex":n=e.length>>>1;break;case"utf8":case"utf-8":n=j(e).length;break;case"base64":n=T(e).length;break;default:n=e.length}return n},r.prototype.length=void 0,r.prototype.parent=void 0,r.prototype.toString=function(e,t,n){var r=!1;if(t>>>=0,n=void 0===n||n===1/0?this.length:n>>>0,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return p(this,t,n);case"utf8":case"utf-8":return d(this,t,n);case"ascii":return f(this,t,n);case"binary":return h(this,t,n);case"base64":return l(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}},r.prototype.equals=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return 0===r.compare(this,e)},r.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},r.prototype.compare=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return r.compare(this,e)},r.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},r.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},r.prototype.write=function(e,t,n,r){if(isFinite(t))isFinite(n)||(r=n,n=void 0);else{var l=r;r=t,t=n,n=l}t=Number(t)||0;var d=this.length-t;n?(n=Number(n),n>d&&(n=d)):n=d,r=String(r||"utf8").toLowerCase();var f;switch(r){case"hex":f=i(this,e,t,n);break;case"utf8":case"utf-8":f=o(this,e,t,n);break;case"ascii":f=s(this,e,t,n);break;case"binary":f=a(this,e,t,n);break;case"base64":f=u(this,e,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":f=c(this,e,t,n);break;default:throw new TypeError("Unknown encoding: "+r)}return f},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.slice=function(e,t){var n=this.length;if(e=~~e,t=void 0===t?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),e>t&&(t=e),r.TYPED_ARRAY_SUPPORT)return r._augment(this.subarray(e,t));for(var i=t-e,o=new r(i,void 0,!0),s=0;i>s;s++)o[s]=this[s+e];return o},r.prototype.readUInt8=function(e,t){return t||v(e,1,this.length),this[e]},r.prototype.readUInt16LE=function(e,t){return t||v(e,2,this.length),this[e]|this[e+1]<<8},r.prototype.readUInt16BE=function(e,t){return t||v(e,2,this.length),this[e]<<8|this[e+1]},r.prototype.readUInt32LE=function(e,t){return t||v(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},r.prototype.readUInt32BE=function(e,t){return t||v(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},r.prototype.readInt8=function(e,t){return t||v(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},r.prototype.readInt16LE=function(e,t){t||v(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(e,t){t||v(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(e,t){return t||v(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},r.prototype.readInt32BE=function(e,t){return t||v(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},r.prototype.readFloatLE=function(e,t){return t||v(e,4,this.length),O.read(this,e,!0,23,4)},r.prototype.readFloatBE=function(e,t){return t||v(e,4,this.length),O.read(this,e,!1,23,4)},r.prototype.readDoubleLE=function(e,t){return t||v(e,8,this.length),O.read(this,e,!0,52,8)},r.prototype.readDoubleBE=function(e,t){return t||v(e,8,this.length),O.read(this,e,!1,52,8)},r.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,1,255,0),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=e,t+1},r.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8):g(this,e,t,!0),t+2},r.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e):g(this,e,t,!1),t+2},r.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e):y(this,e,t,!0),t+4},r.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e):y(this,e,t,!1),t+4},r.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,1,127,-128),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=e,t+1},r.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8):g(this,e,t,!0),t+2},r.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e):g(this,e,t,!1),t+2},r.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):y(this,e,t,!0),t+4},r.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e):y(this,e,t,!1),t+4},r.prototype.writeFloatLE=function(e,t,n){return _(this,e,t,!0,n)},r.prototype.writeFloatBE=function(e,t,n){return _(this,e,t,!1,n)},r.prototype.writeDoubleLE=function(e,t,n){return x(this,e,t,!0,n)},r.prototype.writeDoubleBE=function(e,t,n){return x(this,e,t,!1,n)},r.prototype.copy=function(e,t,n,i){var o=this;if(n||(n=0),i||0===i||(i=this.length),t||(t=0),i!==n&&0!==e.length&&0!==o.length){if(n>i)throw new TypeError("sourceEnd < sourceStart");if(0>t||t>=e.length)throw new TypeError("targetStart out of bounds");if(0>n||n>=o.length)throw new TypeError("sourceStart out of bounds");if(0>i||i>o.length)throw new TypeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var s=i-n;if(1e3>s||!r.TYPED_ARRAY_SUPPORT)for(var a=0;s>a;a++)e[a+t]=this[a+n];else e._set(this.subarray(n,n+s),t)}},r.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new TypeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new TypeError("start out of bounds");if(0>n||n>this.length)throw new TypeError("end out of bounds");var r;if("number"==typeof e)for(r=t;n>r;r++)this[r]=e;else{var i=j(e.toString()),o=i.length;for(r=t;n>r;r++)this[r]=i[r%o]}return this}},r.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(r.TYPED_ARRAY_SUPPORT)return new r(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;n>t;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var M=r.prototype;r._augment=function(e){return e.constructor=r,e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=M.get,e.set=M.set,e.write=M.write,e.toString=M.toString,e.toLocaleString=M.toString,e.toJSON=M.toJSON,e.equals=M.equals,e.compare=M.compare,e.copy=M.copy,e.slice=M.slice,e.readUInt8=M.readUInt8,e.readUInt16LE=M.readUInt16LE,e.readUInt16BE=M.readUInt16BE,e.readUInt32LE=M.readUInt32LE,e.readUInt32BE=M.readUInt32BE,e.readInt8=M.readInt8,e.readInt16LE=M.readInt16LE,e.readInt16BE=M.readInt16BE,e.readInt32LE=M.readInt32LE,e.readInt32BE=M.readInt32BE,e.readFloatLE=M.readFloatLE,e.readFloatBE=M.readFloatBE,e.readDoubleLE=M.readDoubleLE,e.readDoubleBE=M.readDoubleBE,e.writeUInt8=M.writeUInt8,e.writeUInt16LE=M.writeUInt16LE,e.writeUInt16BE=M.writeUInt16BE,e.writeUInt32LE=M.writeUInt32LE,e.writeUInt32BE=M.writeUInt32BE,e.writeInt8=M.writeInt8,e.writeInt16LE=M.writeInt16LE,e.writeInt16BE=M.writeInt16BE,e.writeInt32LE=M.writeInt32LE,e.writeInt32BE=M.writeInt32BE,
e.writeFloatLE=M.writeFloatLE,e.writeFloatBE=M.writeFloatBE,e.writeDoubleLE=M.writeDoubleLE,e.writeDoubleBE=M.writeDoubleBE,e.fill=M.fill,e.inspect=M.inspect,e.toArrayBuffer=M.toArrayBuffer,e};var Z=/[^+\/0-9A-z]/g},{"base64-js":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/node_modules/base64-js/lib/b64.js",ieee754:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/node_modules/ieee754/index.js","is-array":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/node_modules/is-array/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/node_modules/base64-js/lib/b64.js":[function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===s?62:t===a?63:u>t?-1:u+10>t?t-u+26+26:l+26>t?t-l:c+26>t?t-c+26:void 0}function n(e){function n(e){c[d++]=e}var r,i,s,a,u,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=e.length;u="="===e.charAt(l-2)?2:"="===e.charAt(l-1)?1:0,c=new o(3*e.length/4-u),s=u>0?e.length-4:e.length;var d=0;for(r=0,i=0;s>r;r+=4,i+=3)a=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===u?(a=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,n(255&a)):1===u&&(a=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,n(a>>8&255),n(255&a)),c}function i(e){function t(e){return r.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var i,o,s,a=e.length%3,u="";for(i=0,s=e.length-a;s>i;i+=3)o=(e[i]<<16)+(e[i+1]<<8)+e[i+2],u+=n(o);switch(a){case 1:o=e[e.length-1],u+=t(o>>2),u+=t(o<<4&63),u+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],u+=t(o>>10),u+=t(o>>4&63),u+=t(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0);e.toByteArray=n,e.fromByteArray=i}("undefined"==typeof n?this.base64js={}:n)},{}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/node_modules/ieee754/index.js":[function(e,t,n){n.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+d],d+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+d],d+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?0/0:(h?-1:1)*(1/0);s+=Math.pow(2,r),o-=c}return(h?-1:1)*s*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),t+=s+d>=1?f/u:f*Math.pow(2,1-d),t*u>=2&&(s++,u/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*u-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+h]=255&s,h+=p,s/=256,c-=8);e[n+h-p]|=128*m}},{}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/node_modules/is-array/index.js":[function(e,t,n){var r=Array.isArray,i=Object.prototype.toString;t.exports=r||function(e){return!!e&&"[object Array]"==i.call(e)}},{}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/events/events.js":[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];n.apply(this,o)}else if(s(n)){for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];for(c=n.slice(),r=c.length,u=0;r>u;u++)c[u].apply(this,o)}return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned){var n;n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(a=o;a-->0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/http-browserify/index.js":[function(e,t,n){var r=t.exports,i=(e("events").EventEmitter,e("./lib/request")),o=e("url");r.request=function(e,t){"string"==typeof e&&(e=o.parse(e)),e||(e={}),e.host||e.port||(e.port=parseInt(window.location.port,10)),!e.host&&e.hostname&&(e.host=e.hostname),e.protocol||(e.protocol=e.scheme?e.scheme+":":window.location.protocol),e.host||(e.host=window.location.hostname||window.location.host),/:/.test(e.host)&&(e.port||(e.port=e.host.split(":")[1]),e.host=e.host.split(":")[0]),e.port||(e.port="https:"==e.protocol?443:80);var n=new i(new s,e);return t&&n.on("response",t),n},r.get=function(e,t){e.method="GET";var n=r.request(e,t);return n.end(),n},r.Agent=function(){},r.Agent.defaultMaxSockets=4;var s=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{var n=new window.ActiveXObject(e[t]);return function(){if(n){var r=n;return n=null,r}return new window.ActiveXObject(e[t])}}catch(r){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();r.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{"./lib/request":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/http-browserify/lib/request.js",events:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/events/events.js",url:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/url/url.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/http-browserify/lib/request.js":[function(e,t,n){var r=e("stream"),i=e("./response"),o=e("Base64"),s=e("inherits"),a=t.exports=function(e,t){var n=this;n.writable=!0,n.xhr=e,n.body=[],n.uri=(t.protocol||"http:")+"//"+t.host+(t.port?":"+t.port:"")+(t.path||"/"),"undefined"==typeof t.withCredentials&&(t.withCredentials=!0);try{e.withCredentials=t.withCredentials}catch(r){}if(t.responseType)try{e.responseType=t.responseType}catch(r){}if(e.open(t.method||"GET",n.uri,!0),e.onerror=function(e){n.emit("error",new Error("Network error"))},n._headers={},t.headers)for(var s=u(t.headers),a=0;a<s.length;a++){var c=s[a];if(n.isSafeRequestHeader(c)){var l=t.headers[c];n.setHeader(c,l)}}t.auth&&this.setHeader("Authorization","Basic "+o.btoa(t.auth));var d=new i;d.on("close",function(){n.emit("close")}),d.on("ready",function(){n.emit("response",d)}),d.on("error",function(e){n.emit("error",e)}),e.onreadystatechange=function(){e.__aborted||d.handle(e)}};s(a,r),a.prototype.setHeader=function(e,t){this._headers[e.toLowerCase()]=t},a.prototype.getHeader=function(e){return this._headers[e.toLowerCase()]},a.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},a.prototype.write=function(e){this.body.push(e)},a.prototype.destroy=function(e){this.xhr.__aborted=!0,this.xhr.abort(),this.emit("close")},a.prototype.end=function(e){void 0!==e&&this.body.push(e);for(var t=u(this._headers),n=0;n<t.length;n++){var r=t[n],i=this._headers[r];if(c(i))for(var o=0;o<i.length;o++)this.xhr.setRequestHeader(r,i[o]);else this.xhr.setRequestHeader(r,i)}if(0===this.body.length)this.xhr.send("");else if("string"==typeof this.body[0])this.xhr.send(this.body.join(""));else if(c(this.body[0])){for(var s=[],n=0;n<this.body.length;n++)s.push.apply(s,this.body[n]);this.xhr.send(s)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(var a=0,n=0;n<this.body.length;n++)a+=this.body[n].length;for(var s=new this.body[0].constructor(a),l=0,n=0;n<this.body.length;n++)for(var f=this.body[n],o=0;o<f.length;o++)s[l++]=f[o];this.xhr.send(s)}else if(d(this.body[0]))this.xhr.send(this.body[0]);else{for(var s="",n=0;n<this.body.length;n++)s+=this.body[n].toString();this.xhr.send(s)}},a.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],a.prototype.isSafeRequestHeader=function(e){return e?-1===l(a.unsafeHeaders,e.toLowerCase()):!1};var u=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},l=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},d=function(e){return"undefined"!=typeof Blob&&e instanceof Blob?!0:"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?!0:"undefined"!=typeof FormData&&e instanceof FormData?!0:void 0}},{"./response":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/http-browserify/lib/response.js",Base64:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/http-browserify/node_modules/Base64/base64.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/inherits/inherits_browser.js",stream:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/stream-browserify/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/http-browserify/lib/response.js":[function(e,t,n){function r(e){for(var t=e.getAllResponseHeaders().split(/\r?\n/),n={},r=0;r<t.length;r++){var i=t[r];if(""!==i){var o=i.match(/^([^:]+):\s*(.*)/);if(o){var s=o[1].toLowerCase(),a=o[2];void 0!==n[s]?u(n[s])?n[s].push(a):n[s]=[n[s],a]:n[s]=a}else n[i]=!0}}return n}var i=e("stream"),o=e("util"),s=t.exports=function(e){this.offset=0,this.readable=!0};o.inherits(s,i);var a={streaming:!0,status2:!0};s.prototype.getResponse=function(e){var t=String(e.responseType).toLowerCase();return"blob"===t?e.responseBlob||e.response:"arraybuffer"===t?e.response:e.responseText},s.prototype.getHeader=function(e){return this.headers[e.toLowerCase()]},s.prototype.handle=function(e){if(2===e.readyState&&a.status2){try{this.statusCode=e.status,this.headers=r(e)}catch(t){a.status2=!1}a.status2&&this.emit("ready")}else if(a.streaming&&3===e.readyState){try{this.statusCode||(this.statusCode=e.status,this.headers=r(e),this.emit("ready"))}catch(t){}try{this._emitData(e)}catch(t){a.streaming=!1}}else 4===e.readyState&&(this.statusCode||(this.statusCode=e.status,this.emit("ready")),this._emitData(e),e.error?this.emit("error",this.getResponse(e)):this.emit("end"),this.emit("close"))},s.prototype._emitData=function(e){var t=this.getResponse(e);return t.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(t,this.offset)),void(this.offset=t.byteLength)):void(t.length>this.offset&&(this.emit("data",t.slice(this.offset)),this.offset=t.length))};var u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{stream:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/stream-browserify/index.js",util:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/util/util.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/http-browserify/node_modules/Base64/base64.js":[function(e,t,n){!function(){function e(e){this.message=e}var t="undefined"!=typeof n?n:this,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=new Error,e.prototype.name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var n,i,o=0,s=r,a="";t.charAt(0|o)||(s="=",o%1);a+=s.charAt(63&n>>8-o%1*8)){if(i=t.charCodeAt(o+=.75),i>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|i}return a}),t.atob||(t.atob=function(t){if(t=t.replace(/=+$/,""),t.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,o=0,s=0,a="";i=t.charAt(s++);~i&&(n=o%4?64*n+i:i,o++%4)?a+=String.fromCharCode(255&n>>(-2*o&6)):0)i=r.indexOf(i);return a})}()},{}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/https-browserify/index.js":[function(e,t,n){var r=e("http"),i=t.exports;for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);i.request=function(e,t){return e||(e={}),e.scheme="https",r.request.call(this,e,t)}},{http:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/http-browserify/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/inherits/inherits_browser.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/inherits/inherits_browser.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/isarray/index.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/isarray/index.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/isarray/index.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/isarray/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/path-browserify/index.js":[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(n=s+"/"+n,i="/"===s.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(e){var i=n.isAbsolute(e),o="/"===s(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),o=r(t.split("/")),s=Math.min(i.length,o.length),a=s,u=0;s>u;u++)if(i[u]!==o[u]){a=u;break}for(var c=[],u=a;u<i.length;u++)c.push("..");return c=c.concat(o.slice(a)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return o(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js":[function(e,t,n){function r(){}var i=t.exports={};i.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};var r=[];if(t){var i=document.createElement("div"),o=new MutationObserver(function(){var e=r.slice();r.length=0,e.forEach(function(e){e()})});return o.observe(i,{attributes:!0}),function(e){r.length||i.setAttribute("yes","no"),r.push(e)}}return n?(window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),r.length>0)){var n=r.shift();n()}},!0),function(e){r.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/punycode/punycode.js":[function(e,t,n){(function(e){!function(r){function i(e){throw RangeError(A[e])}function o(e,t){for(var n=e.length;n--;)e[n]=t(e[n]);return e}function s(e,t){return o(e.split(D),t).join(".")}function a(e){for(var t,n,r=[],i=0,o=e.length;o>i;)t=e.charCodeAt(i++),t>=55296&&56319>=t&&o>i?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function u(e){return o(e,function(e){var t="";return e>65535&&(e-=65536,t+=W(e>>>10&1023|55296),e=56320|1023&e),t+=W(e)}).join("")}function c(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:x}function l(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function d(e,t,n){var r=0;for(e=n?I(e/E):e>>1,e+=I(e/t);e>O*S>>1;r+=x)e=I(e/O);return I(r+(O+1)*e/(e+C))}function f(e){var t,n,r,o,s,a,l,f,h,p,m=[],v=e.length,b=0,g=N,y=j;for(n=e.lastIndexOf(R),0>n&&(n=0),r=0;n>r;++r)e.charCodeAt(r)>=128&&i("not-basic"),m.push(e.charCodeAt(r));for(o=n>0?n+1:0;v>o;){for(s=b,a=1,l=x;o>=v&&i("invalid-input"),f=c(e.charCodeAt(o++)),(f>=x||f>I((_-b)/a))&&i("overflow"),b+=f*a,h=y>=l?k:l>=y+S?S:l-y,!(h>f);l+=x)p=x-h,a>I(_/p)&&i("overflow"),a*=p;t=m.length+1,y=d(b-s,t,0==s),I(b/t)>_-g&&i("overflow"),g+=I(b/t),b%=t,m.splice(b++,0,g)}return u(m)}function h(e){var t,n,r,o,s,u,c,f,h,p,m,v,b,g,y,w=[];for(e=a(e),v=e.length,t=N,n=0,s=j,u=0;v>u;++u)m=e[u],128>m&&w.push(W(m));for(r=o=w.length,o&&w.push(R);v>r;){for(c=_,u=0;v>u;++u)m=e[u],m>=t&&c>m&&(c=m);for(b=r+1,c-t>I((_-n)/b)&&i("overflow"),n+=(c-t)*b,t=c,u=0;v>u;++u)if(m=e[u],t>m&&++n>_&&i("overflow"),m==t){for(f=n,h=x;p=s>=h?k:h>=s+S?S:h-s,!(p>f);h+=x)y=f-p,g=x-p,w.push(W(l(p+y%g,0))),f=I(y/g);w.push(W(l(f,0))),s=d(n,b,r==o),n=0,++r}++n,++t}return w.join("")}function p(e){return s(e,function(e){return T.test(e)?f(e.slice(4).toLowerCase()):e})}function m(e){return s(e,function(e){return U.test(e)?"xn--"+h(e):e})}var v="object"==typeof n&&n,b="object"==typeof t&&t&&t.exports==v&&t,g="object"==typeof e&&e;(g.global===g||g.window===g)&&(r=g);var y,w,_=2147483647,x=36,k=1,S=26,C=38,E=700,j=72,N=128,R="-",T=/^xn--/,U=/[^ -~]/,D=/\x2E|\u3002|\uFF0E|\uFF61/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=x-k,I=Math.floor,W=String.fromCharCode;if(y={version:"1.2.4",ucs2:{decode:a,encode:u},decode:f,encode:h,toASCII:m,toUnicode:p},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return y});else if(v&&!v.nodeType)if(b)b.exports=y;else for(w in y)y.hasOwnProperty(w)&&(v[w]=y[w]);else r.punycode=y}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/querystring-es3/decode.js":[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;c>l;++l){var d,f,h,p,m=e[l].replace(a,"%20"),v=m.indexOf(n);v>=0?(d=m.substr(0,v),f=m.substr(v+1)):(d=m,f=""),h=decodeURIComponent(d),p=decodeURIComponent(f),r(s,h)?i(s[h])?s[h].push(p):s[h]=[s[h],p]:s[h]=p}return s};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/querystring-es3/encode.js":[function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(s(e),function(s){var a=encodeURIComponent(i(s))+n;return o(e[s])?r(e[s],function(e){return a+encodeURIComponent(i(e))}).join(t):a+encodeURIComponent(i(e[s]))}).join(t):a?encodeURIComponent(i(a))+n+encodeURIComponent(i(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/querystring-es3/index.js":[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/querystring-es3/decode.js","./encode":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/querystring-es3/encode.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/duplex.js":[function(e,t,n){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/lib/_stream_duplex.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/lib/_stream_duplex.js":[function(e,t,n){(function(n){function r(e){return this instanceof r?(u.call(this,e),c.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(e)}function i(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}function o(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}t.exports=r;var s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},a=e("core-util-is");a.inherits=e("inherits");var u=e("./_stream_readable"),c=e("./_stream_writable");a.inherits(r,u),o(s(c.prototype),function(e){r.prototype[e]||(r.prototype[e]=c.prototype[e])})}).call(this,e("_process"))},{"./_stream_readable":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/lib/_stream_readable.js","./_stream_writable":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/lib/_stream_writable.js",_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/node_modules/core-util-is/lib/util.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/lib/_stream_passthrough.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_passthrough.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_passthrough.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_passthrough.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/lib/_stream_readable.js":[function(e,t,n){(function(n){function r(t,n){var r=e("./_stream_duplex");t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(N||(N=e("string_decoder/").StringDecoder),this.decoder=new N(t.encoding),this.encoding=t.encoding)}function i(t){e("./_stream_duplex");return this instanceof i?(this._readableState=new r(t,this),this.readable=!0,void E.call(this)):new i(t)}function o(e,t,n,r,i){var o=c(t,n);if(o)e.emit("error",o);else if(j.isNullOrUndefined(n))t.reading=!1,t.ended||l(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else!t.decoder||i||r||(n=t.decoder.write(n)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&d(e)),h(e,t);else i||(t.reading=!1);return s(t)}function s(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function a(e){if(e>=T)e=T;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function u(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||j.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=a(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e,t){var n=null;return j.isBuffer(t)||j.isString(t)||j.isNullOrUndefined(t)||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,d(e)}function d(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(R("emitReadable",t.flowing),t.emittedReadable=!0,
t.sync?n.nextTick(function(){f(e)}):f(e))}function f(e){R("emit readable"),e.emit("readable"),g(e)}function h(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(function(){p(e,t)}))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(R("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function m(e){return function(){var t=e._readableState;R("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&C.listenerCount(e,"data")&&(t.flowing=!0,g(e))}}function v(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(function(){b(e,t)}))}function b(e,t){t.resumeScheduled=!1,e.emit("resume"),g(e),t.flowing&&!t.reading&&e.read(0)}function g(e){var t=e._readableState;if(R("flow",t.flowing),t.flowing)do var n=e.read();while(null!==n&&t.flowing)}function y(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,s=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!e||e>=i)n=o?r.join(""):S.concat(r,i),r.length=0;else if(e<r[0].length){var a=r[0];n=a.slice(0,e),r[0]=a.slice(e)}else if(e===r[0].length)n=r.shift();else{n=o?"":new S(e);for(var u=0,c=0,l=r.length;l>c&&e>u;c++){var a=r[0],d=Math.min(e-u,a.length);o?n+=a.slice(0,d):a.copy(n,u,0,d),d<a.length?r[0]=a.slice(d):r.shift(),u+=d}}return n}function w(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,n.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function _(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}function x(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}t.exports=i;var k=e("isarray"),S=e("buffer").Buffer;i.ReadableState=r;var C=e("events").EventEmitter;C.listenerCount||(C.listenerCount=function(e,t){return e.listeners(t).length});var E=e("stream"),j=e("core-util-is");j.inherits=e("inherits");var N,R=e("util");R=R&&R.debuglog?R.debuglog("stream"):function(){},j.inherits(i,E),i.prototype.push=function(e,t){var n=this._readableState;return j.isString(e)&&!n.objectMode&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=new S(e,t),t="")),o(this,n,e,t,!1)},i.prototype.unshift=function(e){var t=this._readableState;return o(this,t,e,"",!0)},i.prototype.setEncoding=function(t){return N||(N=e("string_decoder/").StringDecoder),this._readableState.decoder=new N(t),this._readableState.encoding=t,this};var T=8388608;i.prototype.read=function(e){R("read",e);var t=this._readableState,n=e;if((!j.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return R("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?w(this):d(this),null;if(e=u(e,t),0===e&&t.ended)return 0===t.length&&w(this),null;var r=t.needReadable;R("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,R("length less than watermark",r)),(t.ended||t.reading)&&(r=!1,R("reading or ended",r)),r&&(R("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=u(n,t));var i;return i=e>0?y(e,t):null,j.isNull(i)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&w(this),j.isNull(i)||this.emit("data",i),i},i.prototype._read=function(e){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,t){function r(e){R("onunpipe"),e===d&&o()}function i(){R("onend"),e.end()}function o(){R("cleanup"),e.removeListener("close",u),e.removeListener("finish",c),e.removeListener("drain",v),e.removeListener("error",a),e.removeListener("unpipe",r),d.removeListener("end",i),d.removeListener("end",o),d.removeListener("data",s),!f.awaitDrain||e._writableState&&!e._writableState.needDrain||v()}function s(t){R("ondata");var n=e.write(t);!1===n&&(R("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,d.pause())}function a(t){R("onerror",t),l(),e.removeListener("error",a),0===C.listenerCount(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",c),l()}function c(){R("onfinish"),e.removeListener("close",u),l()}function l(){R("unpipe"),d.unpipe(e)}var d=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=e;break;case 1:f.pipes=[f.pipes,e];break;default:f.pipes.push(e)}f.pipesCount+=1,R("pipe count=%d opts=%j",f.pipesCount,t);var h=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,p=h?i:o;f.endEmitted?n.nextTick(p):d.once("end",p),e.on("unpipe",r);var v=m(d);return e.on("drain",v),d.on("data",s),e._events&&e._events.error?k(e._events.error)?e._events.error.unshift(a):e._events.error=[a,e._events.error]:e.on("error",a),e.once("close",u),e.once("finish",c),e.emit("pipe",d),f.flowing||(R("pipe resume"),d.resume()),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;r>i;i++)n[i].emit("unpipe",this);return this}var i=x(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,t){var r=E.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&d(this,i);else{var o=this;n.nextTick(function(){R("readable nexttick read 0"),o.read(0)})}}return r},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var e=this._readableState;return e.flowing||(R("resume"),e.flowing=!0,e.reading||(R("resume read 0"),this.read(0)),v(this,e)),this},i.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(R("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(R("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)){var o=r.push(i);o||(n=!0,e.pause())}});for(var i in e)j.isFunction(e[i])&&j.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return _(o,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){R("wrapped _read",t),n&&(n=!1,e.resume())},r},i._fromList=y}).call(this,e("_process"))},{"./_stream_duplex":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/lib/_stream_duplex.js",_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/node_modules/core-util-is/lib/util.js",events:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/events/events.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/inherits/inherits_browser.js",isarray:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/isarray/index.js",stream:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/stream-browserify/index.js","string_decoder/":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/string_decoder/index.js",util:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/browser-resolve/empty.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/lib/_stream_transform.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_transform.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_transform.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/lib/_stream_transform.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/lib/_stream_writable.js":[function(e,t,n){(function(n){function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function i(t,n){var r=e("./_stream_duplex");t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){h(n,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(t){var n=e("./_stream_duplex");return this instanceof o||this instanceof n?(this._writableState=new i(t,this),this.writable=!0,void k.call(this)):new o(t)}function s(e,t,r){var i=new Error("write after end");e.emit("error",i),n.nextTick(function(){r(i)})}function a(e,t,r,i){var o=!0;if(!(x.isBuffer(r)||x.isString(r)||x.isNullOrUndefined(r)||t.objectMode)){var s=new TypeError("Invalid non-string/buffer chunk");e.emit("error",s),n.nextTick(function(){i(s)}),o=!1}return o}function u(e,t,n){return!e.objectMode&&e.decodeStrings!==!1&&x.isString(t)&&(t=new _(t,n)),t}function c(e,t,n,i,o){n=u(t,n,i),x.isBuffer(n)&&(i="buffer");var s=t.objectMode?1:n.length;t.length+=s;var a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new r(n,i,o)):l(e,t,!1,s,n,i,o),a}function l(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function d(e,t,r,i,o){r?n.nextTick(function(){t.pendingcb--,o(i)}):(t.pendingcb--,o(i)),e._writableState.errorEmitted=!0,e.emit("error",i)}function f(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function h(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(f(r),t)d(e,r,i,t,o);else{var s=b(e,r);s||r.corked||r.bufferProcessing||!r.buffer.length||v(e,r),i?n.nextTick(function(){p(e,r,s,o)}):p(e,r,s,o)}}function p(e,t,n,r){n||m(e,t),t.pendingcb--,r(),y(e,t)}function m(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function v(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var n=[],r=0;r<t.buffer.length;r++)n.push(t.buffer[r].callback);t.pendingcb++,l(e,t,!0,t.length,t.buffer,"",function(e){for(var r=0;r<n.length;r++)t.pendingcb--,n[r](e)}),t.buffer=[]}else{for(var r=0;r<t.buffer.length;r++){var i=t.buffer[r],o=i.chunk,s=i.encoding,a=i.callback,u=t.objectMode?1:o.length;if(l(e,t,!1,u,o,s,a),t.writing){r++;break}}r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}t.bufferProcessing=!1}function b(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function g(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function y(e,t){var n=b(e,t);return n&&(0===t.pendingcb?(g(e,t),t.finished=!0,e.emit("finish")):g(e,t)),n}function w(e,t,r){t.ending=!0,y(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0}t.exports=o;var _=e("buffer").Buffer;o.WritableState=i;var x=e("core-util-is");x.inherits=e("inherits");var k=e("stream");x.inherits(o,k),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return x.isFunction(t)&&(n=t,t=null),x.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),x.isFunction(n)||(n=function(){}),r.ended?s(this,r,n):a(this,r,e,n)&&(r.pendingcb++,i=c(this,r,e,t,n)),i},o.prototype.cork=function(){var e=this._writableState;e.corked++},o.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||v(this,e))},o.prototype._write=function(e,t,n){n(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(e,t,n){var r=this._writableState;x.isFunction(e)?(n=e,e=null,t=null):x.isFunction(t)&&(n=t,t=null),x.isNullOrUndefined(e)||this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||w(this,r,n)}}).call(this,e("_process"))},{"./_stream_duplex":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/lib/_stream_duplex.js",_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js","core-util-is":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/node_modules/core-util-is/lib/util.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/inherits/inherits_browser.js",stream:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/stream-browserify/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/node_modules/core-util-is/lib/util.js":[function(e,t,n){(function(e){function t(e){return Array.isArray(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function s(e){return"number"==typeof e}function a(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function c(e){return void 0===e}function l(e){return d(e)&&"[object RegExp]"===b(e)}function d(e){return"object"==typeof e&&null!==e}function f(e){return d(e)&&"[object Date]"===b(e)}function h(e){return d(e)&&("[object Error]"===b(e)||e instanceof Error)}function p(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function v(t){return e.isBuffer(t)}function b(e){return Object.prototype.toString.call(e)}n.isArray=t,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=s,n.isString=a,n.isSymbol=u,n.isUndefined=c,n.isRegExp=l,n.isObject=d,n.isDate=f,n.isError=h,n.isFunction=p,n.isPrimitive=m,n.isBuffer=v}).call(this,e("buffer").Buffer)},{buffer:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/buffer/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/passthrough.js":[function(e,t,n){t.exports=e("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/lib/_stream_passthrough.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/readable.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/readable.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/readable.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/readable.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/transform.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/transform.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/transform.js":"/Users/andersriutta/Sites/kaavio/node_modules/hyperquest/node_modules/through2/node_modules/readable-stream/transform.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/writable.js":[function(e,t,n){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/lib/_stream_writable.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/stream-browserify/index.js":[function(e,t,n){function r(){i.call(this)}t.exports=r;var i=e("events").EventEmitter,o=e("inherits");o(r,i),r.Readable=e("readable-stream/readable.js"),r.Writable=e("readable-stream/writable.js"),r.Duplex=e("readable-stream/duplex.js"),r.Transform=e("readable-stream/transform.js"),r.PassThrough=e("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&c.pause&&c.pause()}function r(){c.readable&&c.resume&&c.resume()}function o(){l||(l=!0,e.end())}function s(){l||(l=!0,"function"==typeof e.destroy&&e.destroy())}function a(e){if(u(),0===i.listenerCount(this,"error"))throw e}function u(){c.removeListener("data",n),e.removeListener("drain",r),c.removeListener("end",o),c.removeListener("close",s),c.removeListener("error",a),e.removeListener("error",a),c.removeListener("end",u),c.removeListener("close",u),e.removeListener("close",u)}var c=this;c.on("data",n),e.on("drain",r),e._isStdio||t&&t.end===!1||(c.on("end",o),c.on("close",s));var l=!1;return c.on("error",a),e.on("error",a),c.on("end",u),c.on("close",u),e.on("close",u),e.emit("pipe",c),e}},{events:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/events/events.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/inherits/inherits_browser.js","readable-stream/duplex.js":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/duplex.js","readable-stream/passthrough.js":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/passthrough.js","readable-stream/readable.js":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/readable.js","readable-stream/transform.js":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/transform.js","readable-stream/writable.js":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/readable-stream/writable.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/string_decoder/index.js":[function(e,t,n){t.exports=e("/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/string_decoder/index.js")},{"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/string_decoder/index.js":"/Users/andersriutta/Sites/kaavio/node_modules/bridgedb/node_modules/csv-streamify/node_modules/readable-stream/node_modules/string_decoder/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/url/url.js":[function(e,t,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&c(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function o(e){return u(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)}function s(e,t){return i(e,!1,!0).resolve(t)}function a(e,t){return e?i(e,!1,!0).resolveObject(t):t}function u(e){return"string"==typeof e}function c(e){return"object"==typeof e&&null!==e}function l(e){return null===e}function d(e){return null==e}var f=e("punycode");n.parse=i,n.resolve=s,n.resolveObject=a,n.format=o,n.Url=r;var h=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,m=["<",">",'"',"`"," ","\r","\n","	"],v=["{","}","|","\\","^","`"].concat(m),b=["'"].concat(v),g=["%","/","?",";","#"].concat(b),y=["/","?","#"],w=255,_=/^[a-z0-9A-Z_-]{0,63}$/,x=/^([a-z0-9A-Z_-]{0,63})(.*)$/,k={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},C={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=e("querystring");r.prototype.parse=function(e,t,n){if(!u(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e;r=r.trim();var i=h.exec(r);if(i){i=i[0];var o=i.toLowerCase();this.protocol=o,r=r.substr(i.length)}if(n||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===r.substr(0,2);!s||i&&S[i]||(r=r.substr(2),this.slashes=!0)}if(!S[i]&&(s||i&&!C[i])){for(var a=-1,c=0;c<y.length;c++){var l=r.indexOf(y[c]);-1!==l&&(-1===a||a>l)&&(a=l)}var d,p;p=-1===a?r.lastIndexOf("@"):r.lastIndexOf("@",a),-1!==p&&(d=r.slice(0,p),r=r.slice(p+1),this.auth=decodeURIComponent(d)),a=-1;for(var c=0;c<g.length;c++){var l=r.indexOf(g[c]);-1!==l&&(-1===a||a>l)&&(a=l)}-1===a&&(a=r.length),this.host=r.slice(0,a),r=r.slice(a),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var v=this.hostname.split(/\./),c=0,j=v.length;j>c;c++){var N=v[c];if(N&&!N.match(_)){for(var R="",T=0,U=N.length;U>T;T++)R+=N.charCodeAt(T)>127?"x":N[T];if(!R.match(_)){var D=v.slice(0,c),A=v.slice(c+1),O=N.match(x);O&&(D.push(O[1]),A.unshift(O[2])),A.length&&(r="/"+A.join(".")+r),this.hostname=D.join(".");break}}}if(this.hostname=this.hostname.length>w?"":this.hostname.toLowerCase(),!m){for(var I=this.hostname.split("."),W=[],c=0;c<I.length;++c){var M=I[c];W.push(M.match(/[^A-Za-z0-9_-]/)?"xn--"+f.encode(M):M)}this.hostname=W.join(".")}var Z=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+Z,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!k[o])for(var c=0,j=b.length;j>c;c++){var L=b[c],V=encodeURIComponent(L);V===L&&(V=escape(L)),r=r.split(L).join(V)}var G=r.indexOf("#");-1!==G&&(this.hash=r.substr(G),r=r.slice(0,G));var z=r.indexOf("?");if(-1!==z?(this.search=r.substr(z),this.query=r.substr(z+1),t&&(this.query=E.parse(this.query)),r=r.slice(0,z)):t&&(this.search="",this.query={}),r&&(this.pathname=r),C[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Z=this.pathname||"",M=this.search||"";this.path=Z+M}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&c(this.query)&&Object.keys(this.query).length&&(o=E.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||C[t])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),s=s.replace("#","%23"),t+i+n+s+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(u(e)){var t=new r;t.parse(e,!1,!0),e=t}var n=new r;if(Object.keys(this).forEach(function(e){n[e]=this[e]},this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(n[t]=e[t])}),C[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!C[e.protocol])return Object.keys(e).forEach(function(t){n[t]=e[t]}),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||S[e.protocol])n.pathname=e.pathname;else{for(var i=(e.pathname||"").split("/");i.length&&!(e.host=i.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var o=n.pathname||"",s=n.search||"";n.path=o+s}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var a=n.pathname&&"/"===n.pathname.charAt(0),c=e.host||e.pathname&&"/"===e.pathname.charAt(0),f=c||a||n.host&&e.pathname,h=f,p=n.pathname&&n.pathname.split("/")||[],i=e.pathname&&e.pathname.split("/")||[],m=n.protocol&&!C[n.protocol];if(m&&(n.hostname="",n.port=null,n.host&&(""===p[0]?p[0]=n.host:p.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===i[0]?i[0]=e.host:i.unshift(e.host)),e.host=null),f=f&&(""===i[0]||""===p[0])),c)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,p=i;else if(i.length)p||(p=[]),p.pop(),p=p.concat(i),n.search=e.search,n.query=e.query;else if(!d(e.search)){if(m){n.hostname=n.host=p.shift();var v=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;v&&(n.auth=v.shift(),n.host=n.hostname=v.shift())}return n.search=e.search,n.query=e.query,l(n.pathname)&&l(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!p.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var b=p.slice(-1)[0],g=(n.host||e.host)&&("."===b||".."===b)||""===b,y=0,w=p.length;w>=0;w--)b=p[w],"."==b?p.splice(w,1):".."===b?(p.splice(w,1),y++):y&&(p.splice(w,1),y--);if(!f&&!h)for(;y--;y)p.unshift("..");!f||""===p[0]||p[0]&&"/"===p[0].charAt(0)||p.unshift(""),g&&"/"!==p.join("/").substr(-1)&&p.push("");var _=""===p[0]||p[0]&&"/"===p[0].charAt(0);if(m){n.hostname=n.host=_?"":p.length?p.shift():"";var v=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;v&&(n.auth=v.shift(),n.host=n.hostname=v.shift())}return f=f||n.host&&p.length,f&&!_&&p.unshift(""),p.length?n.pathname=p.join("/"):(n.pathname=null,n.path=null),l(n.pathname)&&l(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=p.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{punycode:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/punycode/punycode.js",querystring:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/querystring-es3/index.js"}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/util/support/isBufferBrowser.js":[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/util/util.js":[function(e,t,n){(function(t,r){function i(e,t){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(t)?r.showHidden=t:t&&n._extend(r,t),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function s(e,t){return e}function a(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function u(e,t,r){if(e.customInspect&&t&&E(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return y(i)||(i=u(e,i,r)),i}var o=c(e,t);if(o)return o;var s=Object.keys(t),m=a(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),C(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(t);if(0===s.length){if(E(t)){var v=t.name?": "+t.name:"";return e.stylize("[Function"+v+"]","special")}if(x(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(S(t))return e.stylize(Date.prototype.toString.call(t),"date");if(C(t))return l(t)}var b="",g=!1,w=["{","}"];if(p(t)&&(g=!0,w=["[","]"]),E(t)){var _=t.name?": "+t.name:"";b=" [Function"+_+"]"}if(x(t)&&(b=" "+RegExp.prototype.toString.call(t)),S(t)&&(b=" "+Date.prototype.toUTCString.call(t)),C(t)&&(b=" "+l(t)),0===s.length&&(!g||0==t.length))return w[0]+b+w[1];if(0>r)return x(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var k;return k=g?d(e,t,r,m,s):s.map(function(n){return f(e,t,r,m,n,g)}),e.seen.pop(),h(k,b,w)}function c(e,t){if(_(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i){for(var o=[],s=0,a=t.length;a>s;++s)o.push(U(t,String(s))?f(e,t,n,r,String(s),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(e,t,n,r,i,!0))}),o}function f(e,t,n,r,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),U(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=v(n)?u(e,c.value,null):u(e,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),_(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function h(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function v(e){return null===e}function b(e){return null==e}function g(e){return"number"==typeof e}function y(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function _(e){return void 0===e}function x(e){return k(e)&&"[object RegExp]"===N(e)}function k(e){return"object"==typeof e&&null!==e}function S(e){return k(e)&&"[object Date]"===N(e)}function C(e){return k(e)&&("[object Error]"===N(e)||e instanceof Error)}function E(e){return"function"==typeof e}function j(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function N(e){return Object.prototype.toString.call(e)}function R(e){return 10>e?"0"+e.toString(10):e.toString(10)}function T(){var e=new Date,t=[R(e.getHours()),R(e.getMinutes()),R(e.getSeconds())].join(":");return[e.getDate(),I[e.getMonth()],t].join(" ")}function U(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var D=/%[sdj%]/g;n.format=function(e){
if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(e).replace(D,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),a=r[n];o>n;a=r[++n])s+=v(a)||!k(a)?" "+a:" "+i(a);return s},n.deprecate=function(e,i){function o(){if(!s){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),s=!0}return e.apply(this,arguments)}if(_(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var s=!1;return o};var A,O={};n.debuglog=function(e){if(_(A)&&(A=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!O[e])if(new RegExp("\\b"+e+"\\b","i").test(A)){var r=t.pid;O[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else O[e]=function(){};return O[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=m,n.isNull=v,n.isNullOrUndefined=b,n.isNumber=g,n.isString=y,n.isSymbol=w,n.isUndefined=_,n.isRegExp=x,n.isObject=k,n.isDate=S,n.isError=C,n.isFunction=E,n.isPrimitive=j,n.isBuffer=e("./support/isBuffer");var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",T(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!k(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/util/support/isBufferBrowser.js",_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js",inherits:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/Users/andersriutta/Sites/node_modules/async/lib/async.js":[function(e,t,n){(function(e){!function(){function n(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(r,arguments)}}var r,i,o={};r=this,null!=r&&(i=r.async),o.noConflict=function(){return r.async=i,o};var s=Object.prototype.toString,a=Array.isArray||function(e){return"[object Array]"===s.call(e)},u=function(e,t){for(var n=0;n<e.length;n+=1)t(e[n],n,e)},c=function(e,t){if(e.map)return e.map(t);var n=[];return u(e,function(e,r,i){n.push(t(e,r,i))}),n},l=function(e,t,n){return e.reduce?e.reduce(t,n):(u(e,function(e,r,i){n=t(n,e,r,i)}),n)},d=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};"undefined"!=typeof e&&e.nextTick?(o.nextTick=e.nextTick,o.setImmediate="undefined"!=typeof setImmediate?function(e){setImmediate(e)}:o.nextTick):"function"==typeof setImmediate?(o.nextTick=function(e){setImmediate(e)},o.setImmediate=o.nextTick):(o.nextTick=function(e){setTimeout(e,0)},o.setImmediate=o.nextTick),o.each=function(e,t,r){function i(t){t?(r(t),r=function(){}):(o+=1,o>=e.length&&r())}if(r=r||function(){},!e.length)return r();var o=0;u(e,function(e){t(e,n(i))})},o.forEach=o.each,o.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var r=0,i=function(){t(e[r],function(t){t?(n(t),n=function(){}):(r+=1,r>=e.length?n():i())})};i()},o.forEachSeries=o.eachSeries,o.eachLimit=function(e,t,n,r){var i=f(t);i.apply(null,[e,n,r])},o.forEachLimit=o.eachLimit;var f=function(e){return function(t,n,r){if(r=r||function(){},!t.length||0>=e)return r();var i=0,o=0,s=0;!function a(){if(i>=t.length)return r();for(;e>s&&o<t.length;)o+=1,s+=1,n(t[o-1],function(e){e?(r(e),r=function(){}):(i+=1,s-=1,i>=t.length?r():a())})}()}},h=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[o.each].concat(t))}},p=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[f(e)].concat(n))}},m=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[o.eachSeries].concat(t))}},v=function(e,t,n,r){if(t=c(t,function(e,t){return{index:t,value:e}}),r){var i=[];e(t,function(e,t){n(e.value,function(n,r){i[e.index]=r,t(n)})},function(e){r(e,i)})}else e(t,function(e,t){n(e.value,function(e){t(e)})})};o.map=h(v),o.mapSeries=m(v),o.mapLimit=function(e,t,n,r){return b(t)(e,n,r)};var b=function(e){return p(e,v)};o.reduce=function(e,t,n,r){o.eachSeries(e,function(e,r){n(t,e,function(e,n){t=n,r(e)})},function(e){r(e,t)})},o.inject=o.reduce,o.foldl=o.reduce,o.reduceRight=function(e,t,n,r){var i=c(e,function(e){return e}).reverse();o.reduce(i,t,n,r)},o.foldr=o.reduceRight;var g=function(e,t,n,r){var i=[];t=c(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n&&i.push(e),t()})},function(e){r(c(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};o.filter=h(g),o.filterSeries=m(g),o.select=o.filter,o.selectSeries=o.filterSeries;var y=function(e,t,n,r){var i=[];t=c(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n||i.push(e),t()})},function(e){r(c(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};o.reject=h(y),o.rejectSeries=m(y);var w=function(e,t,n,r){e(t,function(e,t){n(e,function(n){n?(r(e),r=function(){}):t()})},function(e){r()})};o.detect=h(w),o.detectSeries=m(w),o.some=function(e,t,n){o.each(e,function(e,r){t(e,function(e){e&&(n(!0),n=function(){}),r()})},function(e){n(!1)})},o.any=o.some,o.every=function(e,t,n){o.each(e,function(e,r){t(e,function(e){e||(n(!1),n=function(){}),r()})},function(e){n(!0)})},o.all=o.every,o.sortBy=function(e,t,n){o.map(e,function(e,n){t(e,function(t,r){t?n(t):n(null,{value:e,criteria:r})})},function(e,t){if(e)return n(e);var r=function(e,t){var n=e.criteria,r=t.criteria;return r>n?-1:n>r?1:0};n(null,c(t.sort(r),function(e){return e.value}))})},o.auto=function(e,t){t=t||function(){};var n=d(e),r=n.length;if(!r)return t();var i={},s=[],c=function(e){s.unshift(e)},f=function(e){for(var t=0;t<s.length;t+=1)if(s[t]===e)return void s.splice(t,1)},h=function(){r--,u(s.slice(0),function(e){e()})};c(function(){if(!r){var e=t;t=function(){},e(null,i)}}),u(n,function(n){var r=a(e[n])?e[n]:[e[n]],s=function(e){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1&&(r=r[0]),e){var s={};u(d(i),function(e){s[e]=i[e]}),s[n]=r,t(e,s),t=function(){}}else i[n]=r,o.setImmediate(h)},p=r.slice(0,Math.abs(r.length-1))||[],m=function(){return l(p,function(e,t){return e&&i.hasOwnProperty(t)},!0)&&!i.hasOwnProperty(n)};if(m())r[r.length-1](s,i);else{var v=function(){m()&&(f(v),r[r.length-1](s,i))};c(v)}})},o.retry=function(e,t,n){var r=5,i=[];"function"==typeof e&&(n=t,t=e,e=r),e=parseInt(e,10)||r;var s=function(r,s){for(var a=function(e,t){return function(n){e(function(e,r){n(!e||t,{err:e,result:r})},s)}};e;)i.push(a(t,!(e-=1)));o.series(i,function(e,t){t=t[t.length-1],(r||n)(t.err,t.result)})};return n?s():s},o.waterfall=function(e,t){if(t=t||function(){},!a(e)){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();var r=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var i=Array.prototype.slice.call(arguments,1),s=e.next();i.push(s?r(s):t),o.setImmediate(function(){e.apply(null,i)})}}};r(o.iterator(e))()};var _=function(e,t,n){if(n=n||function(){},a(t))e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var r={};e.each(d(t),function(e,n){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[e]=i,n(t)})},function(e){n(e,r)})}};o.parallel=function(e,t){_({map:o.map,each:o.each},e,t)},o.parallelLimit=function(e,t,n){_({map:b(t),each:f(t)},e,n)},o.series=function(e,t){if(t=t||function(){},a(e))o.mapSeries(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},t);else{var n={};o.eachSeries(d(e),function(t,r){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[t]=i,r(e)})},function(e){t(e,n)})}},o.iterator=function(e){var t=function(n){var r=function(){return e.length&&e[n].apply(null,arguments),r.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r};return t(0)},o.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var x=function(e,t,n,r){var i=[];e(t,function(e,t){n(e,function(e,n){i=i.concat(n||[]),t(e)})},function(e){r(e,i)})};o.concat=h(x),o.concatSeries=m(x),o.whilst=function(e,t,n){e()?t(function(r){return r?n(r):void o.whilst(e,t,n)}):n()},o.doWhilst=function(e,t,n){e(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);t.apply(null,i)?o.doWhilst(e,t,n):n()})},o.until=function(e,t,n){e()?n():t(function(r){return r?n(r):void o.until(e,t,n)})},o.doUntil=function(e,t,n){e(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);t.apply(null,i)?n():o.doUntil(e,t,n)})},o.queue=function(e,t){function r(e,t,n,r){return e.started||(e.started=!0),a(t)||(t=[t]),0==t.length?o.setImmediate(function(){e.drain&&e.drain()}):void u(t,function(t){var i={data:t,callback:"function"==typeof r?r:null};n?e.tasks.unshift(i):e.tasks.push(i),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),o.setImmediate(e.process)})}void 0===t&&(t=1);var i=0,s={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(e,t){r(s,e,!1,t)},kill:function(){s.drain=null,s.tasks=[]},unshift:function(e,t){r(s,e,!0,t)},process:function(){if(!s.paused&&i<s.concurrency&&s.tasks.length){var t=s.tasks.shift();s.empty&&0===s.tasks.length&&s.empty(),i+=1;var r=function(){i-=1,t.callback&&t.callback.apply(t,arguments),s.drain&&s.tasks.length+i===0&&s.drain(),s.process()},o=n(r);e(t.data,o)}},length:function(){return s.tasks.length},running:function(){return i},idle:function(){return s.tasks.length+i===0},pause:function(){s.paused!==!0&&(s.paused=!0)},resume:function(){if(s.paused!==!1){s.paused=!1;for(var e=1;e<=s.concurrency;e++)o.setImmediate(s.process)}}};return s},o.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}function r(e,t,n){for(var r=-1,i=e.length-1;i>r;){var o=r+(i-r+1>>>1);n(t,e[o])>=0?r=o:i=o-1}return r}function i(e,t,i,s){return e.started||(e.started=!0),a(t)||(t=[t]),0==t.length?o.setImmediate(function(){e.drain&&e.drain()}):void u(t,function(t){var a={data:t,priority:i,callback:"function"==typeof s?s:null};e.tasks.splice(r(e.tasks,a,n)+1,0,a),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),o.setImmediate(e.process)})}var s=o.queue(e,t);return s.push=function(e,t,n){i(s,e,t,n)},delete s.unshift,s},o.cargo=function(e,t){var n=!1,r=[],i={tasks:r,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(e,n){a(e)||(e=[e]),u(e,function(e){r.push({data:e,callback:"function"==typeof n?n:null}),i.drained=!1,i.saturated&&r.length===t&&i.saturated()}),o.setImmediate(i.process)},process:function s(){if(!n){if(0===r.length)return i.drain&&!i.drained&&i.drain(),void(i.drained=!0);var o="number"==typeof t?r.splice(0,t):r.splice(0,r.length),a=c(o,function(e){return e.data});i.empty&&i.empty(),n=!0,e(a,function(){n=!1;var e=arguments;u(o,function(t){t.callback&&t.callback.apply(null,e)}),s()})}},length:function(){return r.length},running:function(){return n}};return i};var k=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&u(n,function(t){console[e](t)}))}]))}};o.log=k("log"),o.dir=k("dir"),o.memoize=function(e,t){var n={},r={};t=t||function(e){return e};var i=function(){var i=Array.prototype.slice.call(arguments),s=i.pop(),a=t.apply(null,i);a in n?o.nextTick(function(){s.apply(null,n[a])}):a in r?r[a].push(s):(r[a]=[s],e.apply(null,i.concat([function(){n[a]=arguments;var e=r[a];delete r[a];for(var t=0,i=e.length;i>t;t++)e[t].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=e,i},o.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},o.times=function(e,t,n){for(var r=[],i=0;e>i;i++)r.push(i);return o.map(r,t,n)},o.timesSeries=function(e,t,n){for(var r=[],i=0;e>i;i++)r.push(i);return o.mapSeries(r,t,n)},o.seq=function(){var e=arguments;return function(){var t=this,n=Array.prototype.slice.call(arguments),r=n.pop();o.reduce(e,n,function(e,n,r){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);r(e,t)}]))},function(e,n){r.apply(t,[e].concat(n))})}},o.compose=function(){return o.seq.apply(null,Array.prototype.reverse.call(arguments))};var S=function(e,t){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return e(t,function(e,t){e.apply(n,r.concat([t]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};o.applyEach=h(S),o.applyEachSeries=m(S),o.forever=function(e,t){function n(r){if(r){if(t)return t(r);throw r}e(n)}n()},"undefined"!=typeof t&&t.exports?t.exports=o:"undefined"!=typeof define&&define.amd?define([],function(){return o}):r.async=o}()}).call(this,e("_process"))},{_process:"/Users/andersriutta/Sites/kaavio/node_modules/workflow-bob/node_modules/browserify/node_modules/process/browser.js"}]},{},["./index.js"]);
//# sourceMappingURL=kaavio.bundle.min.js.map